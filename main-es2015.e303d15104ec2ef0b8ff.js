(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("mrSG"),s=n("q/0M"),a=n("zVF4"),l=n("x7I3"),u=r.SDK_VERSION,c=new s.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function d(){return c.logLevel===s.LogLevel.DEBUG?h.DEBUG:c.logLevel===s.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=s.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=s.LogLevel.ERROR;break;case h.SILENT:c.logLevel=s.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(c.logLevel<=s.LogLevel.DEBUG){var r=n.map(g);c.debug.apply(c,o.__spreadArrays(["Firestore ("+u+") ["+t+"]: "+e],r))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.ERROR){var i=e.map(g);c.error.apply(c,o.__spreadArrays(["Firestore ("+u+"): "+t],i))}}function g(t){if("string"==typeof t)return t;var e=_.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function v(t,e){t||y(e)}var _=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function b(){return _.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var i=t.call(this,n)||this;return i.code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return o.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(w.INVALID_ARGUMENT,t)}for(var i in n.prototype=t.prototype,t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){return void 0!==t?t:e}function k(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Number(n);isNaN(i)||e(i,t[n])}}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function P(t,e){if(0!==e.length)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function I(t,e,n){if(e.length!==n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function M(t,e,n){if(e.length<n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function A(t,e,n,i){if(e.length<n||e.length>i)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+Q(e.length,"argument")+".")}function N(t,e,n,i){U(t,e,K(n)+" argument",i)}function R(t,e,n,i){void 0!==i&&N(t,e,n,i)}function D(t,e,n,i){U(t,e,n+" option",i)}function L(t,e,n,i){void 0!==i&&D(t,e,n,i)}function F(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],s=0,a=r;s<a.length;s++){var l=a[s];if(l===i)return;o.push(B(l))}var u=B(i);throw new C(w.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function V(t,e,n,i){if(!e.some((function(t){return t===i})))throw new C(w.INVALID_ARGUMENT,"Invalid value "+B(i)+" provided to function "+t+"() for its "+K(n)+" argument. Acceptable values: "+e.join(", "))}function U(t,e,n,i){if(!("object"===e?q(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=B(i);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function q(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function j(t,e,n){if(void 0===n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+K(e)+" argument, but it was undefined.")}function z(t,e,n){T(e,(function(e,i){if(n.indexOf(e)<0)throw new C(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function W(t,e,n,i){var r=B(i);return new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+K(n)+" argument to be a "+e+", but it was: "+r)}function H(t,e,n){if(n<=0)throw new C(w.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+K(e)+" argument to be a positive number, but it was: "+n+".")}function K(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function $(t,e){return t<e?-1:t>e?1:0}function Y(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function X(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new C(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J(){if(!_.getPlatform().base64Available)throw new C(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tt=function(){function t(t){J(),this._binaryString=t}return t.fromBase64String=function(e){I("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,e),J();try{var n=_.getPlatform().atob(e);return new t(n)}catch(i){throw new C(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+i)}},t.fromUint8Array=function(e){if(I("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,(function(t){return String.fromCharCode(t)})).join("");return new t(n)},t.prototype.toBase64=function(){return I("Blob.toBase64",arguments,0),J(),_.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){I("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return $(this._binaryString,t._binaryString)},t}(),et=E(tt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),nt=function(){return function(t,e,n,i,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r}}(),it="(default)",rt=function(){function t(t,e){this.projectId=t,this.database=e||it}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===it},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return $(this.projectId,t.projectId)||$(this.database,t.database)},t}(),ot=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),st=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return v(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.EMPTY_PATH=new e([]),e}(st),lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(st),ct=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),ht=function(){return function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}}(),dt=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction",t}({}),pt=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),ft=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(t){})):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var r=pt.createAndSchedule(this,t,e,n,(function(t){return i.removeDelayedOperation(t)}));return this.delayedOperations.push(r),r},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){v(t===dt.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,i=e.delayedOperations;n<i.length;n++){var r=i[n];if(r.skipDelay(),t!==dt.All&&r.timerId===t)break}return e.drain()}))},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),mt="\x01",gt="\x01",yt="\x10",vt="\x11";function _t(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wt(e)),e=bt(t.get(n),e);return wt(e)}function bt(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+=mt+yt;break;case mt:n+=mt+vt;break;default:n+=o}}return n}function wt(t){return t+mt+gt}function Ct(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===mt&&t.charAt(1)===gt,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf(mt,o);switch((s<0||s>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case gt:var a=t.substring(o,s),l=void 0;0===r.length?l=a:(l=r+=a,r=""),i.push(l);break;case yt:r+=t.substring(o,s),r+="\0";break;case vt:r+=t.substring(o,s+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=s+2}return new at(i)}var Et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?$(this.nanoseconds,t.nanoseconds):$(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),xt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Et(0,0)),t}(),St=function(){function t(t,e){this.comparator=t,this.root=e||Tt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new kt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new kt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new kt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new kt(this.root,t,this.comparator,!0)},t}(),kt=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),Ot=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Tt.EMPTY=new Ot;var Pt=function(){function t(t){this.comparator=t,this.data=new St(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new It(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new It(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),It=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Mt=new St(ct.comparator);function At(){return Mt}function Nt(){return At()}var Rt=new St(ct.comparator);function Dt(){return Rt}var Lt=new St(ct.comparator);function Ft(){return Lt}var Vt=new Pt(ct.comparator);function Ut(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vt,i=0,r=t;i<r.length;i++)n=n.add(r[i]);return n}var qt=new Pt($);function Bt(){return qt}var jt=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i,v(i.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var i=n.mutationResults;v(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,i[r]))}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime));for(var r=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.applyToLocalView(e,r,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.applyToLocalView(i.key,t.get(i.key));r&&(n=n.insert(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ut())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations)&&Y(this.baseMutations,t.baseMutations)},t}(),zt=function(){function t(t,e,n,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=i,this.docVersions=r}return t.from=function(e,n,i,r){v(e.mutations.length===i.length,"Mutations sent "+e.mutations.length+" must equal results received "+i.length);for(var o=Ft(),s=e.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new t(e,n,i,r,o)},t}(),Wt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)},t}(),Ht="SimpleDb",Kt=function(){function t(e){this.db=e,12.2===t.getIOSVersion(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,i){return v(t.isAvailable(),"IndexedDB not supported in current environment."),f(Ht,"Opening database:",e),new Wt((function(r,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){r(new t(e.target.result))},s.onblocked=function(){o(new C(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){f(Ht,'Database "'+e+'" requires upgrade from version:',t.oldVersion),i.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,en).next((function(){f(Ht,"Database upgrade to version "+en+" complete")}))}})).toPromise()},t.delete=function(t){return f(Ht,"Removing database:",t),Yt(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.getIOSVersion(e),i=0<n&&n<10,r=t.getAndroidVersion(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.isMockPersistence=function(){return"undefined"!=typeof process&&"YES"===process.env.USE_MOCK_PERSISTENCE},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,s,a,l,u;return o.__generator(this,(function(c){switch(c.label){case 0:i=t.startsWith("readonly"),r=t.endsWith("idempotent"),s=0,a=function(){var t,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:++s,t=Gt.open(l.db,i?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),Wt.reject(e)})).toPromise()).catch((function(){})),[4,t.completionPromise];case 2:return o.sent(),[2,{value:a}];case 3:return u=o.sent(),f(Ht,"Transaction failed with error: %s. Retrying: %s.",u.message,c=r&&"FirebaseError"!==u.name&&s<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},l=this,c.label=1;case 1:return[5,a()];case 2:return"object"==typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Qt=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Yt(this.dbCursor.delete())},t}(),Gt=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ht,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=Zt(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f(Ht,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new $t(e)},t}(),$t=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f(Ht,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(f(Ht,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Yt(n)},t.prototype.add=function(t){return f(Ht,"ADD",this.store.name,t,t),Yt(this.store.add(t))},t.prototype.get=function(t){var e=this;return Yt(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f(Ht,"GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f(Ht,"DELETE",this.store.name,t),Yt(this.store.delete(t))},t.prototype.count=function(){return f(Ht,"COUNT",this.store.name),Yt(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.iterateCursor(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.deleteAll=function(t,e){f(Ht,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var i=this.cursor(n);return this.iterateCursor(i,(function(t,e,n){return n.delete()}))},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.iterateCursor(i,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Wt((function(n,i){e.onerror=function(t){var e=Zt(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.iterateCursor=function(t,e){var n=[];return new Wt((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Qt(r),s=e(r.primaryKey,r.value,o);if(s instanceof Wt){var a=s.catch((function(t){return o.done(),Wt.reject(t)}));n.push(a)}o.isDone?i():null===o.skipToKey?r.continue():r.continue(o.skipToKey)}else i()}})).next((function(){return Wt.waitFor(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Yt(t){return new Wt((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Zt(t.target.error);n(e)}}))}var Xt=!1;function Zt(t){var e=Kt.getIOSVersion(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xt||(Xt=!0,setTimeout((function(){throw i}),0)),i}}return t}var Jt=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=i,this.documentKeysByBatchId={}}return t.forUser=function(e,n,i,r){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ie(t).iterate({index:an.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=ne(n),oe(t).put(e)}))},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=ne(e),oe(t).put(n)}))},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=re(t),s=ie(t);return s.add({}).next((function(a){v("number"==typeof a,"Auto-generated key is not a number");for(var l=new jt(a,e,n,i),u=r.serializer.toDbMutationBatch(r.userId,l),c=[],h=new Pt((function(t,e){return $(t.canonicalString(),e.canonicalString())})),d=0,p=i;d<p.length;d++){var f=p[d],m=ln.key(r.userId,f.key.path,a);h=h.add(f.key.path.popLast()),c.push(s.put(u)),c.push(o.put(m,ln.PLACEHOLDER))}return h.forEach((function(e){c.push(r.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){r.documentKeysByBatchId[a]=l.keys()})),Wt.waitFor(c).next((function(){return l}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ie(t).get(e).next((function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Wt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var i=t.keys();return n.documentKeysByBatchId[e]=i,i}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return ie(t).iterate({index:an.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(v(e.batchId>=i,"Should have found mutation after "+i),o=n.serializer.fromDbMutationBatch(e)),r.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ie(t).iterate({index:an.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ie(t).loadAll(an.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=ln.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return re(t).iterate({range:r},(function(i,r,s){var a=i[0],l=i[2],u=Ct(i[1]);if(a===n.userId&&e.path.isEqual(u))return ie(t).get(l).next((function(t){if(!t)throw y("Dangling document-mutation reference found: "+i+" which points to "+l);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Pt($),r=[];return e.forEach((function(e){var o=ln.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=re(t).iterate({range:s},(function(t,r,o){var s=t[0],a=t[2],l=Ct(t[1]);s===n.userId&&e.path.isEqual(l)?i=i.add(a):o.done()}));r.push(a)})),Wt.waitFor(r).next((function(){return n.lookupMutationBatches(t,i)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,r=i.length+1,o=ln.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new Pt($);return re(t).iterate({range:s},(function(t,e,o){var s=t[0],l=t[2],u=Ct(t[1]);s===n.userId&&i.isPrefixOf(u)?u.length===r&&(a=a.add(l)):o.done()})).next((function(){return n.lookupMutationBatches(t,a)}))},t.prototype.lookupMutationBatches=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(ie(t).get(e).next((function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.push(n.serializer.fromDbMutationBatch(t))})))})),Wt.waitFor(r).next((function(){return i}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return ee(t.simpleDbTransaction,this.userId,e).next((function(i){return t.addOnCommittedListener((function(){n.removeCachedMutationKeys(e.batchId)})),Wt.forEach(i,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Wt.resolve();var i=IDBKeyRange.lowerBound(ln.prefixForUser(e.userId)),r=[];return re(t).iterate({range:i},(function(t,n,i){if(t[0]===e.userId){var o=Ct(t[1]);r.push(o)}else i.done()})).next((function(){v(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(t){return t.canonicalString()})))}))}))},t.prototype.containsKey=function(t,e){return te(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return oe(t).get(this.userId).next((function(t){return t||new sn(e.userId,-1,"")}))},t}();function te(t,e,n){var i=ln.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return re(t).iterate({range:o,keysOnly:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(s=!0),i.done()})).next((function(){return s}))}function ee(t,e,n){var i=t.store(an.store),r=t.store(ln.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=i.iterate({range:s},(function(t,e,n){return a++,n.delete()}));o.push(l.next((function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=ln.key(e,d.key.path,n.batchId);o.push(r.delete(p)),u.push(d.key)}return Wt.waitFor(o).next((function(){return u}))}function ne(t){return t instanceof Uint8Array?(v(Kt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function ie(t){return Vn.getStore(t,an.store)}function re(t){return Vn.getStore(t,ln.store)}function oe(t){return Vn.getStore(t,sn.store)}var se=1,ae=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),le=function(){function t(t,e){this.generatorId=t,v((t&se)===t,"Generator ID "+t+" contains more than "+se+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<se,t},t.prototype.after=function(t){return this.seek(t+(1<<se)),this.next()},t.prototype.seek=function(t){v((t&se)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forTargetCache=function(){return new t(ae.QueryCache,2)},t.forSyncEngine=function(){return new t(ae.SyncEngine)},t}(),ue=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=le.forTargetCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return xt.fromTimestamp(new Et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return de(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.retrieveMetadata(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.saveMetadata(t,r)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.saveTargetData(t,e).next((function(){return n.retrieveMetadata(t).next((function(i){return i.targetCount+=1,n.updateMetadataFromTargetData(e,i),n.saveMetadata(t,i)}))}))},t.prototype.updateTargetData=function(t,e){return this.saveTargetData(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return ce(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return v(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return ce(t).iterate((function(s,a){var l=i.serializer.fromDbTarget(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r++,o.push(i.removeTargetData(t,l)))})).next((function(){return Wt.waitFor(o)})).next((function(){return r}))},t.prototype.forEachTarget=function(t,e){var n=this;return ce(t).iterate((function(t,i){var r=n.serializer.fromDbTarget(i);e(r)}))},t.prototype.retrieveMetadata=function(t){return he(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Vn.getStore(n,mn.store)).put(mn.key,e);var n},t.prototype.saveTargetData=function(t,e){return ce(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromTargetData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return ce(t).iterate({range:r,index:pn.queryTargetsIndexName},(function(t,i,r){var s=n.serializer.fromDbTarget(i);e.isEqual(s.target)&&(o=s,r.done())})).next((function(){return o}))},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=pe(t);return e.forEach((function(e){var s=_t(e.path);r.push(o.put(new fn(n,s))),r.push(i.referenceDelegate.addReference(t,e))})),Wt.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=pe(t);return Wt.forEach(e,(function(e){var o=_t(e.path);return Wt.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pe(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=pe(t),r=Ut();return i.iterate({range:n,keysOnly:!0},(function(t,e,n){var i=Ct(t[1]),o=new ct(i);r=r.add(o)})).next((function(){return r}))},t.prototype.containsKey=function(t,e){var n=_t(e.path),i=IDBKeyRange.bound([n],[X(n)],!1,!0),r=0;return pe(t).iterate({index:fn.documentTargetsIndex,keysOnly:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.getTargetDataForTarget=function(t,e){var n=this;return ce(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},t}();function ce(t){return Vn.getStore(t,pn.store)}function he(t){return Kt.getStore(t,mn.store).get(mn.key).next((function(t){return v(null!==t,"Missing metadata row."),t}))}function de(t){return he(t).next((function(t){return t.highestListenSequenceNumber}))}function pe(t){return Vn.getStore(t,fn.store)}var fe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new Pt(ut.comparator);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),me=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ge=function(){return function(t,e){this.version=t,this.transformResults=e}}(),ye=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ve=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ze&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ze:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),_e=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ze?t.version:xt.MIN},t}(),be=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.value=n,r.precondition=i,r.type=ye.Set,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation."),new ze(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=_e.getPostMutationVersion(t);return new ze(this.key,i,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(_e),we=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=i,o.precondition=r,o.type=ye.Patch,o}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new He(this.key,e.version);var n=this.patchDocument(t);return new ze(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=_e.getPostMutationVersion(t),r=this.patchDocument(t);return new ze(this.key,i,{hasLocalMutations:!0},r)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ze?t.data():qe.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=e.data.field(n);t=null!==i?t.set(n,i):t.delete(n)}})),t},e}(_e),Ce=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.fieldTransforms=n,i.type=ye.Transform,i.precondition=ve.exists(!0),i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new He(this.key,e.version);var n=this.requireDocument(t),i=this.serverTransformResults(t,e.transformResults),r=e.version,o=this.transformObject(n.data(),i);return new ze(this.key,r,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=this.requireDocument(t),r=this.localTransformResults(n,t,e),o=this.transformObject(i.data(),r);return new ze(this.key,i.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=t instanceof ze?t.field(r.field):void 0,s=r.transform.computeBaseValue(o||null);null!=s&&(e=null==e?qe.EMPTY.set(r.field,s):e.set(r.field,s))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Y(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof ze,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,s=null;t instanceof ze&&(s=t.field(r.field)),n.push(o.applyToRemoteDocument(s,e[i]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var s=o[r],a=s.transform,l=null;e instanceof ze&&(l=e.field(s.field)),null===l&&n instanceof ze&&(l=n.field(s.field)),i.push(a.applyToLocalView(l,t))}return i},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(_e),Ee=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.precondition=n,i.type=ye.Delete,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new We(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new We(this.key,xt.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(_e),xe=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),Se=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),ke=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Se.Estimate,n);case"previous":return new t(Se.Previous,n);case"none":case void 0:return new t(Se.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),Te=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),$(this.typeOrder,t.typeOrder)},t}(),Oe=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=xe.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Te),Pe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?$(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Te),Ie=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(i=t.internalValue)?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1:this.defaultCompareTo(t);var n,i},e}(Te);function Me(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Me(this.internalValue,t.internalValue)},e}(Ie),Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Me(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ie),Re=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?$(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Te),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Le?-1:this.defaultCompareTo(t)},e}(Te),Le=function(t){function e(e,n){var i=t.call(this)||this;return i.localWriteTime=e,i.previousValue=n,i.typeOrder=xe.TimestampValue,i}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Se.Estimate?new De(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Se.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof De?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Te),Fe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Te),Ve=function(t){function e(e,n){var i=t.call(this)||this;return i.databaseId=e,i.key=n,i.typeOrder=xe.RefValue,i}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ct.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Te),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Te),qe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,i){e[n]=i.value(t)})),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext();if(r.key!==o.key||!r.value.isEqual(o.value))return!1}return!n.hasNext()&&!i.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext(),s=$(r.key,o.key)||r.value.compareTo(o.value);if(s)return s}return $(n.hasNext(),i.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var i=this.child(t.firstSegment());i instanceof e||(i=e.EMPTY);var r=i.set(t.popFirst(),n);return this.setChild(t.firstSegment(),r)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var i=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),i))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.internalValue.get(t):null})),n},e.prototype.fieldMask=function(){var t=new Pt(ut.comparator);return this.internalValue.forEach((function(n,i){var r=new ut([n]);if(i instanceof e){var o=i.fieldMask().fields;o.isEmpty()?t=t.add(r):o.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),fe.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new St($)),e}(Te),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=xe.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(t.internalValue[i]);if(r)return r}return $(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},e}(Te),je=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)},t}(),ze=function(t){function e(e,n,i,r,o,s){var a=t.call(this,e,n)||this;return a.objectValue=r,a.proto=o,a.converter=s,v(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return o.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var i=this.getProtoField(t);n=void 0===i?null:this.converter(i),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=qe.EMPTY;T(this.proto.fields||{},(function(n,i){e=e.set(new ut([n]),t.converter(i))})),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?i.compareTo(r):y("Trying to compare documents on fields that don't exist")},e}(je),We=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(je),He=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(je),Ke=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){T(this.inner,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return O(this.inner)},t}(),Qe=function(){function t(){this.changes=new Ke((function(t){return t.toString()})),this.changesApplied=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return v(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){v(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},t.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Wt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){v(!this.changesApplied,"Changes have already been applied.")},t}(),Ge=function(){function t(t,e){this.serializer=t,this.indexManager=e}return t.prototype.addEntry=function(t,e,n){return Ye(t).put(Xe(e),n)},t.prototype.removeEntry=function(t,e){var n=Ye(t),i=Xe(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.setMetadata(t,i)}))},t.prototype.getEntry=function(t,e){var n=this;return Ye(t).get(Xe(e)).next((function(t){return n.maybeDecodeDocument(t)}))},t.prototype.getSizedEntry=function(t,e){var n=this;return Ye(t).get(Xe(e)).next((function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:Ze(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Nt();return this.forEachDbEntry(t,e,(function(t,e){var r=n.maybeDecodeDocument(e);i=i.insert(t,r)})).next((function(){return i}))},t.prototype.getSizedEntries=function(t,e){var n=this,i=Nt(),r=new St(ct.comparator);return this.forEachDbEntry(t,e,(function(t,e){var o=n.maybeDecodeDocument(e);o?(i=i.insert(t,o),r=r.insert(t,Ze(e))):(i=i.insert(t,null),r=r.insert(t,0))})).next((function(){return{maybeDocuments:i,sizeMap:r}}))},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Wt.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return Ye(t).iterate({range:i},(function(t,e,i){for(var s=ct.fromSegments(t);o&&ct.comparator(o,s)<0;)n(o,null),o=r.getNext();o&&o.isEqual(s)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.skip(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Dt(),o=e.path.length+1,s={};if(n.isEqual(xt.MIN)){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.toArray(),u=this.serializer.toDbTimestampKey(n);s.range=IDBKeyRange.lowerBound([l,u],!0),s.index=hn.collectionReadTimeIndex}return Ye(t).iterate(s,(function(t,n,s){if(t.length===o){var a=i.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(a.key.path)?a instanceof ze&&e.matches(a)&&(r=r.insert(a.key,a)):s.done()}})).next((function(){return r}))},t.prototype.getNewDocumentChanges=function(t,e){var n=this,i=At(),r=this.serializer.toDbTimestampKey(e),o=Ye(t),s=IDBKeyRange.lowerBound(r,!0);return o.iterate({index:hn.readTimeIndex,range:s},(function(t,e){var o=n.serializer.fromDbRemoteDocument(e);i=i.insert(o.key,o),r=e.readTime})).next((function(){return{changedDocs:i,readTime:n.serializer.fromDbTimestampKey(r)}}))},t.prototype.getLastDocumentChange=function(t){var e,n=this,i=Ye(t),r=xt.MIN;return i.iterate({index:hn.readTimeIndex,reverse:!0},(function(t,i,o){e=n.serializer.fromDbRemoteDocument(i),i.readTime&&(r=n.serializer.fromDbTimestampKey(i.readTime)),o.done()})).next((function(){return{changedDoc:e,readTime:r}}))},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return $e(t).get(dn.key).next((function(t){return v(!!t,"Missing document cache metadata"),t}))},t.prototype.setMetadata=function(t,e){return $e(t).put(dn.key,e)},t.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof We&&e.version.isEqual(xt.forDeletedDoc())?null:e}return null},t.RemoteDocumentChangeBuffer=function(t){function e(e,n){var i=t.call(this)||this;return i.documentCache=e,i.trackRemovals=n,i.documentSizes=new Ke((function(t){return t.toString()})),i}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new Pt((function(t,e){return $(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.documentSizes.get(o);if(v(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){v(!e.readTime.isEqual(xt.MIN),"Cannot add a document with a read time of zero");var l=e.documentCache.serializer.toDbRemoteDocument(s,e.readTime);r=r.add(o.path.popLast());var u=Ze(l);i+=u-a,n.push(e.documentCache.addEntry(t,o,l))}else if(i-=a,e.trackRemovals){var c=e.documentCache.serializer.toDbRemoteDocument(new We(o,xt.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,o,c))}else n.push(e.documentCache.removeEntry(t,o))})),r.forEach((function(i){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,i))})),n.push(this.documentCache.updateMetadata(t,i)),Wt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},e}(Qe),t}();function $e(t){return Vn.getStore(t,dn.store)}function Ye(t){return Vn.getStore(t,hn.store)}function Xe(t){return t.path.toArray()}function Ze(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Je=function(){function t(){this.collectionParentIndex=new tn}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Wt.resolve()},t.prototype.getCollectionParents=function(t,e){return Wt.resolve(this.collectionParentIndex.getEntries(e))},t}(),tn=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Pt(at.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Pt(at.comparator)).toArray()},t}(),en=9,nn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;v(n<i&&n>=0&&i<=en,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Gt(e);n<1&&i>=1&&(function(t){t.createObjectStore(on.store)}(t),function(t){t.createObjectStore(sn.store,{keyPath:sn.keyPath}),t.createObjectStore(an.store,{keyPath:an.keyPath,autoIncrement:!0}).createIndex(an.userMutationsIndex,an.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ln.store)}(t),yn(t),function(t){t.createObjectStore(hn.store)}(t));var s=Wt.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(fn.store),t.deleteObjectStore(pn.store),t.deleteObjectStore(mn.store)}(t),yn(t)),s=s.next((function(){return function(t){var e=t.store(mn.store),n=new mn(0,0,xt.MIN.toTimestamp(),0);return e.put(mn.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(an.store).loadAll().next((function(n){t.deleteObjectStore(an.store),t.createObjectStore(an.store,{keyPath:an.keyPath,autoIncrement:!0}).createIndex(an.userMutationsIndex,an.userMutationsKeyPath,{unique:!0});var i=e.store(an.store),r=n.map((function(t){return i.put(t)}));return Wt.waitFor(r)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(vn.store,{keyPath:vn.keyPath})}(t)}))),n<5&&i>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(s=s.next((function(){return function(t){t.createObjectStore(dn.store)}(t),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,o)}))),n<9&&i>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hn.store);e.createIndex(hn.readTimeIndex,hn.readTimeIndexPath,{unique:!1}),e.createIndex(hn.collectionReadTimeIndex,hn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hn.store).iterate((function(t,n){e+=Ze(n)})).next((function(){var n=new dn(e);return t.store(dn.store).put(dn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(sn.store),i=t.store(an.store);return n.loadAll().next((function(n){return Wt.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.loadAll(an.userMutationsIndex,r).next((function(i){return Wt.forEach(i,(function(i){v(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=e.serializer.fromDbMutationBatch(i);return ee(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(fn.store),n=t.store(hn.store);return de(t).next((function(t){var i=[];return n.iterate((function(n,r){var o=new at(n),s=function(t){return[0,_t(t)]}(o);i.push(e.get(s).next((function(n){return n?Wt.resolve():function(n){return e.put(new fn(0,_t(n),t))}(o)})))})).next((function(){return Wt.waitFor(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(gn.store,{keyPath:gn.keyPath});var n=e.store(gn.store),i=new tn,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:_t(r)})}};return e.store(hn.store).iterate({keysOnly:!0},(function(t,e){var n=new at(t);return r(n.popLast())})).next((function(){return e.store(ln.store).iterate({keysOnly:!0},(function(t,e){var n=Ct(t[1]);return r(n.popLast())}))}))},t}(),rn=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),on=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),sn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),an=function(){function t(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),ln=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_t(e)]},t.key=function(t,e,n){return[t,_t(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),un=function(){return function(t,e){this.path=t,this.readTime=e}}(),cn=function(){return function(t,e){this.path=t,this.version=e}}(),hn=function(){function t(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),dn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),pn=function(){function t(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),fn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),mn=function(){function t(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),gn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function yn(t){t.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.queryTargetsIndexName,pn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mn.store)}var vn=function(){function t(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),_n=o.__spreadArrays([sn.store,an.store,ln.store,hn.store,pn.store,on.store,mn.store,fn.store],[vn.store]),bn=o.__spreadArrays(_n,[dn.store]),wn=o.__spreadArrays(bn,[gn.store]),Cn=function(){function t(){this.collectionParentsCache=new tn}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(v(e.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(e)){var i=e.lastSegment(),r=e.popLast();return t.addOnCommittedListener((function(){n.collectionParentsCache.add(e)})),En(t).put({collectionId:i,parent:_t(r)})}return Wt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return En(t).loadAll(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Ct(o.parent))}return n}))},t}();function En(t){return Vn.getStore(t,gn.store)}var xn=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Sn=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=xt.MIN),void 0===o&&(o=xt.MIN),void 0===s&&(s=b()),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.target.isEqual(t.target)},t}(),kn=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ct.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new We(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ct.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new He(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),i=t.key.path.popLast().toArray();if(t instanceof ze){var r=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new hn(null,null,r,a=t.hasCommittedMutations,n,i)}if(t instanceof We){var o=t.key.path.toArray(),s=this.toDbTimestamp(t.version),a=t.hasCommittedMutations;return new hn(null,new un(o,s),null,a,n,i)}if(t instanceof He){o=t.key.path.toArray();var l=this.toDbTimestamp(t.version);return new hn(new cn(o,l),null,null,!0,n,i)}return y("Unexpected MaybeDocument")},t.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},t.prototype.fromDbTimestampKey=function(t){var e=new Et(t[0],t[1]);return xt.fromTimestamp(e)},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new rn(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Et(t.seconds,t.nanoseconds);return xt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,i=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),r=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new an(t,e.batchId,e.localWriteTime.toMillis(),i,r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),i=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),r=Et.fromMillis(t.localWriteTimeMs);return new jt(t.batchId,r,n,i)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(_t(t.path))})),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ut(),n=0,i=t;n<i.length;n++)e=e.add(new ct(Ct(i[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):xt.MIN,r=t.resumeToken;return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Sn(e,t.targetId,xn.Listen,t.lastListenSequenceNumber,n,i,r)},t.prototype.toDbTarget=function(t){v(xn.Listen===t.purpose,"Only queries with purpose "+xn.Listen+" may be stored, got "+t.purpose);var e,n,i=this.toDbTimestamp(t.snapshotVersion),r=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.target):this.remoteSerializer.toQueryTarget(t.target),t.resumeToken instanceof Uint8Array?(v(Kt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new pn(t.targetId,t.target.canonicalId(),i,n,t.sequenceNumber,r,e)},t}();function Tn(t,e){var n=t[1],i=e[1],r=$(t[0],e[0]);return 0===r?$(n,i):r}var On=function(){function t(t){this.maxElements=t,this.buffer=new Pt(Tn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Tn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Pn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},In=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Mn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==In.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(dt.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(Un)}))},t}(),An=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Wt.resolve(ot.INVALID);var i=new On(e);return this.delegate.forEachTarget(t,(function(t){return i.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return i.addElement(t)}))})).next((function(){return i.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===In.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(Pn)):this.getCacheSize(t).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pn):n.runGarbageCollection(t,e)}))},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,i,r,o,s,a,l,u=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),i=u.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),u.nthSequenceNumber(t,i)})).next((function(i){return n=i,s=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return r=e,a=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return l=Date.now(),d()<=h.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+i+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),Wt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})}))},t}(),Nn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Rn="IndexedDbPersistence",Dn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ln="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Fn=function(t){function e(e,n){var i=t.call(this)||this;return i.simpleDbTransaction=e,i.currentSequenceNumber=n,i}return o.__extends(e,t),e}(Nn),Vn=function(){function t(e,n,i,r,o,s,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.queue=s,this.sequenceNumberSyncer=l,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new jn(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new kn(a),this.document=r.document,this.targetCache=new ue(this.referenceDelegate,this.serializer),this.indexManager=new Cn,this.remoteDocumentCache=new Ge(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Fn)return Kt.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:if(!t.isAvailable())throw new C(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return i.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),Kt.openOrCreate(this.dbName,en,new nn(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[mn.store],(function(t){return de(t)}))})).then((function(e){t.listenSequence=new ot(e,t.sequenceNumberSyncer)})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite-idempotent",wn,(function(e){return Bn(e).put(new vn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){return t.isPrimary&&!n?t.releasePrimaryLeaseIfHeld(e).next((function(){return!1})):!!n&&t.acquireOrExtendPrimaryLease(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return f(Rn,"Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(e)})),t.isPrimary=e}))},t.prototype.verifyPrimaryLease=function(t){var e=this;return qn(t).get(on.key).next((function(t){return Wt.resolve(e.isLocalClient(t))}))},t.prototype.removeClientMetadata=function(t){return Bn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var i=t.getStore(n,vn.store);return i.loadAll().next((function(t){var n=e.filterActiveClients(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Wt.forEach(r,(function(t){return i.delete(t.clientId)})).next((function(){return r}))}))}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.zombiedClientLocalStorageKey(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(dt.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return qn(t).get(on.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Ln);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bn(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&f(Rn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[on.store,vn.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[vn.store],(function(e){return Bn(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.isAvailable()?[4,Kt.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),Jt.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getTargetCache=function(){return v(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var i=this;f(Rn,"Starting transaction:",t);var r,o=e.endsWith("idempotent"),s=e.startsWith("readonly");return this.simpleDb.runTransaction(s?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite",wn,(function(o){return r=new Fn(o,i.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?i.verifyPrimaryLease(o).next((function(t){return!!t||i.canActAsPrimary(o)})).next((function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.queue.enqueueAndForget((function(){return i.primaryStateListener(!1)})),new C(w.FAILED_PRECONDITION,Dn);return n(r)})).next((function(t){return i.acquireOrExtendPrimaryLease(o).next((function(){return t}))})):i.verifyAllowTabSynchronization(o).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return qn(t).get(on.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Ln)}))},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new on(this.clientId,this.allowTabSynchronization,Date.now());return qn(t).put(on.key,e)},t.isAvailable=function(){return Kt.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=qn(t);return n.get(on.key).next((function(t){return e.isLocalClient(t)?(f(Rn,"Releasing primary lease."),n.delete(on.key)):Wt.resolve()}))},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(Rn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(Rn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Un(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Dn}(t))throw t;return f(Rn,"Unexpectedly lost primary lease"),[2]}))}))}function qn(t){return t.store(on.store)}function Bn(t){return t.store(vn.store)}var jn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new An(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zn(t,e)},t.prototype.removeReference=function(t,e){return zn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Wt.resolve(!0):function(t,e){var n=!1;return oe(t).iterateSerial((function(i){return te(t,i,e).next((function(t){return t&&(n=!0),Wt.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.forEachOrphanedDocument(t,(function(s,a){if(a<=e){var l=n.isPinned(t,s).next((function(e){if(!e)return o++,i.getEntry(t,s).next((function(){return i.removeEntry(s),pe(t).delete([0,_t(s.path)])}))}));r.push(l)}})).next((function(){return Wt.waitFor(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,i=pe(t),r=ot.INVALID;return i.iterate({index:fn.documentTargetsIndex},(function(t,i){var o=i.path,s=i.sequenceNumber;0===t[0]?(r!==ot.INVALID&&e(new ct(Ct(n)),r),r=s,n=o):r=ot.INVALID})).next((function(){r!==ot.INVALID&&e(new ct(Ct(n)),r)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zn(t,e){return pe(t).put(function(t,e){return new fn(0,_t(t.path),e)}(e,t.currentSequenceNumber))}var Wn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(i){return n.getDocumentInternal(t,e,i)}))},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].applyToLocalView(e,t);return t}))},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var i=Nt();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);i=i.insert(t,e)})),i},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(i){var r=n.applyLocalMutationsToDocuments(t,e,i),o=At();return r.forEach((function(t,e){e||(e=new We(t,xt.forDeletedDoc())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ct(e)).next((function(t){var e=Dt();return t instanceof ze&&(e=e.insert(t.key,t)),e}))},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var i=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,o=Dt();return this.indexManager.getCollectionParents(t,r).next((function(s){return Wt.forEach(s,(function(s){var a=e.asCollectionQueryAtPath(s.child(r));return i.getDocumentsMatchingCollectionQuery(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var i,r,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next((function(n){return i=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.addMissingBaseDocuments(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var l=a[s],u=l.key,c=i.get(u),h=l.applyToLocalView(c,c,o.localWriteTime);i=h instanceof ze?i.insert(u,h):i.remove(u)}}))})).next((function(){return i.forEach((function(t,n){e.matches(n)||(i=i.remove(t))})),i}))},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var i=Ut(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var l=a[s];l instanceof we&&null===n.get(l.key)&&(i=i.add(l.key))}var u=n;return this.remoteDocumentCache.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ze&&(u=u.insert(t,e))})),u}))},t}(),Hn=function(){function t(){this.refsByKey=new Pt(Kn.compareByKey),this.refsByTarget=new Pt(Kn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Kn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.removeRef(new Kn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.removeReferencesForId=function(t){var e=this,n=ct.EMPTY,i=new Kn(n,t),r=new Kn(n,t+1),o=[];return this.refsByTarget.forEachInRange([i,r],(function(t){e.removeRef(t),o.push(t.key)})),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ct.EMPTY,n=new Kn(e,t),i=new Kn(e,t+1),r=Ut();return this.refsByTarget.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.containsKey=function(t){var e=new Kn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Kn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)||$(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return $(t.targetOrBatchId,e.targetOrBatchId)||ct.comparator(t.key,e.key)},t}(),Qn=function(){function t(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new Hn,this.targetDataByTarget=new St($),this.targetIdByTarget=new Ke((function(t){return t.canonicalId()})),this.lastDocumentChangeReadTime=xt.MIN,v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.targetCache=t.getTargetCache(),this.localDocuments=new Wn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return t.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},t.prototype.handleUserChange=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(i){var o;return r.mutationQueue.getAllMutationBatches(i).next((function(s){return o=s,e=r.persistence.getMutationQueue(t),n=new Wn(r.remoteDocuments,e,r.persistence.getIndexManager()),e.getAllMutationBatches(i)})).next((function(t){for(var e=[],r=[],s=Ut(),a=0,l=o;a<l.length;a++){e.push((p=l[a]).batchId);for(var u=0,c=p.mutations;u<c.length;u++)s=s.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var p;r.push((p=d[h]).batchId);for(var f=0,m=p.mutations;f<m.length;f++)s=s.add(m[f].key)}return n.getDocuments(i,s).next((function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:r}}))}))}))];case 1:return i=o.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,i]}}))}))},t.prototype.localWrite=function(t){var e,n=this,i=Et.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Ut());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,r).next((function(r){e=r;for(var s=[],a=0,l=t;a<l.length;a++){var u=l[a],c=u.extractBaseValue(e.get(u.key));null!=c&&s.push(new we(u.key,c,c.fieldMask(),ve.exists(!0)))}return n.mutationQueue.addMutationBatch(o,i,s,t)}))})).then((function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}}))},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):Wt.resolve(null)}))}))},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var i=t.batch.keys(),r=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,r)})).next((function(){return r.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,i)}))}))},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var i;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),i=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,i)}))}))},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t.targetCache.getLastRemoteSnapshotVersion(e)}))},t.prototype.applyRemoteEvent=function(e){var n=this,i=e.snapshotVersion,r=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var s=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});r=n.targetDataByTarget;var a=[];k(e.targetChanges,(function(e,s){var l=r.get(e);if(l){a.push(n.targetCache.removeMatchingKeys(o,s.removedDocuments,e).next((function(){return n.targetCache.addMatchingKeys(o,s.addedDocuments,e)})));var u=s.resumeToken;if(u.length>0){var c=l.withResumeToken(u,i).withSequenceNumber(o.currentSequenceNumber);r=r.insert(e,c),t.shouldPersistTargetData(l,c,s)&&a.push(n.targetCache.updateTargetData(o,c))}}}));var l=At(),u=Ut();if(e.documentUpdates.forEach((function(t,e){u=u.add(t)})),a.push(s.getEntries(o,u).next((function(t){e.documentUpdates.forEach((function(r,u){var c=t.get(r);u instanceof We&&u.version.isEqual(xt.MIN)?(s.removeEntry(r,i),l=l.insert(r,u)):null==c||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(xt.MIN.isEqual(i)&&m("LocalStore","Cannot add a document when the remote version is zero"),s.addEntry(u,i),l=l.insert(r,u)):f("LocalStore","Ignoring outdated watch update for ",r,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,r))}))}))),!i.isEqual(xt.MIN)){var c=n.targetCache.getLastRemoteSnapshotVersion(o).next((function(t){return v(i.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.targetCache.setTargetsMetadata(o,o.currentSequenceNumber,i)}));a.push(c)}return Wt.waitFor(a).next((function(){return s.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,l)}))})).then((function(t){return n.targetDataByTarget=r,t}))},t.shouldPersistTargetData=function(t,e,n){return v(e.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,i=t;n<i.length;n++){var r=i[n],o=r.targetId;if(this.localViewReferences.addReferences(r.addedKeys,o),this.localViewReferences.removeReferences(r.removedKeys,o),!r.fromCache){var s=this.targetDataByTarget.get(o);v(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var a=s.withLastLimboFreeSnapshotVersion(s.snapshotVersion);this.targetDataByTarget=this.targetDataByTarget.insert(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return Wt.forEach(t,(function(t){return Wt.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.localDocuments.getDocument(n,t)}))},t.prototype.allocateTarget=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var i;return e.targetCache.getTargetData(n,t).next((function(r){return r?Wt.resolve(i=r):e.targetCache.allocateTargetId(n).next((function(r){return i=new Sn(t,r,xn.Listen,n.currentSequenceNumber),e.targetCache.addTargetData(n,i).next((function(){return i}))}))}))})).then((function(n){return null===e.targetDataByTarget.get(n.targetId)&&(e.targetDataByTarget=e.targetDataByTarget.insert(n.targetId,n),e.targetIdByTarget.set(t,n.targetId)),n}))},t.prototype.getTargetData=function(t,e){var n=this.targetIdByTarget.get(e);return void 0!==n?Wt.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(t,e)},t.prototype.releaseTarget=function(t,e){var n=this,i=this.targetDataByTarget.get(t);return i?this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(r){var o=n.localViewReferences.removeReferencesForId(t);return e?Wt.resolve():Wt.forEach(o,(function(t){return n.persistence.referenceDelegate.removeReference(r,t)})).next((function(){n.persistence.referenceDelegate.removeTarget(r,i)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(i.target)})):Promise.resolve()},t.prototype.executeQuery=function(t,e){var n=this,i=xt.MIN,r=Ut();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getTargetData(o,t.toTarget()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(o,t.targetId).next((function(t){r=t}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,t,e?i:xt.MIN,e?r:Ut())})).next((function(t){return{documents:t,remoteKeys:r}}))}))},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e.targetCache.getMatchingKeysForTargetId(n,t)}))},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var i=this,r=e.batch,o=r.keys(),s=Wt.resolve();return o.forEach((function(i){s=s.next((function(){return n.getEntry(t,i)})).next((function(t){var o=t,s=e.docVersions.get(i);v(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o,e.commitVersion):v(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return i.mutationQueue.removeMutationBatch(t,r)}))},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.collect(n,e.targetDataByTarget)}))},t.prototype.getTarget=function(t){var e=this,n=this.targetDataByTarget.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e.targetCache.getTargetDataForTarget(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)})).then((function(e){var n=e.changedDocs;return t.lastDocumentChangeReadTime=e.readTime,n}))},t.prototype.synchronizeLastDocumentChangeReadTime=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){return this.remoteDocuments instanceof Ge?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(e){return t.getLastDocumentChange(e)})).then((function(t){e.lastDocumentChangeReadTime=t.readTime}))]):[2]}))}))},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=b(),this.batchesByDocumentKey=new Pt(Kn.compareByKey)}return t.prototype.checkEmpty=function(t){return Wt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var i=e.batchId,r=this.indexOfExistingBatchId(i,"acknowledged");v(0===r,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[r];return v(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),this.lastStreamToken=n,Wt.resolve()},t.prototype.getLastStreamToken=function(t){return Wt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Wt.resolve()},t.prototype.addMutationBatch=function(t,e,n,i){v(0!==i.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new jt(r,e,n,i);this.mutationQueue.push(o);for(var s=0,a=i;s<a.length;s++){var l=a[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Kn(l.key,r)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast())}return Wt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Wt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,"Failed to find local mutation batch."),Wt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),i=n<0?0:n;return Wt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Wt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return Wt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new Kn(e,0),r=new Kn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([i,r],(function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var i=n.findMutationBatch(t.targetOrBatchId);v(null!==i,"Batches in the index must exist in the main table"),o.push(i)})),Wt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Pt($);return e.forEach((function(t){var e=new Kn(t,0),r=new Kn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,r],(function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),i=i.add(e.targetOrBatchId)}))})),Wt.resolve(this.findMutationBatches(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,i=n.length+1,r=n;ct.isDocumentKey(r)||(r=r.child(""));var o=new Kn(new ct(r),0),s=new Pt($);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)}),o),Wt.resolve(this.findMutationBatches(s))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.findMutationBatch(t);null!==i&&n.push(i)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return Wt.forEach(e.mutations,(function(r){var o=new Kn(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(t,r.key)})).next((function(){n.batchesByDocumentKey=i}))},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Kn(e,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return Wt.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Wt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,"If found batch must match"),n},t}(),$n=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new St(ct.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){v(!n.isEqual(xt.MIN),"Cannot add a document with a read time of zero");var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.sizer(e);return this.docs=this.docs.insert(i,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Wt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,i=Nt();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.maybeDocument:null)})),Wt.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var i=Dt(),r=new ct(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var s=o.getNext(),a=s.value,l=a.maybeDocument,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||l instanceof ze&&e.matches(l)&&(i=i.insert(l.key,l))}return Wt.resolve(i)},t.prototype.forEachDocumentKey=function(t,e){return Wt.forEach(this.docs,(function(t){return e(t)}))},t.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return Wt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r?n.push(e.documentCache.addEntry(t,r,e.readTime)):e.documentCache.removeEntry(i)})),Wt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Qe),t}(),Yn=function(){function t(t){this.persistence=t,this.targets=new Ke((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=xt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Hn,this.targetCount=0,this.targetIdGenerator=le.forTargetCache()}return t.prototype.forEachTarget=function(t,e){return this.targets.forEach((function(t,n){return e(n)})),Wt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Wt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Wt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Wt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Wt.resolve()},t.prototype.saveTargetData=function(t){this.targets.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return v(!this.targets.has(e.target),"Adding a target that already exists"),this.saveTargetData(e),this.targetCount+=1,Wt.resolve()},t.prototype.updateTargetData=function(t,e){return v(this.targets.has(e.target),"Updating a non-existent target"),this.saveTargetData(e),Wt.resolve()},t.prototype.removeTargetData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.targets.has(e.target),"Removing a non-existent target from the cache"),this.targets.delete(e.target),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Wt.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.targets.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.targets.delete(s),o.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),Wt.waitFor(o).next((function(){return r}))},t.prototype.getTargetCount=function(t){return Wt.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.targets.get(e)||null;return Wt.resolve(n)},t.prototype.getTargetDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.addReference(t,e))})),Wt.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.removeReference(t,e))})),Wt.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Wt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Wt.resolve(n)},t.prototype.containsKey=function(t,e){return Wt.resolve(this.references.containsKey(e))},t}(),Xn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new ot(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new Yn(this),this.indexManager=new Je,this.remoteDocumentCache=new $n(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}return t.createLruPersistence=function(e,n,i){return new t(e,(function(t){return new ti(t,new kn(n),i)}))},t.createEagerPersistence=function(e){return new t(e,(function(t){return new Jn(t)}))},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.targetCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var i=this;f("MemoryPersistence","Starting transaction:",t);var r=new Zn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(r).next((function(t){return i.referenceDelegate.onTransactionCommitted(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.mutationQueuesContainKey=function(t,e){return Wt.or((n=this.mutationQueues,i=[],T(n,(function(t,e){return i.push(e)})),i).map((function(n){return function(){return n.containsKey(t,e)}})));var n,i},t}(),Zn=function(t){function e(e){var n=t.call(this)||this;return n.currentSequenceNumber=e,n}return o.__extends(e,t),e}(Nn),Jn=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Wt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Wt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Wt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return i.removeTargetData(t,e)}))},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.orphanedDocuments,(function(i){return e.isReferenced(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e._orphanedDocuments=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Wt.or([function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Wt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),ti=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Ke((function(t){return _t(t.path)})),this.garbageCollector=new An(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Wt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Wt.forEach(this.orphanedSequenceNumbers,(function(i,r){return n.isPinned(t,i,r).next((function(t){return t?Wt.resolve():e(r)}))}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.forEachDocumentKey(t,(function(r){return n.isPinned(t,r,e).next((function(t){t||(i++,o.removeEntry(r))}))})).next((function(){return o.apply(t)})).next((function(){return i}))},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Wt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var i=this;return Wt.or([function(){return i.persistence.mutationQueuesContainKey(t,e)},function(){return Wt.resolve(i.inMemoryPins.containsKey(e))},function(){return i.persistence.getTargetCache().containsKey(t,e)},function(){var t=i.orphanedSequenceNumbers.get(e);return Wt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ei=function(){function t(){}return t.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){return v(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(t,e,xt.MIN)},t}(),ni=Number,ii=ni.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ri=ni.MAX_SAFE_INTEGER||Math.pow(2,53)-1,oi=ni.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function si(t){return null==t}function ai(t){return oi(t)&&t<=ri&&t>=ii}var li=1e3,ui=1.5,ci=6e4,hi=function(){function t(t,e,n,i,r){void 0===n&&(n=li),void 0===i&&(i=ui),void 0===r&&(r=ci),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=r,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),i=Math.max(0,Date.now()-this.lastAttemptTime),r=Math.max(0,n-i);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),di=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),pi=function(){function t(t,e,n,i,r,o){this.queue=t,this.idleTimerId=n,this.connection=i,this.credentialsProvider=r,this.listener=o,this.state=di.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new hi(t,e)}return t.prototype.isStarted=function(){return this.state===di.Starting||this.state===di.Open||this.state===di.Backoff},t.prototype.isOpen=function(){return this.state===di.Open},t.prototype.start=function(){this.state!==di.Error?(v(this.state===di.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(di.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=di.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.isOpen()?[2,this.close(di.Initial)]:[2]}))}))},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===di.Error||si(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==di.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===di.Initial,"Must be in initial state to auth"),this.state=di.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new C(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},t.prototype.startStream=function(t){var e=this;v(this.state===di.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return v(e.state===di.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=di.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.performBackoff=function(){var t=this;v(this.state===di.Error,"Should only perform backoff when in Error state"),this.state=di.Backoff,this.backoff.backoffAndRun((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return v(this.state===di.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=di.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(di.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),fi=function(t){function e(e,n,i,r,o){var s=t.call(this,e,dt.ListenStreamConnectionBackoff,dt.ListenStreamIdle,n,i,o)||this;return s.serializer=r,s}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(pi),mi=function(t){function e(e,n,i,r,o){var s=t.call(this,e,dt.WriteStreamConnectionBackoff,dt.WriteStreamIdle,n,i,o)||this;return s.serializer=r,s.handshakeComplete_=!1,s.lastStreamToken=b(),s}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},e}(pi),gi=function(){function t(t,e,n,i){this.queue=t,this.connection=e,this.credentials=n,this.serializer=i}return t.prototype.newPersistentWriteStream=function(t){return new mi(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new fi(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var i=At();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);i=i.insert(n.key,n)}));var r=[];return t.forEach((function(t){var e=i.get(t);v(!!e,"Missing entity in write response for "+t),r.push(e)})),r}))},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeRPC(t,e,i)})).catch((function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeStreamingRPC(t,e,i)})).catch((function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t}(),yi=function(){function t(t){this.datastore=t,this.readVersions=Ft(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=i.sent()).forEach((function(t){t instanceof We||t instanceof ze?n.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new Ee(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach((function(e){t=t.remove(e.key)})),!t.isEmpty())throw new C(w.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof ze)e=t.version;else{if(!(t instanceof We))throw y("Document in a transaction was a "+t.constructor.name);e=xt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?ve.updateTime(e):ve.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(xt.forDeletedDoc()))throw new C(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ve.updateTime(e)}return ve.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),vi=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),_i=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),bi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=vi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(vi.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(dt.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,v(t.state===vi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(vi.Offline),Promise.resolve()})))},t.prototype.handleWatchStreamFailure=function(t){this.state===vi.Online?(this.setAndBroadcast(vi.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(vi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===vi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),wi=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Ci(t){switch(t){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function Ei(t){if(void 0===t)return m("GRPC error has no .code"),w.UNKNOWN;switch(t){case wi.OK:return w.OK;case wi.CANCELLED:return w.CANCELLED;case wi.UNKNOWN:return w.UNKNOWN;case wi.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case wi.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case wi.INTERNAL:return w.INTERNAL;case wi.UNAVAILABLE:return w.UNAVAILABLE;case wi.UNAUTHENTICATED:return w.UNAUTHENTICATED;case wi.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case wi.NOT_FOUND:return w.NOT_FOUND;case wi.ALREADY_EXISTS:return w.ALREADY_EXISTS;case wi.PERMISSION_DENIED:return w.PERMISSION_DENIED;case wi.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case wi.ABORTED:return w.ABORTED;case wi.OUT_OF_RANGE:return w.OUT_OF_RANGE;case wi.UNIMPLEMENTED:return w.UNIMPLEMENTED;case wi.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+t)}}function xi(t){if(void 0===t)return wi.OK;switch(t){case w.OK:return wi.OK;case w.CANCELLED:return wi.CANCELLED;case w.UNKNOWN:return wi.UNKNOWN;case w.DEADLINE_EXCEEDED:return wi.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return wi.RESOURCE_EXHAUSTED;case w.INTERNAL:return wi.INTERNAL;case w.UNAVAILABLE:return wi.UNAVAILABLE;case w.UNAUTHENTICATED:return wi.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return wi.INVALID_ARGUMENT;case w.NOT_FOUND:return wi.NOT_FOUND;case w.ALREADY_EXISTS:return wi.ALREADY_EXISTS;case w.PERMISSION_DENIED:return wi.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return wi.FAILED_PRECONDITION;case w.ABORTED:return wi.ABORTED;case w.OUT_OF_RANGE:return wi.OUT_OF_RANGE;case w.UNIMPLEMENTED:return wi.UNIMPLEMENTED;case w.DATA_LOSS:return wi.DATA_LOSS;default:return y("Unknown status code: "+t)}}var Si=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ct.comparator(e.key,n.key)}:function(t,e){return ct.comparator(t.key,e.key)},this.keyedMap=Dt(),this.sortedSet=new St(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),ki=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Ti=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Oi=function(){function t(){this.changeMap=new St(ct.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==ki.Added&&n.type===ki.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===ki.Metadata&&n.type!==ki.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===ki.Modified&&n.type===ki.Modified?this.changeMap=this.changeMap.insert(e,{type:ki.Modified,doc:t.doc}):t.type===ki.Modified&&n.type===ki.Added?this.changeMap=this.changeMap.insert(e,{type:ki.Added,doc:t.doc}):t.type===ki.Removed&&n.type===ki.Added?this.changeMap=this.changeMap.remove(e):t.type===ki.Removed&&n.type===ki.Modified?this.changeMap=this.changeMap.insert(e,{type:ki.Removed,doc:n.doc}):t.type===ki.Added&&n.type===ki.Removed?this.changeMap=this.changeMap.insert(e,{type:ki.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Pi=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:ki.Added,doc:t})})),new t(e,n,Si.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Ii=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i,r=((i={})[e]=Mi.createSynthesizedTargetChangeForCurrentChange(e,n),i);return new t(xt.MIN,r,Bt(),At(),Ut())},t}(),Mi=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(b(),n,Ut(),Ut(),Ut())},t}(),Ai=function(){return function(t,e,n,i){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=i}}(),Ni=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Ri=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Di=function(){return function(t,e,n,i){void 0===n&&(n=b()),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}(),Li=function(){function t(){this.pendingResponses=0,this.documentChanges=Ui(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ut(),e=Ut(),n=Ut();return this.documentChanges.forEach((function(i,r){switch(r){case ki.Added:t=t.add(i);break;case ki.Modified:e=e.add(i);break;case ki.Removed:n=n.add(i);break;default:y("Encountered invalid change type: "+r)}})),new Mi(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ui()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Fi=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=At(),this.pendingDocumentTargetMapping=Vi(),this.pendingTargetResets=new Pt($)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var i=n[e];t.newDoc instanceof ze?this.addDocumentToTarget(i,t.newDoc):t.newDoc instanceof We&&this.removeDocumentFromTarget(i,t.key,t.newDoc)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.removeDocumentFromTarget(i=o[r],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.ensureTargetState(n);switch(t.state){case Ri.NoChange:e.isActiveTarget(n)&&i.updateResumeToken(t.resumeToken);break;case Ri.Added:i.recordTargetResponse(),i.isPending||i.clearPendingChanges(),i.updateResumeToken(t.resumeToken);break;case Ri.Removed:i.recordTargetResponse(),i.isPending||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ri.Current:e.isActiveTarget(n)&&(i.markCurrent(),i.updateResumeToken(t.resumeToken));break;case Ri.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),i.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}}))},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):k(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,i=this.targetDataForActiveTarget(e);if(i){var r=i.target;if(r.isDocumentQuery())if(0===n){var o=new ct(r.path);this.removeDocumentFromTarget(e,o,new We(o,xt.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};k(this.targetStates,(function(i,r){var o=e.targetDataForActiveTarget(i);if(o){if(r.current&&o.target.isDocumentQuery()){var s=new ct(o.target.path);null!==e.pendingDocumentUpdates.get(s)||e.targetContainsDocument(i,s)||e.removeDocumentFromTarget(i,s,new We(s,t))}r.hasPendingChanges&&(n[i]=r.toTargetChange(),r.clearPendingChanges())}}));var i=Ut();this.pendingDocumentTargetMapping.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.targetDataForActiveTarget(t);return!n||n.purpose===xn.LimboResolution||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new Ii(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,i);return this.pendingDocumentUpdates=At(),this.pendingDocumentTargetMapping=Vi(),this.pendingTargetResets=new Pt($),r},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?ki.Modified:ki.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var i=this.ensureTargetState(t);this.targetContainsDocument(t,e)?i.addDocumentChange(e,ki.Removed):i.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Li),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Pt($),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.targetDataForActiveTarget(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.targetDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getTargetDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Li,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Vi(){return new St(ct.comparator)}function Ui(){return new St(ct.comparator)}var qi="RemoteStore",Bi=function(){function t(t,e,n,i,r){var s=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=r,this.connectivityMonitor.addCallback((function(t){n.enqueueAndForget((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(qi,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new bi(n,i),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(vi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(vi.Offline),[2]}}))}))},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f(qi,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return f(qi,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(vi.Unknown),[2]}}))}))},t.prototype.listen=function(t){x(this.listenTargets,t.targetId)||(this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t))},t.prototype.unlisten=function(t){x(this.listenTargets,t)&&(delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),O(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(vi.Unknown)))},t.prototype.getTargetDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Fi(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!O(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return k(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(vi.Unknown),[2]}))}))},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.onlineStateTracker.set(vi.Online),t instanceof Di&&t.state===Ri.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Ai?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ni?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof Di,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(xt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=i.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(xt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return k(n.targetChanges,(function(n,i){if(i.resumeToken.length>0){var r=e.listenTargets[n];r&&(e.listenTargets[n]=r.withResumeToken(i.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(b(),n.snapshotVersion),e.sendUnwatchRequest(t);var i=new Sn(n.target,t,xn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(i)}})),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,i=Promise.resolve();return t.targetIds.forEach((function(t){i=i.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return x(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),i},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})).catch(Un)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var i=this.writePipeline.shift(),r=zt.from(i,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then((function(){return n.fillWritePipeline()}))},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return Ci(t.code)?(f(qi,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b()).catch(Un)]):[2]}))}))},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){return Ci(r=t.code)&&r!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2];var r}))}))},t.prototype.createTransaction=function(){return new yi(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(vi.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(qi,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(vi.Unknown),e.label=4;case 4:return[2]}}))}))},t}(),ji=function(){function t(t,e){if(I("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return $(this._lat,t._lat)||$(this._long,t._long)},t}(),zi=function(){function t(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null}return t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var i=0,r=this.orderBy;i<r.length;i++)t+=r[i].canonicalId(),t+=",";si(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=this.path.canonicalString();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),si(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.isDocumentQuery=function(){return ct.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Wi=function(t){return t.First="F",t.Last="L",t}({}),Hi=function(){function t(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=Wi.First),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.memoizedOrderBy=null,this.memorizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[ir]:[new nr(t),ir];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,i=0,r=this.explicitOrderBy;i<r.length;i++){var o=r[i];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:tr.ASCENDING)===tr.ASCENDING?ir:rr)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Gi)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.withLimitToFirst=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Wi.First,this.startAt,this.endAt)},t.prototype.withLimitToLast=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Wi.Last,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},t.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},t.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},t.prototype.isEqual=function(t){return this.toTarget().isEqual(t.toTarget())&&this.limitType===t.limitType},t.prototype.docComparator=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimitToFirst=function(){return!si(this.limit)&&this.limitType===Wi.First},t.prototype.hasLimitToLast=function(){return!si(this.limit)&&this.limitType===Wi.Last},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Gi&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof Gi&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.toTarget=function(){if(!this.memorizedTarget)if(this.limitType===Wi.First)this.memorizedTarget=new zi(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e];t.push(new nr(i.field,i.dir===tr.DESCENDING?tr.ASCENDING:tr.DESCENDING))}var r=this.endAt?new er(this.endAt.position,!this.endAt.before):null,o=this.startAt?new er(this.startAt.position,!this.startAt.before):null;this.memorizedTarget=new zi(this.path,this.collectionGroup,t,this.filters,this.limit,r,o)}return this.memorizedTarget},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ct.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var i=n[e];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Ki=function(){return function(){}}(),Qi=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Gi=function(t){function e(e,n,i){var r=t.call(this)||this;return r.field=e,r.op=n,r.value=i,r}return o.__extends(e,t),e.create=function(t,n,i){if(t.isKeyField())return n===Qi.IN?(v(i instanceof Be,"Comparing on key with IN, but filter value not an ArrayValue"),v(i.internalValue.every((function(t){return t instanceof Ve})),"Comparing on key with IN, but an array value was not a RefValue"),new Yi(t,i)):(v(i instanceof Ve,"Comparing on key, but filter value not a RefValue"),v(n!==Qi.ARRAY_CONTAINS&&n!==Qi.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new $i(t,n,i));if(i.isEqual(Oe.INSTANCE)){if(n!==Qi.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(i.isEqual(Ne.NAN)){if(n!==Qi.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return n===Qi.ARRAY_CONTAINS?new Xi(t,i):n===Qi.IN?(v(i instanceof Be,"IN filter has invalid value: "+i.toString()),new Zi(t,i)):n===Qi.ARRAY_CONTAINS_ANY?(v(i instanceof Be,"ARRAY_CONTAINS_ANY filter has invalid value: "+i.toString()),new Ji(t,i)):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Qi.LESS_THAN:return t<0;case Qi.LESS_THAN_OR_EQUAL:return t<=0;case Qi.EQUAL:return 0===t;case Qi.GREATER_THAN:return t>0;case Qi.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[Qi.LESS_THAN,Qi.LESS_THAN_OR_EQUAL,Qi.GREATER_THAN,Qi.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Ki),$i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ct.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(Gi),Yi=function(t){function e(e,n){var i=t.call(this,e,Qi.IN,n)||this;return i.value=n,i}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some((function(e){return t.key.isEqual(e.key)}))},e}(Gi),Xi=function(t){function e(e,n){return t.call(this,e,Qi.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Be&&e.contains(this.value)},e}(Gi),Zi=function(t){function e(e,n){var i=t.call(this,e,Qi.IN,n)||this;return i.value=n,i}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(Gi),Ji=function(t){function e(e,n){var i=t.call(this,e,Qi.ARRAY_CONTAINS_ANY,n)||this;return i.value=n,i}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Be&&n.internalValue.some((function(t){return e.value.contains(t)}))},e}(Gi),tr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),er=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],o=this.position[i];if(r.field.isKeyField())v(o instanceof Ve,"Bound has a non-key value where the key path is being used."),n=ct.comparator(o.key,e.key);else{var s=e.field(r.field);v(null!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(r.dir===tr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),nr=function(){function t(t,e){this.field=t,void 0===e&&(e=tr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ze.compareByKey(t,e):ze.compareByField(this.field,t,e);switch(this.dir){case tr.ASCENDING:return n;case tr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ir=new nr(ut.keyField(),tr.ASCENDING),rr=new nr(ut.keyField(),tr.DESCENDING),or=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Le(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),sr=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ur(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new Be(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ar=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ur(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new Be(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),lr=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof Ae&&this.operand instanceof Ae?new Ae(n.internalValue+this.operand.internalValue):new Ne(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof Ie?t:new Ae(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ur(t){return t instanceof Be?t.internalValue.slice():[]}var cr,hr,dr=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),pr=((cr={})[tr.ASCENDING.name]="ASCENDING",cr[tr.DESCENDING.name]="DESCENDING",cr),fr=((hr={})[Qi.LESS_THAN.name]="LESS_THAN",hr[Qi.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",hr[Qi.GREATER_THAN.name]="GREATER_THAN",hr[Qi.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",hr[Qi.EQUAL.name]="EQUAL",hr[Qi.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",hr[Qi.IN.name]="IN",hr[Qi.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",hr),mr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t,e){v(!si(t),e+" is missing")}function yr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var vr=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Ei(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return this.options.useProto3Json||si(t)?t:{value:t}},t.prototype.fromInt32Value=function(t){var e;return si(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=yr(t.seconds||"0");return new Et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=mr.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t),o=Math.floor(r.getTime()/1e3);return new Et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),tt.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),tt.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),xt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ct(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Oe)return{nullValue:"NULL_VALUE"};if(t instanceof Pe)return{booleanValue:t.value()};if(t instanceof Ae)return{integerValue:""+t.value()};if(t instanceof Ne){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Re?{stringValue:t.value()}:t instanceof qe?{mapValue:this.toMapValue(t)}:t instanceof Be?{arrayValue:this.toArrayValue(t)}:t instanceof De?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Ue?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Fe?{bytesValue:this.toBytes(t.value())}:t instanceof Ve?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Oe.INSTANCE;if("booleanValue"in t)return Pe.of(t.booleanValue);if("integerValue"in t)return new Ae(yr(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ne.NAN;if("Infinity"===t.doubleValue)return Ne.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ne.NEGATIVE_INFINITY}return new Ne(t.doubleValue)}if("stringValue"in t)return new Re(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return gr(t.arrayValue,"arrayValue"),new Be((t.arrayValue.values||[]).map((function(t){return e.fromValue(t)})));if("timestampValue"in t)return gr(t.timestampValue,"timestampValue"),new De(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return gr(t.geoPointValue,"geoPointValue"),new Ue(new ji(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){gr(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Fe(n)}if("referenceValue"in t){gr(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),r=new rt(i.get(1),i.get(3)),o=new ct(this.extractLocalPathFromResourceName(i));return new Ve(r,o)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,i=this.fromName(t.name),r=this.fromVersion(t.updateTime);return new ze(i,r,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.fromValue(t)}))},t.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,i){n[t]=e.toValue(i)})),n},t.prototype.fromFields=function(t){var e=this,n=qe.EMPTY;return T(t,(function(t,i){n=n.set(new ut([t]),e.fromValue(i))})),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},t.prototype.fromFound=function(t){var e=this;v(!!t.found,"Tried to deserialize a found document from a missing document."),gr(t.found.name,"doc.found.name"),gr(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),i=this.fromVersion(t.found.updateTime);return new ze(n,i,{},void 0,t.found,(function(t){return e.fromValue(t)}))},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new We(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ri.Added:return"ADD";case Ri.Current:return"CURRENT";case Ri.NoChange:return"NO_CHANGE";case Ri.Removed:return"REMOVE";case Ri.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ni)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Ai){var e;if(t.newDoc instanceof ze)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof We)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Di){var n=void 0;return t.cause&&(n={code:xi(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){gr(t.targetChange,"targetChange");var i=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,a=s&&this.fromRpcStatus(s);e=new Di(i,r,o,a||null)}else if("documentChange"in t){gr(t.documentChange,"documentChange"),gr(t.documentChange.document,"documentChange.name"),gr(t.documentChange.document.name,"documentChange.document.name"),gr(t.documentChange.document.updateTime,"documentChange.document.updateTime");var l=t.documentChange,u=this.fromName(l.document.name),c=this.fromVersion(l.document.updateTime),h=new ze(u,c,{},void 0,l.document,(function(t){return n.fromValue(t)}));e=new Ai(l.targetIds||[],l.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){gr(t.documentDelete,"documentDelete"),gr(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;u=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):xt.forDeletedDoc(),h=new We(u,c),e=new Ai([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){gr(t.documentRemove,"documentRemove"),gr(t.documentRemove.document,"documentRemove");var p=t.documentRemove;u=this.fromName(p.document),e=new Ai([],p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));gr(t.filter,"filter"),gr(t.filter.targetId,"filter.targetId");var f=t.filter,m=new dr(f.count||0);e=new Ni(f.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ri.NoChange:"ADD"===t?Ri.Added:"REMOVE"===t?Ri.Removed:"CURRENT"===t?Ri.Current:"RESET"===t?Ri.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return xt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?xt.MIN:e.readTime?this.fromVersion(e.readTime):xt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof be)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Ee)e={delete:this.toName(t.key)};else if(t instanceof we)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Ce))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ve.NONE;if(t.update){gr(t.update.name,"name");var i=this.fromName(t.update.name),r=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new we(i,r,o,n)}return new be(i,r,n)}if(t.delete)return i=this.fromName(t.delete),new Ee(i,n);if(t.transform){i=this.fromName(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ce(i,s)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ve.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ve.exists(t.exists):ve.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,i=this.fromVersion(t.updateTime?t.updateTime:e);i.isEqual(xt.MIN)&&(i=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map((function(t){return n.fromValue(t)}))),new ge(i,r)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof or)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ar)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof lr)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=or.instance;else if("appendMissingElements"in t)n=new sr((t.appendMissingElements.values||[]).map((function(t){return e.fromValue(t)})));else if("removeAllFromArray"in t)n=new ar((t.removeAllFromArray.values||[]).map((function(t){return e.fromValue(t)})));else if("increment"in t){var i=this.fromValue(t.increment);v(i instanceof Ie,"NUMERIC_ADD transform requires a NumberValue"),n=new lr(i)}else y("Unknown transform proto: "+JSON.stringify(t));var r=ut.fromServerFormat(t.fieldPath);return new me(r,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),Hi.atPath(this.fromQueryPath(t.documents[0])).toTarget()},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var i=this.toFilter(t.filters);i&&(e.structuredQuery.where=i);var r=this.toOrder(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){v(1===i,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Hi(e,r,a,s,l,Wi.First,u,c).toTarget()},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case xn.Listen:return null;case xn.ExistenceFilterMismatch:return"existence-filter-mismatch";case xn.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.target;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Gi?e.toUnaryOrFieldFilter(t):y("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},t.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,i=t.values.map((function(t){return e.fromValue(t)}));return new er(i,n)},t.prototype.toDirection=function(t){return pr[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return tr.ASCENDING;case"DESCENDING":return tr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return fr[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Qi.EQUAL;case"GREATER_THAN":return Qi.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Qi.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Qi.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Qi.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Qi.ARRAY_CONTAINS;case"IN":return Qi.IN;case"ARRAY_CONTAINS_ANY":return Qi.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new nr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return Gi.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===Qi.EQUAL){if(t.value.isEqual(Ne.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Oe.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return Gi.create(e,Qi.EQUAL,Ne.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return Gi.create(n,Qi.EQUAL,Oe.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return ut.fromServerFormat(t)}));return fe.fromArray(e)},t}(),_r=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),br=function(){function t(t){this.syncEngine=t,this.queries=new Ke((function(t){return t.canonicalId()})),this.onlineState=vi.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.queries.get(e);return i||(n=!0,i=new _r,this.queries.set(e,i)),i.listeners.push(t),v(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),i.viewSnap&&t.onViewSnapshot(i.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then((function(t){return i.targetId=t,t})):Promise.resolve(i.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return o.__generator(this,(function(o){return n=!1,(i=this.queries.get(e=t.query))&&(r=i.listeners.indexOf(t))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],o=this.queries.get(r.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].onViewSnapshot(r)&&(e=!0);o.viewSnap=r}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach((function(n,i){for(var r=0,o=i.listeners;r<o.length;r++)o[r].applyOnlineStateChange(t)&&(e=!0)})),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(t){t.next()}))},t}(),wr=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=vi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];r.type!==ki.Metadata&&e.push(r)}t=new Pi(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==vi.Offline?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===vi.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Pi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),Cr=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=i}return t.fromSnapshot=function(e,n){for(var i=Ut(),r=Ut(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case ki.Added:i=i.add(a.doc.key);break;case ki.Removed:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Er=function(){return function(t){this.key=t}}(),xr=function(){return function(t){this.key=t}}(),Sr=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ut(),this.mutatedKeys=Ut(),this.documentSet=new Si(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,i=e?e.changeSet:new Oi,r=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.hasLimitToFirst()&&r.size===this.query.limit?r.last():null,u=this.query.hasLimitToLast()&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var c=r.get(t),h=e instanceof ze?e:null;h&&(v(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!c&&n.mutatedKeys.has(c.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data().isEqual(h.data())?d!==p&&(i.track({type:ki.Metadata,doc:h}),f=!0):n.shouldWaitForSyncedDocument(c,h)||(i.track({type:ki.Modified,doc:h}),f=!0,(l&&n.query.docComparator(h,l)>0||u&&n.query.docComparator(h,u)<0)&&(a=!0)):!c&&h?(i.track({type:ki.Added,doc:h}),f=!0):c&&!h&&(i.track({type:ki.Removed,doc:c}),f=!0,(l||u)&&(a=!0)),f&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;s.size>this.query.limit;){var c=this.query.hasLimitToFirst()?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),i.track({type:ki.Removed,doc:c})}return v(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:i,needsRefill:a,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case ki.Added:return 1;case ki.Modified:case ki.Metadata:return 2;case ki.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||i.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var s=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Ti.Synced:Ti.Local,l=a!==this.syncState;return this.syncState=a,0!==o.length||l?{snapshot:new Pi(this.query,t.documentSet,r,o,t.mutatedKeys,a===Ti.Local,l,!1),limboChanges:s}:{limboChanges:s}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===vi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Oi,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ut(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new xr(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new Er(t))})),n},t.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Ut();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},t.prototype.computeInitialSnapshot=function(){return Pi.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ti.Local)},t}(),kr=5,Tr=function(){function t(t,e,n,i){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=i,this.retries=kr,this.backoff=new hi(this.asyncQueue,dt.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(i){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.handleTransactionError(t)}))}))})).catch((function(t){n.handleTransactionError(t)})),[2]}))}))}))},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!si(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return e.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ci(e)}return!1},t}(),Or=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Pr=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),Ir=function(){function t(t,e,n,i){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=i,this.syncEngineListener=null,this.queryViewsByQuery=new Ke((function(t){return t.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new St(ct.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Hn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=le.forSyncEngine(),this.isPrimary=void 0,this.onlineState=vi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(i=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=i.targetId),n=i.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(t.toTarget())];case 2:return r=o.sent(),s=this.sharedClientState.addLocalQueryTarget(r.targetId),[4,this.initializeViewAndComputeSnapshot(t,e=r.targetId,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(r),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},t.prototype.initializeViewAndComputeSnapshot=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,s,a,l,u;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return i=o.sent(),r=new Sr(t,i.remoteKeys),s=r.computeDocChanges(i.documents),a=Mi.createSynthesizedTargetChangeForCurrentChange(e,n&&this.onlineState!==vi.Offline),v(0===(l=r.applyChanges(s,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!l.snapshot,"applyChanges for new view should always return a snapshot"),u=new Or(t,e,r),this.queryViewsByQuery.set(t,u),this.queriesByTarget[e]||(this.queriesByTarget[e]=[]),this.queriesByTarget[e].push(t),[2,l.snapshot]}}))}))},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=i.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}}))}))},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),(n=this.queriesByTarget[e.targetId]).length>1?(this.queriesByTarget[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.queryViewsByQuery.delete(t),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseTarget(e.targetId,!1).then((function(){i.sharedClientState.clearQueryState(e.targetId),i.remoteStore.unlisten(e.targetId),i.removeAndCleanupTarget(e.targetId)})).catch(Un)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(e.targetId),[4,this.localStore.releaseTarget(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=i.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return i.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return i.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Tr(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=i.sent(),T(t.targetChanges,(function(t,e){var i=n.limboResolutionsByTarget[Number(t)];i&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?i.receivedDocument=!0:e.modifiedDocuments.size>0?v(i.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(v(i.receivedDocument,"Received remove for limbo target document without add."),i.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,Un(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===_i.RemoteStore||!this.isPrimary&&e===_i.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(e,i){var r=i.view.applyOnlineStateChange(t);v(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s,a,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(i=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[t],r=(r=new St(ct.comparator)).insert(i,new We(i,xt.forDeletedDoc())),s=Ut().add(i),a=new Ii(xt.MIN,{},new Pt($),r,s),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return[4,this.localStore.releaseTarget(t,!1).then((function(){return l.removeAndCleanupTarget(t,e)})).catch(Un)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(i=r.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),r.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(i)];case 5:return r.sent(),[2]}}))}))},t.prototype.applySuccessfulWrite=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,Un(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.rejectFailedWrite=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,Un(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.registerPendingWritesCallback=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.remoteStore.canUseNetwork()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=i.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}}))}))},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach((function(t){t.resolve()})),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach((function(e){e.forEach((function(e){e.reject(new C(w.CANCELLED,t))}))})),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new St($)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var i=n.get(t);i&&(v(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?i.reject(e):i.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupTarget=function(t,e){var n=this;void 0===e&&(e=null),this.sharedClientState.removeLocalQueryTarget(t),v(this.queriesByTarget[t]&&0!==this.queriesByTarget[t].length,"There are no queries mapped to target id "+t);for(var i=0,r=this.queriesByTarget[t];i<r.length;i++){var o=r[i];this.queryViewsByQuery.delete(o),e&&this.syncEngineListener.onWatchError(o,e)}if(delete this.queriesByTarget[t],this.isPrimary){var s=this.limboDocumentRefs.referencesForId(t);this.limboDocumentRefs.removeReferencesForId(t),s.forEach((function(t){n.limboDocumentRefs.containsKey(t)||n.removeLimboTarget(t)}))}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof Er?(this.limboDocumentRefs.addReference(r.key,t),this.trackLimboChange(r)):r instanceof xr?(f("SyncEngine","Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,t),this.limboDocumentRefs.containsKey(r.key)||this.removeLimboTarget(r.key)):y("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),i=Hi.atPath(e.path);this.limboResolutionsByTarget[n]=new Pr(e),this.remoteStore.listen(new Sn(i.toTarget(),n,xn.LimboResolution,ot.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],i=[],r=[],this.queryViewsByQuery.forEach((function(o,a){r.push(Promise.resolve().then((function(){var e=a.view.computeDocChanges(t);return e.needsRefill?s.localStore.executeQuery(a.query,!1).then((function(t){return a.view.computeDocChanges(t.documents,e)})):e})).then((function(t){var r=a.view.applyChanges(t,!0===s.isPrimary,e&&e.targetChanges[a.targetId]);if(s.updateTrackedLimbos(a.targetId,r.limboChanges),r.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,r.snapshot.fromCache?"not-current":"current"),n.push(r.snapshot);var o=Cr.fromSnapshot(a.targetId,r.snapshot);i.push(o)}})))})),[4,Promise.all(r)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(i)];case 2:return o.sent(),[2]}}))}))},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=i.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:i.sent(),i.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return i.sent(),[2]}}))}))},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,a,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=o.sent(),i=0,r=n;i<r.length;i++)this.remoteStore.listen(r[i]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),k(this.queriesByTarget,(function(t,e){l.sharedClientState.isLocalQueryTarget(t)?s.push(t):a=a.then((function(){return l.removeAndCleanupTarget(t),l.localStore.releaseTarget(t,!0)})),l.remoteStore.unlisten(t)})),[4,a]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.resetLimboDocuments=function(){var t=this;k(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new St(ct.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,s,a,l,u,c,h,d,p,f;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],i=0,r=t,o.label=1;case 1:return i<r.length?(a=void 0,(l=this.queriesByTarget[s=r[i]])&&0!==l.length?[4,this.localStore.releaseTarget(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.localStore.allocateTarget(l[0].toTarget())];case 3:a=o.sent(),u=0,c=l,o.label=4;case 4:return u<c.length?(v(!!(d=this.queryViewsByQuery.get(h=c[u])),"No query view found for "+h),[4,this.synchronizeViewAndComputeSnapshot(d)]):[3,7];case 5:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return v(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(s)];case 9:return v(!!(f=o.sent()),"Target for id "+s+" not found"),[4,this.localStore.allocateTarget(f)];case 10:return a=o.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(f),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(a),o.label=13;case 13:return i++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,e]}}))}))},t.prototype.synthesizeTargetToQuery=function(t){return new Hi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,Wi.First,t.startAt,t.endAt)},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return i=o.sent(),r=Ii.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(i,r)];case 3:return o.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(t,!0)];case 5:return o.sent(),this.removeAndCleanupTarget(t,n),[3,7];case 6:y("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,s,a,l,u,c,h,d=this;return o.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,i=t,p.label=1;case 1:return n<i.length?(v(!this.queriesByTarget[h=i[n]],"Trying to add an already active target"),[4,this.localStore.getTarget(h)]):[3,6];case 2:return v(!!(r=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateTarget(r)];case 3:return s=p.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(r),s.targetId,!1)];case 4:p.sent(),this.remoteStore.listen(s),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return l.queriesByTarget[t]?[4,l.localStore.releaseTarget(t,!1).then((function(){d.remoteStore.unlisten(t),d.removeAndCleanupTarget(t)})).catch(Un)]:[2,"continue"];case 1:return e.sent(),[2]}}))},l=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,a(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];if(e&&e.receivedDocument)return Ut().add(e.key);var n=Ut(),i=this.queriesByTarget[t];if(!i)return n;for(var r=0,o=i;r<o.length;r++){var s=o[r],a=this.queryViewsByQuery.get(s);v(!!a,"No query view found for "+s),n=n.unionWith(a.view.syncedDocuments)}return n},t}(),Mr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ar="SharedClientState",Nr="firestore_clients",Rr="firestore_mutations",Dr="firestore_targets",Lr="firestore_online_state",Fr="firestore_sequence_number",Vr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i,v(void 0!==i==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new C(r.error.code,r.error.message)),o?new t(e,n,r.state,s):(m(Ar,"Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ur=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new C(i.error.code,i.error.message)),r?new t(e,i.state,o):(m(Ar,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Bt(),s=0;r&&s<i.activeTargetIds.length;++s)r=ai(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(m(Ar,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Br=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in vi&&"string"==typeof n.clientId?new t(n.clientId,vi[n.onlineState]):(m(Ar,"Failed to parse online state: "+e),null)},t}(),jr=function(){function t(){this.activeTargetIds=Bt()}return t.prototype.addQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zr=function(){function t(e,n,i,r,o){if(this.queue=e,this.platform=n,this.persistenceKey=i,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Fr+"_"+i,this.activeClients[this.localClientId]=new jr,this.clientStateKeyRe=new RegExp("^"+Nr+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Rr+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Dr+"_"+s+"_(\\d+)$"),this.onlineStateKey=Lr+"_"+i,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,s,a,l,u,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.localClientId&&(r=this.getItem(this.toWebStorageClientStateKey(i)))&&(s=qr.fromWebStorageEntry(i,r))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(l),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Bt();return T(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var i=Ur.fromWebStorageEntry(t,n);i&&(e=i.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach((function(t){i.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){i.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(Ar,"READ",t,e),e},t.prototype.setItem=function(t,e){f(Ar,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(Ar,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(Ar,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,i,r,s,a;return o.__generator(this,(function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(i)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(r)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(s=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(s)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=ot.INVALID;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(i){m(Ar,"Failed to read sequence number from WebStorage",i)}return e}(t.newValue))!==ot.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var i=new Vr(this.currentUser,t,e,n),r=this.toWebStorageMutationBatchKey(t);this.setItem(r,i.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:vi[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var i=this.toWebStorageQueryTargetMetadataKey(t),r=new Ur(t,e,n);this.setItem(i,r.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Nr+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Dr+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Rr+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),qr.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var i=Number(n[1]);return Vr.fromWebStorageEntry(new Mr(void 0!==n[2]?n[2]:null),i,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var i=Number(n[1]);return Ur.fromWebStorageEntry(i,e)},t.prototype.fromWebStorageOnlineState=function(t){return Br.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(f(Ar,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,i=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var r=this.getAllActiveQueryTargets(),s=[],a=[];return r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||s.push(t),[2]}))}))})),i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||a.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(s,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Wr=function(){function t(){this.localState=new jr,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new jr,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Hr=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return In.withCacheSize(this.cacheSizeBytes)},t}(),Kr=function(){return function(){}}(),Qr=function(){function t(t,e,n,i){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=i,this.clientId=G.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new ht,i=new ht,r=!1;return this.credentials.setChangeListener((function(o){r?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(r=!0,e.initializePersistence(t,i,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},t.prototype.initializePersistence=function(t,e,n){var i=this;return t instanceof Hr?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!i.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,i=Vn.buildStoragePrefix(this.databaseInfo),r=new vr(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,s;return o.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!zr.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new zr(this.asyncQueue,this.platform,i,this.clientId,t):new Wr,[4,Vn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:i,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:r,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return s=o.sent(),this.persistence=s,[2,s.referenceDelegate.garbageCollector]}}))}))}))},t.prototype.startMemoryPersistence=function(){return this.persistence=Xn.createEagerPersistence(this.clientId),this.sharedClientState=new Wr,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(i){return o.__awaiter(n,void 0,void 0,(function(){var n,r,s,a,l,u=this;return o.__generator(this,(function(c){switch(c.label){case 0:return n=new ei,this.localStore=new Qn(this.persistence,n,t),[4,this.localStore.start()];case 1:return c.sent(),e&&(this.lruScheduler=new Mn(e,this.asyncQueue,this.localStore)),r=this.platform.newConnectivityMonitor(),s=this.platform.newSerializer(this.databaseInfo.databaseId),a=new gi(this.asyncQueue,i,this.credentials,s),l=function(t){return u.syncEngine.applyOnlineStateChange(t,_i.SharedClientState)},this.remoteStore=new Bi(this.localStore,a,this.asyncQueue,(function(t){return u.syncEngine.applyOnlineStateChange(t,_i.RemoteStore)}),r),this.syncEngine=new Ir(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new br(this.syncEngine),[4,this.sharedClientState.start()];case 2:return c.sent(),[4,this.remoteStore.start()];case 3:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new ht;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.registerPendingWritesCallback(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.verifyNotTerminated();var r=new wr(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return i.eventMgr.listen(r)})),r},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof ze)return t;if(t instanceof We)return null;throw new C(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,i;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=r.sent(),n=new Sr(t,e.remoteKeys),i=n.computeDocChanges(e.documents),[2,n.applyChanges(i,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new ht;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()}))},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new ht;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()})),n.promise},t}(),Gr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),$r=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new C(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Q(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(N("FieldPath","string",n,t[n]),0===t[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Yr=new RegExp("[~\\*/\\[\\]]"),Xr=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Zr=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Mr.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Jr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=Mr.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new C(w.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Xr(n.accessToken,t.currentUser)):null}))},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new Mr(t)},t}(),to=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Mr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),eo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new to(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Mr.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function no(t){if(!t)return new Zr;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new eo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function io(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ro=function(){function t(t){this._methodName=t}return t.delete=function(){return P("FieldValue.delete",arguments),oo.instance},t.serverTimestamp=function(){return P("FieldValue.serverTimestamp",arguments),so.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M("FieldValue.arrayUnion",arguments,1),new ao(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M("FieldValue.arrayRemove",arguments,1),new lo(t)},t.increment=function(t){return N("FieldValue.increment","number",1,t),I("FieldValue.increment",arguments,1),new uo(t)},t.prototype.isEqual=function(t){return this===t},t}(),oo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(ro),so=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(ro),ao=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(ro),lo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(ro),uo=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(ro),co=E(ro,"Use FieldValue.<field>() instead."),ho=/^__.*__$/,po=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new we(t,this.data,this.fieldMask,e):new be(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ce(t,this.fieldTransforms)),n},t}(),fo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new we(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Ce(t,this.fieldTransforms)),n},t}(),mo=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function go(t){switch(t){case mo.Set:case mo.MergeSet:case mo.Update:return!0;case mo.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var yo=function(){function t(t,e,n,i,r,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=i,void 0===r&&this.validatePath(),this.arrayElement=void 0!==i&&i,this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePathSegment(e),i},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePath(),i},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(go(this.dataSource)&&ho.test(t))throw this.createError('Document fields cannot begin and end with "__"')},t}(),vo=function(){return function(t,e){this.databaseId=t,this.key=e}}(),_o=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new yo(mo.Set,t,ut.EMPTY_PATH);wo("Data must be an object, but it was:",n,e);var i=this.parseData(e,n);return new po(i,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var i=new yo(mo.MergeSet,t,ut.EMPTY_PATH);wo("Data must be an object, but it was:",i,e);var r,o,s=this.parseData(e,i);if(n){for(var a=new Pt(ut.comparator),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof $r)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=Eo(t,c)}if(!i.contains(h))throw new C(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}r=fe.fromSet(a),o=i.fieldTransforms.filter((function(t){return r.covers(t.field)}))}else r=fe.fromArray(i.fieldMask),o=i.fieldTransforms;return new po(s,r,o)},t.prototype.parseUpdateData=function(t,e){var n=this,i=new yo(mo.Update,t,ut.EMPTY_PATH);wo("Data must be an object, but it was:",i,e);var r=new Pt(ut.comparator),o=qe.EMPTY;T(e,(function(e,s){var a=Eo(t,e),l=i.childContextForFieldPath(a);if((s=n.runPreConverter(s,l))instanceof oo)r=r.add(a);else{var u=n.parseData(s,l);null!=u&&(r=r.add(a),o=o.set(a,u))}}));var s=fe.fromSet(r);return new fo(o,s,i.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,i){var r=new yo(mo.Update,t,ut.EMPTY_PATH),o=[Co(t,e)],s=[n];if(i.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<i.length;a+=2)o.push(Co(t,i[a])),s.push(i[a+1]);var l=new Pt(ut.comparator),u=qe.EMPTY;for(a=0;a<o.length;++a){var c=o[a],h=r.childContextForFieldPath(c),d=this.runPreConverter(s[a],h);if(d instanceof oo)l=l.add(c);else{var p=this.parseData(d,h);null!=p&&(l=l.add(c),u=u.set(c,p))}}var f=fe.fromSet(l);return new fo(u,f,r.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new yo(mo.Argument,t,ut.EMPTY_PATH),i=this.parseData(e,n);return v(null!=i,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(i){var n=xo(i);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(bo(t=this.runPreConverter(t,e)))return wo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof ro)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,i=new St($);return O(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(t,(function(t,r){var o=n.parseData(r,e.childContextForField(t));null!=o&&(i=i.insert(t,o))})),new qe(i)},t.prototype.parseArray=function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=this.parseData(o[r],e.childContextForArray(i));null==s&&(s=Oe.INSTANCE),n.push(s),i++}return new Be(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!go(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof oo){if(e.dataSource!==mo.MergeSet)throw e.dataSource===mo.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof so)e.fieldTransforms.push(new me(e.path,or.instance));else if(t instanceof ao){var n=this.parseArrayTransformElements(t._methodName,t._elements),i=new sr(n);e.fieldTransforms.push(new me(e.path,i))}else if(t instanceof lo){n=this.parseArrayTransformElements(t._methodName,t._elements);var r=new ar(n);e.fieldTransforms.push(new me(e.path,r))}else if(t instanceof uo){var o=this.parseQueryValue("FieldValue.increment",t._operand),s=new lr(o);e.fieldTransforms.push(new me(e.path,s))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Oe.INSTANCE;if("number"==typeof t)return ai(t)?new Ae(t):new Ne(t);if("boolean"==typeof t)return Pe.of(t);if("string"==typeof t)return new Re(t);if(t instanceof Date)return new De(Et.fromDate(t));if(t instanceof Et)return new De(new Et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ji)return new Ue(t);if(t instanceof tt)return new Fe(t);if(t instanceof vo)return new Ve(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,i){var r=new yo(mo.Argument,t,ut.EMPTY_PATH);return n.parseData(e,r.childContextForArray(i))}))},t}();function bo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof ji||t instanceof tt||t instanceof vo||t instanceof ro)}function wo(t,e,n){if(!bo(n)||!q(n)){var i=B(n);throw e.createError("an object"===i?t+" a custom object":t+" "+i)}}function Co(t,e){if(e instanceof $r)return e._internalPath;if("string"==typeof e)return Eo(t,e);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Eo(t,e){try{return function(t){if(t.search(Yr)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new($r.bind.apply($r,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(i){var n=xo(i);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function xo(t){return t instanceof Error?t.message:t.toString()}var So="firestore.googleapis.com",ko=!0,To=!0,Oo=!1,Po=In.COLLECTION_DISABLED,Io=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=So,this.ssl=ko}else D("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=S(t.ssl,ko);if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=S(t.timestampsInSnapshots,To),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=In.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Po&&t.cacheSizeBytes<In.MINIMUM_CACHE_SIZE_BYTES)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+In.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Oo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Mo=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new ft,this.INTERNAL={delete:function(){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this._firebaseApp=i,this._databaseId=t.databaseIdFromApp(i),this._persistenceKey=i.name,this._credentials=new Jr(i)}else{var r=e;if(!r.projectId)throw new C(w.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new rt(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new Zr}this._settings=new Io({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(I("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),x(t,"persistence"))throw new C(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Io(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=no(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=S(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Hr(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Vn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ht;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new C(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Vn.clearPersistence(e)];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ensureClientConfigured(),io(t)?this.onSnapshotsInSyncInternal(t):(N("Firestore.onSnapshotsInSync","function",1,t),this.onSnapshotsInSyncInternal({next:t}))},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Gr({next:function(){t.next&&t.next()},error:function(t){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Kr),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new nt(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){v(!!this._settings.host,"FirestoreSettings.host is not set"),v(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Qr(_.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new _o((function(e){if(e instanceof Ro){var n=t,i=e.firestore._databaseId;if(!i.isEqual(n))throw new C(w.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new vo(t,e._key)}return e}))},t.databaseIdFromApp=function(t){var e=t.options;if(!x(e,"projectId"))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return I("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new qo(at.fromString(t),this)},t.prototype.doc=function(t){return I("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Ro.forPath(at.fromString(t),this)},t.prototype.collectionGroup=function(t){if(I("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Vo(new Hi(at.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return I("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new Ao(e,n))}))},t.prototype.batch=function(){return this.ensureClientConfigured(),new No(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(I("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),Ao=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;I("Transaction.get",arguments,1);var n=Wo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var i=t[0];if(i instanceof We)return new Lo(e._firestore,n._key,null,!1,!1);if(i instanceof ze)return new Lo(e._firestore,n._key,i,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)}))},t.prototype.set=function(t,e,n){A("Transaction.set",arguments,2,3);var i=Wo("Transaction.set",t,this._firestore),r=(n=Bo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(i._key,r),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof $r?(M("Transaction.update",arguments,3),i=Wo("Transaction.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(I("Transaction.update",arguments,2),i=Wo("Transaction.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(i._key,r),this},t.prototype.delete=function(t){I("Transaction.delete",arguments,1);var e=Wo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),No=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){A("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var i=Wo("WriteBatch.set",t,this._firestore),r=(n=Bo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(r.toMutations(i._key,ve.NONE)),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof e||e instanceof $r?(M("WriteBatch.update",arguments,3),i=Wo("WriteBatch.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(I("WriteBatch.update",arguments,2),i=Wo("WriteBatch.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(r.toMutations(i._key,ve.exists(!0))),this},t.prototype.delete=function(t){I("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Wo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Ee(e._key,ve.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ro=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ct(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(I("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new C(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new qo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){A("DocumentReference.set",arguments,1,2);var n=(e=Bo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ve.NONE))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof $r?(M("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,i)):(I("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ve.exists(!0)))},t.prototype.delete=function(){return I("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ee(this._key,ve.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||io(t[r])||(z("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return io(t[r])?n=t[r]:(N("DocumentReference.onSnapshot","function",r,t[r]),R("DocumentReference.onSnapshot","function",r+1,t[r+1]),R("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Gr({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var i=t.docs.get(n._key);e.next(new Lo(n.firestore,n._key,i,t.fromCache,t.hasPendingWrites))}},error:i}),o=this._firestoreClient.listen(Hi.atPath(this._key.path),r,t);return function(){r.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return A("DocumentReference.get",arguments,0,1),zo("DocumentReference.get",t),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new Lo(e.firestore,e._key,t,!0,t instanceof ze&&t.hasLocalMutations))}),i):e.getViaSnapshotListener(n,i,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new C(w.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t}(),Do=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Lo=function(){function t(t,e,n,i,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=i,this._hasPendingWrites=r}return t.prototype.data=function(t){return A("DocumentSnapshot.data",arguments,0,1),t=jo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),ke.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(A("DocumentSnapshot.get",arguments,1,2),e=jo("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(Co("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,ke.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ro(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Do(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,i={};return t.forEach((function(t,r){i[t]=n.convertValue(r,e)})),i},t.prototype.convertValue=function(t,e){if(t instanceof qe)return this.convertObject(t,e);if(t instanceof Be)return this.convertArray(t,e);if(t instanceof Ve){var n=t.value(e),i=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(i)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),new Ro(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.convertValue(t,e)}))},t}(),Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Lo),Vo=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,i){I("Query.where",arguments,3),j("Query.where",3,i);var r,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];V("Query.where",o,2,n);var s=Co("Query.where",e),a=Qi.fromString(n);if(s.isKeyField()){if(a===Qi.ARRAY_CONTAINS||a===Qi.ARRAY_CONTAINS_ANY)throw new C(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===Qi.IN){this.validateDisjunctiveFilterElements(i,a);for(var l=[],u=0,c=i;u<c.length;u++){var h=c[u];l.push(this.parseDocumentIdValue(h))}r=new Be(l)}else r=this.parseDocumentIdValue(i)}else a!==Qi.IN&&a!==Qi.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(i,a),r=this.firestore._dataConverter.parseQueryValue("Query.where",i);var d=Gi.create(s,a,r);return this.validateNewFilter(d),new t(this._query.addFilter(d),this.firestore)},t.prototype.orderBy=function(e,n){var i;if(A("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=tr.ASCENDING;else{if("desc"!==n)throw new C(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=tr.DESCENDING}if(null!==this._query.startAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Co("Query.orderBy",e),o=new nr(r,i);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){return I("Query.limit",arguments,1),N("Query.limit","number",1,e),H("Query.limit",1,e),new t(this._query.withLimitToFirst(e),this.firestore)},t.prototype.limitToLast=function(e){return I("Query.limitToLast",arguments,1),N("Query.limitToLast","number",1,e),H("Query.limitToLast",1,e),new t(this._query.withLimitToLast(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];M("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(r),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];M("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(r),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];M("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(r),this.firestore)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];M("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(r),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,i){if(j(t,1,e),e instanceof Lo){if(n.length>0)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new C(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,r._document,i)}var o=[e].concat(n);return this.boundFromFields(t,o,i)},t.prototype.boundFromDocument=function(t,e,n){for(var i=[],r=0,o=this._query.orderBy;r<o.length;r++){var s=o[r];if(s.field.isKeyField())i.push(new Ve(this.firestore._databaseId,e.key));else{var a=e.field(s.field);if(a instanceof Le)throw new C(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=s.field.canonicalString();throw new C(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}i.push(a)}}return new er(i,n)},t.prototype.boundFromFields=function(t,e,n){var i=this._query.explicitOrderBy;if(e.length>i.length)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var s=e[o];if(i[o].field.isKeyField()){if("string"!=typeof s)throw new C(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this._query.path.child(at.fromString(s));if(!ct.isDocumentKey(a))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ct(a);r.push(new Ve(this.firestore._databaseId,l))}else{var u=this.firestore._dataConverter.parseQueryValue(t,s);r.push(u)}}return new er(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];A("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||io(t[r])||(z("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),io(t[r])?n=t[r]:(N("Query.onSnapshot","function",r,t[r]),R("Query.onSnapshot","function",r+1,t[r+1]),R("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Gr({next:function(t){e.next&&e.next(new Uo(n.firestore,n._query,t))},error:i}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,r,t);return function(){r.mute(),o.unlisten(s)}},t.prototype.validateHasExplicitOrderByForLimitToLast=function(t){if(t.hasLimitToLast()&&0===t.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return A("Query.get",arguments,0,1),zo("Query.get",t),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new Uo(e.firestore,e._query,t))}),i):e.getViaSnapshotListener(n,i,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(at.fromString(t));if(!ct.isDocumentKey(e))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Ve(this.firestore._databaseId,new ct(e))}if(t instanceof Ro)return new Ve(this.firestore._databaseId,t._key);throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new C(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof Gi){var e=[Qi.ARRAY_CONTAINS,Qi.ARRAY_CONTAINS_ANY],n=[Qi.IN,Qi.ARRAY_CONTAINS_ANY],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new C(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(t.field,s)}else if(r||i){var a=null;if(r&&(a=this._query.findFilterOperator(n)),null===a&&i&&(a=this._query.findFilterOperator(e)),null!=a)throw new C(w.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Uo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Do(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;A("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(i){t.call(e,n.convertToDocumentImpl(i))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Vo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var i,r=0;return n.docChanges.map((function(e){var o=new Fo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===ki.Added,"Invalid event type for first snapshot"),v(!i||n.query.docComparator(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}}))}var o=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==ki.Metadata})).map((function(e){var i=new Fo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),r=-1,s=-1;return e.type!==ki.Added&&(v((r=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==ki.Removed&&(s=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Ho(e.type),doc:i,oldIndex:r,newIndex:s}}))}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Fo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Uo.prototype.docChanges,t,{get:function(){return function(){throw new C(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var qo=function(t){function e(e,n){var i=t.call(this,Hi.atPath(e),n)||this;if(e.length%2!=1)throw new C(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ro(new ct(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(A("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),N("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return Ro.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){I("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},e}(Vo);function Bo(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,i,r){if(!(i instanceof Array))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+B(i[o]))}(t,0,0,n,(function(t){return"string"==typeof t||t instanceof $r})),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function jo(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function zo(t,e){R(t,"object",1,e),e&&(z(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function Wo(t,e,n){if(e instanceof Ro){if(e.firestore!==n)throw new C(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw W(t,"DocumentReference",1,e)}function Ho(t){switch(t){case ki.Added:return"added";case ki.Modified:case ki.Metadata:return"modified";case ki.Removed:return"removed";default:return y("Unknown change type: "+t)}}var Ko=E(Mo,"Use firebase.firestore() instead."),Qo=E(Ao,"Use firebase.firestore().runTransaction() instead."),Go=E(No,"Use firebase.firestore().batch() instead."),$o=E(Ro,"Use firebase.firestore().doc() instead."),Yo=E(Lo),Xo=E(Fo),Zo=E(Vo),Jo=E(Uo),ts=E(qo,"Use firebase.firestore().collection() instead."),es={Firestore:Ko,GeoPoint:ji,Timestamp:Et,Blob:et,Transaction:Qo,WriteBatch:Go,DocumentReference:$o,DocumentSnapshot:Yo,Query:Zo,QueryDocumentSnapshot:Xo,QuerySnapshot:Jo,CollectionReference:ts,FieldPath:$r,FieldValue:co,setLogLevel:Mo.setLogLevel,CACHE_SIZE_UNLIMITED:Po},ns=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),is=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),rs=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),os="Connection",ss={BatchGetDocuments:"batchGet",Commit:"commit"},as="gl-js/ fire/"+u,ls=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=as},t.prototype.invokeRPC=function(t,e,n){var i=this,r=this.makeUrl(t);return new Promise((function(s,a){var u=new l.XhrIo;u.listenOnce(l.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var e=u.getResponseJson();f(os,"XHR received:",JSON.stringify(e)),s(e);break;case l.ErrorCode.TIMEOUT:f(os,'RPC "'+t+'" timed out'),a(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(f(os,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var i=u.getResponseJson().error;if(i&&i.status&&i.message){var r=(o=i.status.toLowerCase().replace("_","-"),Object.values(w).indexOf(o)>=0?o:w.UNKNOWN);a(new C(r,i.message))}else a(new C(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else f(os,'RPC "'+t+'" failed'),a(new C(w.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{f(os,'RPC "'+t+'" completed.')}var o}));var c=o.__assign({},e);delete c.database;var h=JSON.stringify(c);f(os,"XHR sending: ",r+" "+h);var d={"Content-Type":"text/plain"};i.modifyHeadersForRequest(d,n),u.send(r,"POST",h,d,15)}))},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=l.createWebChannelTransport(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(r.initMessageHeaders,e),a.isReactNative()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f(os,"Creating WebChannel: "+o+" "+r);var s=i.createWebChannel(o,r),u=!1,c=!1,h=new rs({sendFn:function(t){c?f(os,"Not sending because WebChannel is closed:",t):(u||(f(os,"Opening WebChannel transport."),s.open(),u=!0),f(os,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(l.WebChannel.EventType.OPEN,(function(){c||f(os,"WebChannel transport opened.")})),d(l.WebChannel.EventType.CLOSE,(function(){c||(c=!0,f(os,"WebChannel transport closed"),h.callOnClose())})),d(l.WebChannel.EventType.ERROR,(function(t){c||(c=!0,f(os,"WebChannel transport errored:",t),h.callOnClose(new C(w.UNAVAILABLE,"The operation could not be completed")))})),d(l.WebChannel.EventType.MESSAGE,(function(t){if(!c){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(os,"WebChannel received error:",n);var i=n.status,r=function(t){var e=wi[t];if(void 0!==e)return Ei(e)}(i),o=n.message;void 0===r&&(r=w.INTERNAL,o="Unknown error status: "+i+" with message "+n.message),c=!0,h.callOnClose(new C(r,o)),s.close()}else f(os,"WebChannel received:",e),h.callOnMessage(e)}})),setTimeout((function(){h.callOnOpen()}),0),h},t.prototype.makeUrl=function(t){var e=ss[t];return v(void 0!==e,"Unknown REST mapping for: "+t),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+e},t}();function us(t){!function(t){t.INTERNAL.registerService("firestore",(function(t){return new Mo(t)}),function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(es))}(t)}_.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new ls(t))},t.prototype.newConnectivityMonitor=function(){return is.isAvailable()?new is:new ns},t.prototype.newSerializer=function(t){return new vr(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),us(r),e.registerFirestore=us},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,s=n("mrSG"),a=n("zVF4"),l=n("q/0M"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},d=h("localStorage"),p=h("sessionStorage"),f=new l.Logger("@firebase/database"),m=(r=1,function(){return r++}),g=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var i=n.digest();return a.base64.encodeByteArray(i)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"==typeof t[i]&&"number"==typeof t[i].length?n+=y.apply(null,t[i]):n+="object"==typeof t[i]?a.stringify(t[i]):t[i],n+=" ";return n},v=null,_=!0,b=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=l.LogLevel.VERBOSE,v=f.log.bind(f),e&&p.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,p.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===v&&!0===p.get("logging_enabled")&&b(!0)),v){var n=y.apply(null,t);v(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,s.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,s.__spread(t));f.error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,s.__spread(t));throw f.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,s.__spread(t));f.warn(n)},k=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",O="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===T||e===O)return-1;if(e===T||t===O)return 1;var n=Q(t),i=Q(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},I=function(t,e){return t===e?0:t<e?-1:1},M=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},A=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=a.stringify(e[r]),i+=":",i+=A(t[e[r]]);return i+"}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D,L,F,V,U,q,B,j,z,W,H=function(t){var e,n,i,r,o,s,l;for(a.assert(!k(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse(),l=s.join("");var u="";for(o=0;o<64;o+=8){var c=parseInt(l.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},G=function(t){try{t()}catch(e){setTimeout((function(){throw S("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},$=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=P(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J="long_polling",tt=function(){function t(t,e,n,i,r,o){void 0===r&&(r=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return R(e,(function(t,e){i.push(t+"="+e)})),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.namespace;return"firebase"===e.domain&&x(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||x("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!=e.subdomain),path:new X(e.pathString)}},nt=function(t){var e="",n="",i="",r="",o="",a=!0,l="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(h,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=s.__values(t.split("&")),o=r.next();!o.done;o=r.next()){var a=o.value;if(0!==a.length){var l=a.split("=");2===l.length?i[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):S("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(a="https"===l||"wss"===l,u=parseInt(e.substring(c+1),10)):c=t.length;var f=e.split(".");3===f.length?(n=f[1],o=i=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:a,scheme:l,pathString:r,namespace:o}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,rt=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!k(t)||t&&"object"==typeof t&&a.contains(t,".sv")},lt=function(t,e,n,i,r){r&&void 0===n||ut(a.errorPrefix(t,e,r),n,i)},ut=function(t,e,n){var i=n instanceof X?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(k(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,o=!1;if(R(e,(function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),ut(t,n,i),i.pop()})),r&&o)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,i,r){if(!r||void 0!==n){var o=a.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];R(n,(function(t,e){var n=new X(t);if(ut(o,e,i.child(n)),".priority"===n.getBack()&&!at(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!ot(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var s=null;for(n=0;n<e.length;n++){if(i=e[n],null!==s&&s.contains(i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(o,s)}},ht=function(t,e,n,i){if(!i||void 0!==n){if(k(n))throw new Error(a.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!at(n))throw new Error(a.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,i){if(!(i&&void 0===n||ot(n)))throw new Error(a.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ft=function(t,e,n,i){if(!(i&&void 0===n||st(n)))throw new Error(a.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ft(t,e,n,i)},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},yt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),st(t)}(i))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},vt=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,i)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),lt("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),lt("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var r=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),bt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(D="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L=0,F=[],function(t){var e,n=t===L;L=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=D.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===F[e];e--)F[e]=0;F[e]++}else for(e=0;e<12;e++)F[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=D.charAt(F[e]);return a.assert(20===r.length,"nextPushId: Length should be 20."),r}),Ct=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ct(T,t),i=new Ct(T,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Ct.MIN},t}(),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return V},set:function(t){V=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(O,V)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ct(t,V)},e.prototype.toString=function(){return".key"},e}(Et),St=new xt,kt=function(t){return"number"==typeof t?"number:"+H(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===U||t.isEmpty(),"priority of unexpected type.");a.assert(t===U||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ot=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return q},set:function(t){q=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(a.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+kt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?H(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return a.assert(r>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Pt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?P(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(O,new Ot("[PRIORITY-POST]",j))},e.prototype.makePost=function(t,e){var n=B(t);return new Ct(e,new Ot("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),It=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Mt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i,r;return(r=(i=n(t,(r=this).key))<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Mt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new It(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new It(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new At,t}(),Rt=Math.log(2),Dt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Rt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,s,a=i-e;if(0==a)return null;if(1==a)return o=t[e],s=n?n(o):o,new Mt(s,o.node,Mt.BLACK,null,null);var l=parseInt(a/2,10)+e,u=r(e,l),c=r(l+1,i);return o=t[l],s=n?n(o):o,new Mt(s,o.node,Mt.BLACK,u,c)},o=function(e){for(var i=null,o=null,s=t.length,a=function(e,i){var o=s-e,a=s;s-=e;var u=r(o+1,a),c=t[o],h=n?n(c):c;l(new Mt(h,c.node,i,null,u))},l=function(t){i?(i.left=t,i=t):(o=t,i=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?a(h,Mt.BLACK):(a(h,Mt.BLACK),a(h,Mt.RED))}return o}(new Dt(t.length));return new Nt(i||e,o)},Ft={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(Ft&&Pt,"ChildrenNode.ts has not been loaded"),z=z||new t({".priority":Ft},{".priority":Pt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==St,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],o=!1,l=n.getIterator(Ct.Wrap),u=l.getNext();u;)o=o||e.isDefinedOn(u.node),r.push(u),u=l.getNext();i=o?Lt(r,e.getCompare()):Ft;var c=e.toString(),h=s.__assign({},this.indexSet_);h[c]=e;var d=s.__assign({},this.indexes_);return d[c]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(a.map(this.indexes_,(function(t,r){var o=a.safeGet(i.indexSet_,r);if(a.assert(o,"Missing index implementation for "+r),t===Ft){if(o.isDefinedOn(e.node)){for(var s=[],l=n.getIterator(Ct.Wrap),u=l.getNext();u;)u.name!=e.name&&s.push(u),u=l.getNext();return s.push(e),Lt(s,o.getCompare())}return Ft}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Ct(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,(function(t){if(t===Ft)return t;var i=n.get(e.name);return i?t.remove(new Ct(e.name,i)):t})),this.indexSet_)},t}();function Ut(t,e){return P(t.name,e.name)}function qt(t,e){return P(t,e)}var Bt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new Nt(qt),null,Vt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i,r=new Ct(e,n),o=void 0,s=void 0;return n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_)),i=o.isEmpty()?W:this.priorityNode_,new t(o,i,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Pt,(function(s,a){n[s]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1})),!e&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+kt(this.getPriority().val())+":"),this.forEachChild(Pt,(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Ct(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getIteratorFrom(t.name,Ct.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jt?-1:0},t.prototype.withIndex=function(e){if(e===St||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===St||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Pt),i=e.getIterator(Pt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===St?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),jt=new(function(t){function e(){return t.call(this,new Nt(qt),Bt.EMPTY_NODE,Vt.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Bt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Bt));Object.defineProperties(Ct,{MIN:{value:new Ct(T,Bt.EMPTY_NODE)},MAX:{value:new Ct(O,jt)}}),xt.__EMPTY_NODE=Bt.EMPTY_NODE,Ot.__childrenNodeConstructor=Bt,U=jt,j=jt;var zt=!0;function Wt(t,e){if(void 0===e&&(e=null),null===t)return Bt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ot(t,Wt(e));if(t instanceof Array||!zt){var n=Bt.EMPTY_NODE;return R(t,(function(e,i){if(a.contains(t,e)&&"."!==e.substring(0,1)){var r=Wt(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}})),n.updatePriority(Wt(e))}var i=[],r=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=Wt(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new Ct(t,n)))}})),0==i.length)return Bt.EMPTY_NODE;var o=Lt(i,Ut,(function(t){return t.name}),qt);if(r){var s=Lt(i,Pt.getCompare());return new Bt(o,Wt(e),new Vt({".priority":s},{".priority":Pt}))}return new Bt(o,Wt(e),Vt.Default)}B=Wt;var Ht,Kt,Qt,Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return Ct.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new Ct(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),$t=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?P(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=Wt(t),i=Bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(e,i)},e.prototype.maxPost=function(){var t=Bt.EMPTY_NODE.updateChild(this.indexPath_,jt);return new Ct(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Yt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ft("DataSnapshot.child",1,e,!1);var n=new X(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,Pt)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ft("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,(function(i,r){return e(new t(r,n.ref_.child(i),Pt))}))},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Xt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Zt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Jt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Xt("value",this,new Yt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),te=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return a.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Xt(t.type,this,new Yt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),o=i.length;if(o===r.length){if(1===o){var s=i[0],a=r[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return r.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ee=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===St){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=T)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!=O)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===Pt){if(null!=e&&!at(e)||null!=n&&!at(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof $t||t.getIndex()===Gt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){a.validateArgCount("Query.on",2,4,arguments.length),dt("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new Jt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new te(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),dt("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var o=e||null;i=new Jt(o,null,n||null)}else t&&(e&&((r={})[t]=e),i=new te(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),dt("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",i,r),l=!0,u=new a.Deferred;u.promise.catch((function(){}));var c=function(t){l&&(l=!1,o.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ft("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new $t(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(St);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Pt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),lt("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),lt("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),lt("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return i&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,a.validateCallback(t,3,i.cancel,!0),i.context=n,a.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ne=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var i=e.getFront();this.children.has(i)||this.children.set(i,new t);var r=this.children.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Pt,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var i=t.getFront();return t=t.popFront(),this.children.has(i)&&this.children.get(i).forget(t)&&this.children.delete(i),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,i){var r=new X(t.toString()+"/"+n);i.forEachTree(r,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ie=function(t,e){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,i=t.getPriority().val(),r=ie(i,e);if(t.isLeafNode()){var o=t,s=ie(o.getValue(),e);return s!==o.getValue()||r!==o.getPriority().val()?new Ot(s,Wt(r)):t}var a=t;return n=a,r!==a.getPriority().val()&&(n=n.updatePriority(new Ot(r))),a.forEachChild(Pt,(function(t,i){var r=re(i,e);r!==i&&(n=n.updateImmediateChild(t,r))})),n},oe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),se=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,a.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ae=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=se.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),le=function(){return Kt||(Kt=new Nt(I)),Kt},ue=function(){function t(t,e){void 0===e&&(e=le()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new X(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),o=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(t.child(i),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,i){i.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ce=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new he(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),fe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new pe(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new pe(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new pe(Bt.EMPTY_NODE,!1,!1),new pe(Bt.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(me.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(me.childAddedChange(e,n)):o.trackChildChange(me.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Pt,(function(t,i){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,i))})),e.isLeafNode()||e.forEachChild(Pt,(function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(me.childChangedChange(e,i,r))}else n.trackChildChange(me.childAddedChange(e,i))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e==me.CHILD_ADDED||e==me.CHILD_CHANGED||e==me.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e==me.CHILD_ADDED&&r==me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e==me.CHILD_REMOVED&&r==me.CHILD_ADDED)this.changeMap.delete(n);else if(e==me.CHILD_REMOVED&&r==me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,i.oldSnap));else if(e==me.CHILD_CHANGED&&r==me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!=me.CHILD_CHANGED||r!=me.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),ve=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_e=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),be=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var o,s,l=new ye;if(n.type===oe.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,i,r,l):(a.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,i,r,s,l))}else if(n.type===oe.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,i,r,l):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,i,r,s,l))}else if(n.type===oe.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,i,r,l):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,l)}else{if(n.type!==oe.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,i,l)}var d=l.getChanges();return t.maybeAddValueEvent_(e,o,d),new be(o,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,l=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof Bt?u:Bt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,r)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var d=e.getFront();if(".priority"==d){a.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();l=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,l);s=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var m=e.popFront(),g=void 0;if(o.isCompleteForChild(d)){l=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),l);g=null!=y?o.getNode().getImmediateChild(d).updateChild(m,y):o.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),d,g,m,i,r):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,o,s){var a,l=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(e,n);a=u.updateFullNode(l.getNode(),c,null)}else{var h=e.getFront();if(!l.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"==h?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),h,p,d,ve,null)}var f=t.updateServerSnap(a,l.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),m=new _e(i,f,r);return this.generateEventCacheAfterServerEvent_(f,e,i,m,s)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,o){var s,a,l=t.getEventCache(),u=new _e(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var h=e.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Bt.EMPTY_NODE}if(d.equals(p))s=t;else{var m=this.filter_.updateChild(l.getNode(),c,p,h,u,o);s=t.updateEventSnap(m,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,o,s){var a=this,l=e;return i.foreach((function(i,u){var c=n.child(i);t.cacheHasChild_(e,c.getFront())&&(l=a.applyUserOverwrite_(l,c,u,r,o,s))})),i.foreach((function(i,u){var c=n.child(i);t.cacheHasChild_(e,c.getFront())||(l=a.applyUserOverwrite_(l,c,u,r,o,s))})),l},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var l,u=t;l=e.isEmpty()?n:ue.Empty.setTree(e,n);var c=t.getServerCache().getNode();return l.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var l=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(l,n);u=a.applyServerOverwrite_(u,new X(e),h,i,r,o,s)}})),l.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!l){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new X(e),d,i,r,o,s)}})),u},t.prototype.ackUserWrite_=function(t,e,n,i,r,o){if(null!=i.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,s,o);if(e.isEmpty()){var l=ue.Empty;return a.getNode().forEachChild(St,(function(t,e){l=l.set(new X(t),e)})),this.applyServerMerge_(t,e,l,i,r,s,o)}return t}var u=ue.Empty;return n.foreach((function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(u=u.set(t,a.getNode().getChild(i)))})),this.applyServerMerge_(t,e,u,i,r,s,o)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ve,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var s=new _e(n,t,i),l=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof Bt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(l,c=c,r)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(l,d,p,e.popFront(),s,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,Bt.EMPTY_NODE,e.popFront(),s,r):l).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Ce=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],o=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(r,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,me.CHILD_MOVED,o,n,e),this.generateEventsForType_(r,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,me.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,r);i.forEach((function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new Ct(t.childName,t.snapshotNode),i=new Ct(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new ge(n.getIndex()),r=n.getNodeFilter();this.processor_=new we(r);var o=e.getServerCache(),s=e.getEventCache(),a=i.updateFullNode(Bt.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(Bt.EMPTY_NODE,s.getNode(),null),u=new pe(a,o.isFullyInitialized(),i.filtersNodes()),c=new pe(l,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=new fe(c,u),this.eventGenerator_=new Ce(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach((function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)}))}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(s)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),a.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Pt,(function(t,e){n.push(me.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),xe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Qt,"Reference.ts has not been loaded"),Qt},set:function(t){a.assert(!Qt,"__referenceConstructor has already been defined"),Qt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var i,r,o=t.source.queryId;if(null!==o){var l=this.views.get(o);return a.assert(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(t,e,n)}var u=[];try{for(var c=s.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((l=h.value).applyOperation(t,e,n))}catch(d){i={error:d}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return u},t.prototype.addEventRegistration=function(t,e,n,i,r){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(r?i:null),l=!1;a?l=!0:i instanceof Bt?(a=n.calcCompleteEventChildren(i),l=!1):(a=Bt.EMPTY_NODE,l=!1);var u=new fe(new pe(a,l,!1),new pe(i,r,!1));s=new Ee(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r,o,a=e.queryIdentifier(),l=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=s.__read(d.value,2),m=f[0];u=u.concat((p=f[1]).removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(m),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery()))}}catch(g){r={error:g}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}else(p=this.views.get(a))&&(u=u.concat(p.removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery())));return c&&!this.hasCompleteView()&&l.push(new t.__referenceConstructor(e.repo,e.path)),{removed:l,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=s.__values(this.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var r=s.__values(this.views.values()),o=r.next();!o.done;o=r.next())i=i||o.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=s.__values(this.views.values()),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.getQuery().getQueryParams().loadsAllData())return r}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Se=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ue(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,s=X.relativePath(r,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(r,o))}var a=new ue(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,i){n=n.addWrite(t.child(e),i)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ue.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Pt,(function(e,n){t.push(new Ct(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ct(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ue(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=t(e.child(n),o,i)})),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i}(X.Empty,this.writeTree_,t)},t.Empty=new t(new ue(null)),t}(),ke=function(){function t(){this.visibleWrites_=Se.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Te(t,this)},t.prototype.addOverwrite=function(t,e,n,i){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,s=this.allWrites_.length-1;r&&s>=0;){var l=this.allWrites_[s];l.visible&&(s>=n&&this.recordContainsPath_(l,i.path)?r=!1:i.path.contains(l.path)&&(o=!0)),s--}return!!r&&(o?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):R(i.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(e);return!r&&o.isEmpty()?n:r||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Bt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||Bt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Bt.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(Pt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Pt,(function(t,e){var i=r.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,i)})),r.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){a.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,o){var s,a=this.visibleWrites_.childCompoundWrite(t),l=a.getCompleteNode(X.Empty);if(null!=l)s=l;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=r?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<i;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=Se.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var s=o.path,l=void 0;if(o.snap)n.contains(s)?(l=X.relativePath(n,s),i=i.addWrite(l,o.snap)):s.contains(n)&&(l=X.relativePath(s,n),i=i.addWrite(X.Empty,o.snap.getChild(l)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))l=X.relativePath(n,s),i=i.addWrites(l,o.children);else if(s.contains(n))if((l=X.relativePath(s,n)).isEmpty())i=i.addWrites(X.Empty,o.children);else{var u=a.safeGet(o.children,l.getFront());if(u){var c=u.getChild(l.popFront());i=i.addWrite(X.Empty,c)}}}}}return i},t}(),Te=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Oe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ue.Empty,this.pendingWriteTree_=new ke,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new he(se.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=ue.fromObject(e);return this.applyOperationToSyncPoints_(new de(se.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=ue.Empty;return null!=n.snap?i=i.set(X.Empty,!0):R(n.children,(function(t,e){i=i.set(new X(t),e)})),this.applyOperationToSyncPoints_(new ae(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new he(se.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ue.fromObject(e);return this.applyOperationToSyncPoints_(new de(se.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ce(se.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=t.parseQueryKey_(r),s=o.path,a=o.queryId,l=X.relativePath(s,e),u=new he(se.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var o=t.parseQueryKey_(r),s=o.path,a=o.queryId,l=X.relativePath(s,e),u=ue.fromObject(n),c=new de(se.forServerTaggedQuery(a),l,u);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),o=r.path,s=r.queryId,a=X.relativePath(o,e),l=new ce(se.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,l)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,(function(t,e){var n=X.relativePath(t,i);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,l=this.syncPointTree_.get(i);l?(o=o||l.hasCompleteView(),r=r||l.getCompleteServerCache(X.Empty)):(l=new xe,this.syncPointTree_=this.syncPointTree_.set(i,l)),null!=r?s=!0:(s=!1,r=Bt.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(r=r.updateImmediateChild(t,n))})));var u=l.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(i),p=l.addEventRegistration(e,n,d,r,s);if(!u&&!o){var f=l.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,i){var r=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var l=s.removeEventRegistration(e,n,i);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=l.removed;a=l.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var m=p[f],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&u.length>0&&!i&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=r.queryToTagMap.get(t.makeQueryKey_(e));r.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,(function(e,n){var i=X.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r}));return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),R(n,(function(t,e){i=i.concat(e)})),i}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),o=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),r,o.hashFn,o.onComplete),l=this.syncPointTree_.subtree(i);if(r)a.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){i=i.concat(e)})),i})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Bt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(X.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(X.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=i.child(s);o=o.concat(this.applyOperationHelper_(a,l,u,c))}return r&&(o=o.concat(r.applyOperation(t,i,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,l=i.child(e),u=t.operationForChild(e);u&&(s=s.concat(r.applyOperationDescendantsHelper_(u,o,a,l)))})),o&&(s=s.concat(o.applyOperation(t,i,n))),s},t.nextQueryTag_=1,t}(),Pe=function(){function t(){this.rootNode_=Bt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ie=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,(function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}))},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Me=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Ae=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Me),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ne=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.__assign({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Re=1e4,De=3e4,Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);var n=Re+(De-Re)*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;R(e,(function(e,r){r>0&&a.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)})),i&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();v&&w("event: "+e.toString()),G(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ue=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=s.__spread(this.listeners_[t]),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),qe=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))}),!1),i}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ue),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ue),je=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&G((function(){n.onMessage_(t[e])}))},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),ze="pLPCommand",We="pRTLPCB",He=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Ae.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new je(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ke((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.__read(t,5),r=i[0],o=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=o,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.__read(t,2),r=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(a.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),i=N(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ke=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window[ze+this.uniqueCallbackIdentifier]=e,window[We+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){w("frame writing exception"),l.stack&&w(l.stack),w(l)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(r),i()}))},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))},t}(),Qe="",Ge=null;"undefined"!=typeof MozWebSocket?Ge=MozWebSocket:"undefined"!=typeof WebSocket&&(Ge=WebSocket);var $e=function(){function t(e,n,i,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Ae.getCollection(n),this.connURL=t.connectionURL_(n,i,r)}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var i={headers:{"User-Agent":"Firebase/5/"+Qe+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},r=process.env,o=0==this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new Ge(this.connURL,[],i)}else this.mySock=new Ge(this.connURL)}catch(l){this.log_("Error instantiating WebSocket.");var s=l.message||l.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ge&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ye=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,$e]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=$e&&$e.isAvailable(),o=r&&!$e.previouslyFailed();if(e.webSocketOnly&&(r||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[$e];else{var a=this.transports_=[];try{for(var l=s.__values(t.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Xe=function(){function t(t,e,n,i,r,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ye(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,i)}),Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=M("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ze=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=1e3,tn=3e5,en=function(t){function e(n,i,r,o,s,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=i,u.onConnectStatus_=r,u.onServerInfoUpdate_=o,u.authTokenProvider_=s,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=C("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Je,u.maxReconnectDelay_=tn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),qe.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",u.onOnline_,u),u}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(a.stringify(r)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=i.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,l=s.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(r,o),t.onComplete&&t.onComplete(l,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){i&&setTimeout((function(){i(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,(function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Je),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,i())};this.realtime_={close:c,sendRequest:function(t){a.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){l?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Xe(r,o.repoInfo_,t,n,i,(function(t){S(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),l||(a.CONSTANTS.NODE_ADMIN&&S(t),c())}))}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return A(t)})).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new X(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var r=s.__values(this.listens.values()),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var l=(n=void 0,s.__values(a.values())),u=l.next();!u.done;u=l.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Qe.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ze),nn=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=C("p:rest:"),r.listens_={},r}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var l=e.getListenId_(t,i),u={};this.listens_[l]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,i),a.safeGet(o.listens_,l)===u&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(r){var o=r&&r.accessToken;o&&(e.auth=o);var s=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+a.querystring(e);i.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){i.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=a.jsonEval(l.responseText)}catch(e){S("Failed to parse JSON response for "+s+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&S("Got unsuccessful REST response for "+s+" Status: "+l.status),n(l.status);n=null}},l.open("GET",s,!0),l.send()}))},e}(Ze),rn=function(){function t(t,e,n){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ne,this.persistentConnection_=null;var r=new Ie(n);if(this.stats_=Ae.getCollection(t),e||$())this.server_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new en(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Ae.getOrCreateReporter(t,(function(){return new Le(i.stats_,i.server_)})),this.transactions_init_(),this.infoData_=new Pe,this.infoSyncTree_=new Oe({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Oe({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var s=a.map(e,(function(t){return Wt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(r,s,i)}else{var l=Wt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,l,i)}else if(n){var u=a.map(e,(function(t){return Wt(t)}));o=this.serverSyncTree_.applyServerMerge(r,u)}else{var c=Wt(e);o=this.serverSyncTree_.applyServerOverwrite(r,c)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),i=Wt(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Wt(e,n),a=re(s,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,a,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||S("set at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(l,!o);r.eventQueue_.raiseEventsForChangedPath(t,s),r.callOnCompleteCallback(i,e,n)}));var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,o=this.generateServerValues(),s={};if(R(e,(function(t,e){r=!1;var n=Wt(e);s[t]=re(n,o)})),r)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(l),this.server_.merge(t.toString(),e,(function(e,r){var o="ok"===e;o||S("update at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(a,!o),l=s.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(l,s),i.callOnCompleteCallback(n,e,r)})),R(e,(function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new ne;return t.forEachTree(new X(""),(function(t,i){n.remember(t,re(i,e))})),n}(this.onDisconnect_,e),i=[];n.forEachTree(X.Empty,(function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)})),this.onDisconnect_=new ne,this.eventQueue_.raiseEventsForChangedPath(X.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)}))},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=Wt(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),(function(e,o){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,o=Wt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(a.isEmpty(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(r,o){"ok"===r&&R(e,(function(e,n){var r=Wt(n);i.onDisconnect_.remember(t.child(e),r)})),i.callOnCompleteCallback(n,r,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ne(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,s.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&G((function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!0,configurable:!0}),t}(),on=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new Ct(e,n))||(n=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Bt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Bt.EMPTY_NODE);var r=this;return e.forEachChild(Pt,(function(t,e){r.matches(new Ct(t,e))||(i=i.updateImmediateChild(t,Bt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),sn=function(){function t(t){this.rangedFilter_=new on(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new Ct(e,n))||(n=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Bt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Bt.EMPTY_NODE);var a=void 0,l=void 0,u=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)s=r.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,l)<=0?o++:i=i.updateImmediateChild(s.name,Bt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var l=t;a.assert(l.numChildren()==this.limit_,"");var u=new Ct(e,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(e)){for(var d=l.getImmediateChild(e),p=i.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name==e||l.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=r&&r.trackChildChange(me.childChangedChange(e,n,d)),l.updateImmediateChild(e,n);null!=r&&r.trackChildChange(me.childRemovedChange(e,d));var m=l.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(me.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?t:h&&o(c,u)>=0?(null!=r&&(r.trackChildChange(me.childRemovedChange(c.name,c.node)),r.trackChildChange(me.childAddedChange(e,n))),l.updateImmediateChild(e,n).updateImmediateChild(c.name,Bt.EMPTY_NODE)):t},t}(),an=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==Pt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Pt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new sn(this):new on(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===Pt?e=n.PRIORITY_INDEX:this.index_===Gt?e=n.VALUE_INDEX:this.index_===St?e=n.KEY_INDEX:(a.assert(this.index_ instanceof $t,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=a.stringify(e),this.startSet_&&(i[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),ln=function(t){function e(e,n){if(!(e instanceof rn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,an.DEFAULT,!1)||this}return s.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?mt("Reference.child",1,t,!1):ft("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),lt("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var r=new a.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),lt("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),vt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new a.Deferred;"function"==typeof e&&i.promise.catch((function(){}));var r=function(t,n,r){t?i.reject(t):i.resolve(new bt(n,r)),"function"==typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),lt("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=wt(i),o=this.child(r),s=this.child(r);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ee);ee.__referenceConstructor=ln,xe.__referenceConstructor=ln;var un=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),cn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new un),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,i=e instanceof X?e:new X(e),r=this;null!==(n=i.getFront());)r=new t(n,r,a.safeGet(r.node_.children,n)||new un),i=i.popFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(i,r){e(new t(i,n,r))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=a.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),hn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});rn.MAX_TRANSACTION_RETRIES_=25,rn.prototype.transactions_init_=function(){this.transactionQueueTree_=new cn},rn.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},o=new ln(this,t);o.on("value",r);var s={path:t,update:e,onComplete:n,status:null,order:m(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(t);s.currentInputSnapshot=l;var u=s.update(l.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Yt(s.currentInputSnapshot,new ln(this,s.path),Pt);s.onComplete(null,!1,c)}}else{ut("transaction failed: Data returned ",u,s.path),s.status=hn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&a.contains(u,".priority")?(p=a.safeGet(u,".priority"),a.assert(at(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Bt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),g=Wt(u,p),y=re(g,f);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},rn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Bt.EMPTY_NODE},rn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===hn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},rn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map((function(t){return t.currentWriteId})),r=this.getLatestState_(t,i),o=r,s=r.hash(),l=0;l<e.length;l++){var u=e[l];a.assert(u.status===hn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=hn.SENT,u.retryCount++;var c=X.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,(function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=0;s<e.length;s++){if(e[s].status=hn.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,l=new ln(n,e[s].path),u=new Yt(a,l,Pt);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),s=0;s<o.length;s++)G(o[s])}else{if("datastale"===i)for(s=0;s<e.length;s++)e[s].status=e[s].status===hn.SENT_NEEDS_ABORT?hn.NEEDS_ABORT:hn.RUN;else for(S("transaction at "+d.toString()+" failed: "+i),s=0;s<e.length;s++)e[s].status=hn.NEEDS_ABORT,e[s].abortReason=i;n.rerunTransactions_(t)}}),s)},rn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},rn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter((function(t){return t.status===hn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var s=t[o],l=X.relativePath(e,s.path),u=!1,c=void 0;if(a.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===hn.NEEDS_ABORT)u=!0,c=s.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===hn.RUN)if(s.retryCount>=rn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,r);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ut("transaction failed: Data returned ",d,s.path);var p=Wt(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=s.currentWriteId,m=this.generateServerValues(),g=re(p,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],u&&(t[o].status=hn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===c){var y=new ln(this,t[o].path),v=new Yt(t[o].currentInputSnapshot,y,Pt);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)G(n[o]);this.sendReadyTransactions_()}},rn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},rn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},rn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},rn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==hn.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},rn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(i),i.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},rn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)e[o].status===hn.SENT_NEEDS_ABORT||(e[o].status===hn.SENT?(a.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,e[o].status=hn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(a.assert(e[o].status===hn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),o=0;o<n.length;o++)G(n[o])}};var dn,pn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return dn||(dn=new t),dn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&x("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=et(n),r=i.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(r=(i=et(n="http://"+o+"?ns="+r.namespace)).repoInfo),yt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||x("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(r,t).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||x("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=a.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var i=a.safeGet(n,t.toURLString());return i&&x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new rn(t,this.useRestClient_,e),n[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){this.repo_=t,t instanceof rn||x("Don't call new Database() directly - please use firebase.database()."),this.root_=new ln(t,X.Empty),this.INTERNAL=new mn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof ln?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=et(t);yt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&x(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&x("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),mn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.database.checkDeleted_("delete"),pn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),gn=Object.freeze({__proto__:null,forceLongPolling:function(){$e.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return $e.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),yn=en;en.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},en.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vn=Object.freeze({__proto__:null,DataConnection:yn,RealTimeConnection:Xe,hijackHash:function(t){var e=en.prototype.put;return en.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){en.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){pn.getInstance().forceRestClient(t)}}),_n=fn.ServerValue;function bn(e){Qe=e.SDK_VERSION;var n=e.INTERNAL.registerService("database",(function(t,e,n){return pn.getInstance().databaseFromApp(t,n)}),{Reference:ln,Query:ee,Database:fn,DataSnapshot:Yt,enableLogging:b,INTERNAL:gn,ServerValue:_n,TEST_ACCESS:vn},null,!0);a.isNodeSdk()&&(t.exports=n)}bn(o),e.DataSnapshot=Yt,e.Database=fn,e.OnDisconnect=_t,e.Query=ee,e.Reference=ln,e.ServerValue=_n,e.enableLogging=b,e.registerDatabase=bn},Wcq6:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;t.exports=r},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return l})),n.d(e,"setLogLevel",(function(){return u}));var r=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=o.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,i(["["+s+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,i(["["+s+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,i(["["+s+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,i(["["+s+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},l=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function u(t){r.forEach((function(e){e.logLevel=t}))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i),l=new o.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t);var r=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){i.tokenListeners_.push(t),setTimeout((function(){return t(null)}),0)},removeAuthTokenListener:function(t){i.tokenListeners_=i.tokenListeners_.filter((function(e){return e!==t}))},analytics:{logEvent:function(){r.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,i=Object.keys(t.services_);n<i.length;n++)for(var r=i[n],o=0,s=Object.keys(t.services_[r]);o<s.length;o++)e.push(t.services_[r][s[o]]);return Promise.all(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,i=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=i}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=u),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){if(o.deepExtend(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++)this.INTERNAL.addAuthTokenListener(n[e]);this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var i=0,r=this.analyticsEventRequests_;i<r.length;i++)this.INTERNAL.analytics.logEvent.apply(void 0,r[i]);this.analyticsEventRequests_=[]}}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function t(){var e=function(t){var e={},n={},i={},r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=u);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw l.create("duplicate-app",{appName:a});var h=new t(n,s,r);return e[a]=h,c(h,"create"),h},app:s,apps:null,SDK_VERSION:"7.3.0",INTERNAL:{registerService:function(e,u,c,d,p){if(void 0===p&&(p=!1),n[e])return h.debug("There were multiple attempts to register service "+e+"."),r[e];function f(t){if(void 0===t&&(t=s()),"function"!=typeof t[e])throw l.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=u,d&&(i[e]=d,a().forEach((function(t){d("create",t)}))),void 0!==c&&o.deepExtend(f,c),r[e]=f,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this._getService.bind(this,e);return i.apply(this,p?t:[])},f},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:d}};function s(t){if(!o.contains(e,t=t||u))throw l.create("no-app",{appName:t});return e[t]}function a(){return Object.keys(e).map((function(t){return e[t]}))}function c(t,e){for(var r=0,o=Object.keys(n);r<o.length;r++){var s=d(0,o[r]);if(null===s)return;i[s]&&i[s](e,t)}}function d(t,e){return"serverAuth"===e?null:e}return r.default=r,Object.defineProperty(r,"apps",{get:a}),s.App=t,r}(c);return e.INTERNAL=r.__assign(r.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),f=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,t)};var m=p;e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ai})),n.d(e,"EventType",(function(){return li})),n.d(e,"WebChannel",(function(){return ui})),n.d(e,"XhrIo",(function(){return ci})),n.d(e,"createWebChannelTransport",(function(){return si}));var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=r;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=a(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var P,I=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function M(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var N=s.navigator;if(N){var R=N.userAgent;if(R){P=R;break t}}P=""}function D(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function U(t){return U[" "](t),t}U[" "]=c;var q,B,j=M(P,"Opera"),z=M(P,"Trident")||M(P,"MSIE"),W=M(P,"Edge"),H=W||z,K=M(P,"Gecko")&&!(M(P.toLowerCase(),"webkit")&&!M(P,"Edge"))&&!(M(P,"Trident")||M(P,"MSIE"))&&!M(P,"Edge"),Q=M(P.toLowerCase(),"webkit")&&!M(P,"Edge");function G(){var t=s.document;return t?t.documentMode:void 0}t:{var $="",Y=(B=P,K?/rv:([^\);]+)(\)|;)/.exec(B):W?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Q?/WebKit\/(\S+)/.exec(B):j?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&($=Y?Y[1]:""),z){var X=G();if(null!=X&&X>parseFloat($)){q=String(X);break t}}q=$}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=I(String(q)).split("."),i=I(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=A(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==s[2].length,0==a[2].length)||A(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;Z=et&&z?G()||("CSS1Compat"==et.compatMode?parseInt(q,10):5):void 0;var nt=!z||9<=Number(Z),it=z&&!tt("9"),rt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{U(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},C(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.da=r,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=x(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==i)return r}return-1}dt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ft(t,e,i,r);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);return null}return i=xt(i),e&&e[lt]?e.Ba(n,i,f(r)?!!r.capture:!!r,o):vt(e,n,i,!0,r,o)}(t,e,n,i,r);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,i,r);return null}return n=xt(n),t&&t[lt]?t.Aa(e,n,f(i)?!!i.capture:!!i,r):vt(t,e,n,!1,i,r)}function vt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=f(r)?!!r.capture:!!r;if(s&&!nt)return null;var a=Ct(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rt||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(bt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function _t(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(bt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,i=t.da||t.src;return t.Z&&_t(t),n.call(i,e)}(t,nt?new st(e,this):e=new st(e||u("window.event"),this))}function Ct(t){return(t=t[mt])instanceof dt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function St(){E.call(this),this.c=new dt(this),this.J=this,this.B=null}function kt(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,l=s.da||s.src;s.Z&&pt(t.c,s),r=!1!==a.call(l,i)&&r}}return r&&0!=i.Ja}C(St,E),St.prototype[lt]=!0,(i=St.prototype).addEventListener=function(t,e,n,i){yt(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);else r=f(r)?!!r.capture:!!r,i=xt(i),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=ft(s=e.a[n],i,r,o))&&(ht(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,i,r,o)),(i=-1<e?n[e]:null)&&_t(i))}(this,t,e,n,i)},i.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var i=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var r=t;V(t=new ot(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];r=kt(s,i,!0,t)&&r}if(r=kt(s=t.a=n,i,!0,t)&&r,r=kt(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=kt(s=t.a=e[o],i,!1,t)&&r;return r},i.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ht(n[i]);delete e.a[t],e.b--}}this.B=null},i.Aa=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},i.Ba=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Tt=s.JSON.stringify;function Ot(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Pt(){this.b=this.a=null}Ot.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var It,Mt=new Ot((function(){return new Nt}),(function(t){t.reset()}));function At(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function Rt(t){s.setTimeout((function(){throw t}),0)}function Dt(t,e){It||function(){var t=s.Promise.resolve(void 0);It=function(){t.then(Vt)}}(),Lt||(It(),Lt=!0),Ft.add(t,e)}Pt.prototype.add=function(t,e){var n=Mt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new Pt;function Vt(){for(var t;t=At();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Mt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){St.call(this),this.b=t||1,this.a=e||s,this.f=_(this.gb,this),this.g=w()}function qt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function jt(t,e,n){E.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.ab,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Wt(t){E.call(this),this.b=t,this.a={}}C(Ut,St),(i=Ut.prototype).ba=!1,i.L=null,i.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(qt(this),this.start()))}},i.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},i.G=function(){Ut.N.G.call(this),qt(this),delete this.a},C(jt,E),(i=jt.prototype).ea=!1,i.U=null,i.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},i.G=function(){jt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},i.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Wt,E);var Ht=[];function Kt(t,e,n,i){d(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var r=0;r<n.length;r++){var o=yt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){D(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Gt(){}Wt.prototype.G=function(){Wt.N.G.call(this),Qt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=new St;function Yt(t){ot.call(this,"serverreachability",t)}function Xt(t){$t.dispatchEvent(new Yt($t,t))}function Zt(t){ot.call(this,"statevent",t)}function Jt(t){$t.dispatchEvent(new Zt($t,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}C(Yt,ot),C(Zt,ot),C(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ie={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function re(){}function oe(){}re.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Na:"c",rb:"d"};function le(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Wt(this),this.O=de,this.P=new Ut(t=H?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(le,ot),C(ue,ot),C(ce,re),se=new ce;var de=45e3,pe={},fe={};function me(t,e,n){t.F=1,t.f=qe(Ne(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,i){t.F=1,t.f=qe(Ne(e)),t.l=null,t.H=n,ye(t,i)}function ye(t,e){t.v=w(),be(t),t.D=Ne(t.f),Ue(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new jt(_(t.Ka,t,t.a),t.J)),Kt(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var i=!0;!t.m&&t.A<n.length;){var r=_e(t,n);if(r==fe){4==e&&(t.c=4,Jt(14),i=!1);break}if(r==pe){t.c=4,Jt(15),i=!1;break}Se(t,r)}4==e&&0==n.length&&(t.c=1,Jt(16),i=!1),t.b=t.b&&i,i||(xe(t),Ee(t))}function _e(t,e){var n=t.A,i=e.indexOf("\n",n);return-1==i?fe:(n=Number(e.substring(n,i)),isNaN(n)?pe:(i+=1)+n>e.length?fe:(e=e.substr(i,n),t.A=i+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.bb,t),e)}function Ce(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Da()||t.m||t.g.na(t)}function xe(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,qt(t.P),Qt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Se(t,e){try{t.g.Ga(t,e),Xt(4)}catch(n){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Te)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Oe(t,e){Ie(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pe(t))}function Pe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ie(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ie(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=he.prototype).setTimeout=function(t){this.O=t},i.eb=function(t){t=t.target;var e=this.B;e&&3==Nn(t)?e.Ua():this.Ka(t)},i.Ka=function(t){try{if(t==this.a)t:{var e=Nn(this.a),n=this.a.ya(),i=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=i?3:2),Ce(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var s=Rn(this.a,"X-HTTP-Initial-Response");if(s&&!O(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Jt(12),xe(this),Ee(this);break t}this.s=!0,Se(this,a)}this.H?(ve(this,e,o),H&&this.b&&3==e&&(Kt(this.I,this.P,"tick",this.cb),this.P.start())):Se(this,o),4==e&&xe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),xe(this),Ee(this)}}}catch(l){}},i.cb=function(){if(this.a){var t=Nn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ve(this,t,e),this.b&&4!=t&&be(this))}},i.cancel=function(){this.m=!0,xe(this)},i.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Jt(17)),xe(this),this.c=2,Ee(this)):we(this,this.R-t)},(i=Te.prototype).C=function(){Pe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Pe(this),this.a.concat()},i.get=function(t,e){return Ie(this.b,t)?this.b[t]:e},i.set=function(t,e){Ie(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ae(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ae?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,De(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Me))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Be(n[2]||""),De(this,n[3]||"",!0),Le(this,n[4]),this.a=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new $e(null,this.h))}function Ne(t){return new Ae(t)}function Re(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function De(t,e,n){t.b=n?Be(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof $e?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=je(e,Qe)),t.c=new $e(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function Ue(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function qe(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function je(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ae.prototype.toString=function(){var t=[],e=this.f;e&&t.push(je(e,We,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(je(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(je(n,"/"==n.charAt(0)?Ke:He,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",je(n,Ge)),t.join("")},Ae.prototype.resolve=function(t){var e=Ne(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?De(e,t.b):n=null!=t.i;var i=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(M(r,"./")||M(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\/\?@]/g,He=/[#\?:]/g,Ke=/[#\?]/g,Qe=/[#\?@]/g,Ge=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=en(t,e),Ie(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Oe(t.a,e))}function Ze(t,e){return Ye(t),e=en(t,e),Ie(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),T(n)),t.b+=n.length)}function tn(t){var e=new $e;return e.c=t.c,t.a&&(e.a=new Te(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Kn(t.a,t,!1)):(Jt(11),Kn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),Ue(e,"TYPE","xmlhttp");var n=t.a.j,i=t.a.I;n&&i&&Ve(e,n,i),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Te}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Ea&&s.ka.Ea()&&s.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(i=$e.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){Ye(this),this.a.forEach((function(n,i){S(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.C=function(t){Ye(this);var e=[];if(a(t))Ze(this,t)&&(e=k(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},i.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")},C((function(){}),(function(){})),(i=nn.prototype).M=null,i.$=function(t){return this.a.$(t)},i.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},i.Da=function(){return!1},i.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var i=this.a.ja.a.parse(e)}catch(r){return(e=this.a).m=this.c,void $n(e,2)}this.f=i[0]}else(e=this.a).m=this.c,$n(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!z||10<=Number(Z))&&(this.c=200,this.b.cancel(),Jt(11),Kn(this.a,this,!0))):(Jt(7),this.g=!1))},i.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Kn(this.a,this,!0)):(Jt(10),Kn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,$n(t,2)}},i.Y=function(){return this.a.Y()},i.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(M(e,"spdy")||M(e,"quic")||M(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ie(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ie(t.a.a.b,n)),n&&Oe(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return T(t.c)}function vn(){}function _n(){this.a=new vn}function bn(t,e,n){var i=n||"";try{ke(t,(function(t,n){var r=t;f(t)&&(r=Tt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function wn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var Cn=s.JSON.parse;function En(t){St.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}C(En,St);var xn="",Sn=/^https?$/i,kn=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function On(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pn(t),Mn(t)}function Pn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function In(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Nn(t)||2!=t.T()))if(t.l&&4==Nn(t))Bt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Nn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var a=String(t.A).match(Me)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}r=!Sn.test(a?a.toLowerCase():"")}e=r}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",Pn(t))}finally{Mn(t)}}}function Mn(t,e){if(t.a){An(t);var n=t.a,i=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function An(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Nn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Dn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=function(t){var e="";return D(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var r=""}else r=t.substring(i+1,n);n=(t=[t.substr(0,i),r,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Vn(t),3==t.u){var e=t.P++,n=Ne(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),jn(t,n),(e=new he(t,e,void 0)).F=2,e.f=qe(Ne(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Yn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Qn(t),t.b.cancel(),t.h&&(l(t.h)&&s.clearTimeout(t.h),t.h=null)}function Un(t,e){t.f.push(new ln(t.Ra++,e)),3==t.u&&qn(t)}function qn(t){dn(t.b)||t.h||(t.h=!0,Dt(t.Ia,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var i=Ne(t.B);Ve(i,"SID",t.H),Ve(i,"RID",n),Ve(i,"AID",t.O),jn(t,i),t.g&&t.i&&Dn(i,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,i,e)}function jn(t,e){t.c&&ke({},(function(t,n){Ve(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?_(t.c.Ta,t.c,t):null;t:for(var r=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=r[0].b)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=r[l].b,c=r[l].a;if(0>(u-=o))o=Math.max(0,r[l].b-100),a=!1;else try{bn(c,s,"req"+u+"_")}catch(h){i&&i(c)}}if(a){i=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,i}function Wn(t){t.a||t.l||(t.S=1,Dt(t.Ha,t),t.v=0)}function Hn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ha,t),Gn(t,t.v)),t.v++,0))}function Kn(t,e,n){var i=e.l;i&&hn(t.b,i),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),qn(t)}function Qn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Gn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function $n(t,e){if(2==e){var n=null;t.c&&(n=null);var i=_(t.fb,t);n||(n=new Ae("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Re(n,"https"),qe(n)),function(t,e){var n=new Gt;if(s.Image){var i=new Image;i.onload=b(wn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=b(wn,n,i,"TestLoadImage: error",!1,e),i.onabort=b(wn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=b(wn,n,i,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Vn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var i=function(t){return t instanceof Ae?Ne(t):new Ae(t,void 0)}(n);if(""!=i.b)e&&De(i,e+"."+i.b),Le(i,i.i);else{var r=s.location;i=function(t,e,n,i){var r=new Ae(null,void 0);return t&&Re(r,t),e&&De(r,e),n&&Le(r,n),i&&(r.a=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&D(t.V,(function(t,e){Ve(i,e,t)})),n=t.I,(e=t.j)&&n&&Ve(i,e,n),Ve(i,"VER",t.wa),jn(t,i),i}function Zn(){}function Jn(){if(z&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function ti(t,e){St.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?e=r:((i=""==e)||(i=0<=(i=e.length-1)&&e.indexOf("/",i)==i),e+=i?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ii(this)}function ei(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ni(){ue.call(this),this.status=1}function ii(t){this.a=t}(i=En.prototype).ca=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=_(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void On(this,o)}t=n||"";var r=new Te(this.headers);i&&ke(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Tn,n=t.length,i=a(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(r.K()),n=s.FormData&&t instanceof s.FormData,!(0<=x(kn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{An(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ca,this)):this.m=Bt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){On(this,o)}},i.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Mn(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mn(this,!0)),En.N.G.call(this)},i.Fa=function(){this.j||(this.w||this.l||this.g?In(this):this.$a())},i.$a=function(){In(this)},i.T=function(){try{return 2<Nn(this)?this.a.status:-1}catch(B){return-1}},i.za=function(){try{return 2<Nn(this)?this.a.statusText:""}catch(B){return""}},i.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},i.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},i.ya=function(){return this.h},i.Ya=function(){return a(this.f)?this.f:String(this.f)},(i=Ln.prototype).wa=8,i.u=1,i.Da=function(){return 0==this.u},i.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),i=this.i;if(this.J&&(i?V(i=L(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(r=Ne(this.B),"RID",t),Ve(r,"CVER",22),this.o&&this.j&&Ve(r,"X-HTTP-Session-Id",this.j),jn(this,r),this.g&&i&&Dn(r,this.g,i),mn(this.b,n),this.W?(Ve(r,"$req",e),Ve(r,"SID","null"),n.S=!0,me(n,r,null)):me(n,r,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},i.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Ne(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),jn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Dn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},i.Ga=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Qn(this),this.a.cancel(),this.a=null}Hn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else $n(this,11)}else if((t.s||this.a==t)&&Qn(this),!O(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&l(i)&&0<i&&(this.D=1.5*i),this.o&&(i=t.a)&&((r=Rn(i,"X-Client-Wire-Protocol"))&&hn(this.b,r),this.j&&(i=Rn(i,"X-HTTP-Session-Id")))&&(this.I=i,Ve(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),i.s?(gn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(Ce(i),be(i)),this.a=i):Wn(this),0<this.f.length&&qn(this)}else"stop"!=i[0]&&"close"!=i[0]||$n(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$n(this,7):Fn(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},i.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Jt(19))},i.na=function(t){var e=null;if(this.a==t){Qn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,$t.dispatchEvent(new te($t,t.l?t.l.length:0,e,this.A)),qn(this)):Wn(this);else{var i=t.c;if(3==i||0==i&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(_(t.Ia,t,e),Gn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Hn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),i){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},i.fb=function(t){Jt(t?2:1)},i.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.La)).F=this.R,t},i.ma=function(){return!!this.c&&!0},i.Y=function(){return this.R},(i=Zn.prototype).va=function(){},i.ua=function(){},i.ta=function(){},i.sa=function(){},i.Ta=function(){},Jn.prototype.a=function(t,e){return new ti(t,e)},C(ti,St),(i=ti.prototype).addEventListener=function(t,e,n,i){ti.N.addEventListener.call(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){ti.N.removeEventListener.call(this,t,e,n,i)},i.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,i=this.b||void 0;Jt(0),t.ha=n,t.V=i||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Dn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ue(e,"MODE","init"),!t.a.o&&t.a.j&&Ue(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},i.close=function(){Fn(this.a)},i.Xa=function(t){if(a(t)){var e={};e.__data__=t,Un(this.a,e)}else this.h?((e={}).__data__=Tt(t),Un(this.a,e)):Un(this.a,t)},i.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,ti.N.G.call(this)},C(ei,le),C(ni,ue),C(ii,Zn),ii.prototype.va=function(){this.a.dispatchEvent("a")},ii.prototype.ua=function(t){this.a.dispatchEvent(new ei(t))},ii.prototype.ta=function(t){this.a.dispatchEvent(new ni(t))},ii.prototype.sa=function(){this.a.dispatchEvent("b")};var ri=b((function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,ti.prototype.send=ti.prototype.Xa,ti.prototype.open=ti.prototype.Wa,ti.prototype.close=ti.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,ie.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",St.prototype.listen=St.prototype.Aa,En.prototype.listenOnce=En.prototype.Ba,En.prototype.getLastError=En.prototype.Ya,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getStatusText=En.prototype.za,En.prototype.getResponseJson=En.prototype.Va,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var oi={createWebChannelTransport:ri,ErrorCode:ne,EventType:ie,WebChannel:oe,XhrIo:En},si=oi.createWebChannelTransport,ai=oi.ErrorCode,li=oi.EventType,ui=oi.WebChannel,ci=oi.XhrIo;e.default=oi},yLV6:function(t,e,n){var i;!function(r,o,s,a){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function m(t,e,n){return setTimeout(C(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var _=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),b=v((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==h?t.apply(e&&e[0]||a,e):t}function x(t,e){return t===a?e:t}function S(t,e,n){y(P(e),(function(e){t.addEventListener(e,n,!1)}))}function k(t,e,n){y(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function O(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];I(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function N(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:e)in t)return i;o++}return a}var R=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L="ontouchstart"in r,F=N(r,"PointerEvent")!==a,V=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=25,q=1,B=2,j=4,z=8,W=1,H=2,K=4,Q=8,G=16,$=H|K,Y=Q|G,X=$|Y,Z=["x","y"],J=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&q&&i-r==0,s=e&(j|z)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=nt(e)),r>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,l=s?s.center:o.center,u=e.center=it(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(l,u),e.distance=st(l,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==q&&o.eventType!==j||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c,h,d=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,e.scale=s?(c=s.pointers,st((h=i)[0],h[1],J)/st(c[0],c[1],J)):1,e.rotation=s?function(t,e){return at(e[1],e[0],J)+at(t[1],t[0],J)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=z&&(l>U||s.velocity===a)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,h=rt(l,u,c);i=h.x,r=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=ot(u,c),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var m=t.element;T(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?W:p(t)>=p(e)?t<0?H:K:e<0?Q:G}function st(t,e,n){n||(n=Z);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function at(t,e,n){return n||(n=Z),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(D(this.element),this.evWin,this.domHandler)}};var lt={mousedown:q,mousemove:B,mouseup:j},ut="mousedown",ct="mousemove mouseup";function ht(){this.evEl=ut,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}w(ht,tt,{handler:function(t){var e=lt[t.type];e&q&&0===t.button&&(this.pressed=!0),e&B&&1!==t.which&&(e=j),this.pressed&&(e&j&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:q,pointermove:B,pointerup:j,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ft="pointerdown",mt="pointermove pointerup pointercancel";function gt(){this.evEl=ft,this.evWin=mt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ft="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),w(gt,tt,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=dt[i],o=pt[t.pointerType]||t.pointerType,s="touch"==o,a=I(e,t.pointerId,"pointerId");r&q&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(j|z)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var yt={touchstart:q,touchmove:B,touchend:j,touchcancel:z},vt="touchstart",_t="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=_t,this.started=!1,tt.apply(this,arguments)}function wt(t,e){var n=M(t.touches),i=M(t.changedTouches);return e&(j|z)&&(n=A(n.concat(i),"identifier",!0)),[n,i]}w(bt,tt,{handler:function(t){var e=yt[t.type];if(e===q&&(this.started=!0),this.started){var n=wt.call(this,t,e);e&(j|z)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ct={touchstart:q,touchmove:B,touchend:j,touchcancel:z},Et="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=Et,this.targetIds={},tt.apply(this,arguments)}function St(t,e){var n=M(t.touches),i=this.targetIds;if(e&(q|B)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=M(t.changedTouches),a=[],l=this.target;if(o=n.filter((function(t){return T(t.target,l)})),e===q)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(j|z)&&delete i[s[r].identifier],r++;return a.length?[A(o.concat(a),"identifier",!0),a]:void 0}w(xt,tt,{handler:function(t){var e=Ct[t.type],n=St.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var kt=2500,Tt=25;function Ot(){tt.apply(this,arguments);var t=C(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Pt(t,e){t&q?(this.primaryTouch=e.changedPointers[0].identifier,It.call(this,e)):t&(j|z)&&It.call(this,e)}function It(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),kt)}}function Mt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=Tt&&s<=Tt)return!0}return!1}w(Ot,tt,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)Pt.call(this,e,n);else if(i&&Mt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var At=N(c.style,"touchAction"),Nt=At!==a,Rt=function(){if(!Nt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Nt&&this.manager.element.style&&Rt[t]&&(this.manager.element.style[At]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(O(t,"none"))return"none";var e=O(t,"pan-x"),n=O(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":O(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=O(i,"none")&&!Rt.none,o=O(i,"pan-y")&&!Rt["pan-y"],s=O(i,"pan-x")&&!Rt["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return r||o&&n&$||s&&n&Y?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Ft=2,Vt=4,Ut=8,qt=Ut,Bt=16;function jt(t){this.options=l({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function zt(t){return t&Bt?"cancel":t&Ut?"end":t&Vt?"move":t&Ft?"start":""}function Wt(t){return t==G?"down":t==Q?"up":t==H?"left":t==K?"right":""}function Ht(t,e){var n=e.manager;return n?n.get(t):t}function Kt(){jt.apply(this,arguments)}function Qt(){Kt.apply(this,arguments),this.pX=null,this.pY=null}function Gt(){Kt.apply(this,arguments)}function $t(){jt.apply(this,arguments),this._timer=null,this._input=null}function Yt(){Kt.apply(this,arguments)}function Xt(){Kt.apply(this,arguments)}function Zt(){jt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Jt.defaults.preset),new te(t,e)}function te(t,e){var n;this.options=l({},Jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?gt:V?xt:L?Ot:ht))(n,et),this.touchAction=new Dt(this,this.options.touchAction),ee(this,!0),y(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,i=t.element;i.style&&(y(t.options.cssProps,(function(r,o){n=N(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}jt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ht(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=Ht(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=Ht(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Ht(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Ut&&i(e.options.event+zt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Ut&&i(e.options.event+zt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(qt|Bt|32)&&(this.state=Lt),this.state=this.process(e),this.state&(Ft|Vt|Ut|Bt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Kt,jt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Ft|Vt),r=this.attrTest(t);return i&&(n&z||!r)?e|Bt:i||r?n&j?e|Ut:e&Ft?e|Vt:Ft:32}}),w(Qt,Kt,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var t=this.options.direction,e=[];return t&$&&e.push("pan-y"),t&Y&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&$?(r=0===o?W:o<0?H:K,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?W:s<0?Q:G,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Kt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Wt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Gt,Kt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w($t,jt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(j|z)&&!r)this.reset();else if(t.eventType&q)this.reset(),this._timer=m((function(){this.state=qt,this.tryEmit()}),e.time,this);else if(t.eventType&j)return qt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===qt&&(t&&t.eventType&j?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Yt,Kt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),w(Xt,Kt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:$|Y,pointers:1},getTouchAction:function(){return Qt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&($|Y)?e=t.overallVelocity:n&$?e=t.overallVelocityX:n&Y&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&j},emit:function(t){var e=Wt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Zt,jt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&q&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=j)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||st(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=qt,this.tryEmit()}),e.interval,this),Ft):qt}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==qt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jt.VERSION="2.0.7",Jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Yt,{enable:!1}],[Gt,{enable:!1},["rotate"]],[Xt,{direction:$}],[Qt,{direction:$},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[$t]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},te.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&qt)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Ft|Vt|Ut)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof jt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return y(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==a){var n=this.handlers;return y(P(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Jt,{INPUT_START:q,INPUT_MOVE:B,INPUT_END:j,INPUT_CANCEL:z,STATE_POSSIBLE:Lt,STATE_BEGAN:Ft,STATE_CHANGED:Vt,STATE_ENDED:Ut,STATE_RECOGNIZED:qt,STATE_CANCELLED:Bt,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:H,DIRECTION_RIGHT:K,DIRECTION_UP:Q,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:$,DIRECTION_VERTICAL:Y,DIRECTION_ALL:X,Manager:te,Input:tt,TouchAction:Dt,TouchInput:xt,MouseInput:ht,PointerEventInput:gt,TouchMouseInput:Ot,SingleTouchInput:bt,Recognizer:jt,AttrRecognizer:Kt,Tap:Zt,Pan:Qt,Swipe:Xt,Pinch:Gt,Rotate:Yt,Press:$t,on:S,off:k,each:y,merge:b,extend:_,assign:l,inherit:w,bindFn:C,prefixed:N}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Jt,(i=(function(){return Jt}).call(e,n,e,t))===a||(t.exports=i)}(window,document)},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e),n("yLV6");let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=r?r.length:0;for(;n;)n.remove(this),n=++a<c&&r[a]||null;if(i(o))try{o.call(this)}catch(d){e=!0,t=d instanceof h?p(d.errors):[d]}if(l(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new m(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class g extends m{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==a&&(i((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function _(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof m)return t;if(t[f])return t[f]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.prototype=Object.create(Error.prototype);const x=E;class S extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class k extends m{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new k(this)}lift(t){const e=new O(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new O(t,e),t})();class O extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function P(t){return t&&"function"==typeof t.schedule}class I extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const M=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},A=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=N(),D=t=>e=>{const n=t[R]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},L=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function V(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const U=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return L(t);if(F(t))return M(t);if(V(t))return A(t);if(t&&"function"==typeof t[R])return D(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function q(t,e,n,i,r=new I(t,n,i)){if(!r.closed)return U(e)(r)}class B extends m{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}class z{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new W(t,this.project,this.thisArg))}}class W extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new w(e?n=>{const i=new d;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:M(t))}function K(t,e){if(!e)return t instanceof w?t:new w(U(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>{const r=t[y]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:L(t))}(t,e);if(V(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:A(t))}(t,e);if(F(t))return H(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[R](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i}:D(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Q((n,i)=>K(t(n,i)).pipe(j((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new G(t,n)))}class G{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends B{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new I(this,void 0,void 0);this.destination.add(i),q(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(t){return t}function X(t=Number.POSITIVE_INFINITY){return Q(Y,t)}function Z(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return P(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:X(e)(H(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new et(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class et extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,it={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class rt extends k{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ot(){return new T}function st(){return t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,it);return i.source=e,i.subjectFactory=n,i}}(ot)(t))}const at="__parameters__";function lt(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(at)?t[at]:Object.defineProperty(t,at,{value:[]})[at];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}const ut=lt("Inject",t=>({token:t})),ct=lt("Optional"),ht=lt("Self"),dt=lt("SkipSelf");var pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ft(t){for(let e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gt(t){const e=t[yt];return e&&e.token===t?e:null}const yt=ft({ngInjectableDef:ft});function vt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const _t=ft({__forward_ref__:ft});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return vt(this())},t}function wt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(_t)&&e.__forward_ref__===bt?e():t}const Ct="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St="undefined"!=typeof global&&global,kt=Ct||St||Et||xt;class Tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ot=new Tt("INJECTOR",-1),Pt=new Object,It="ngTempTokenPath",Mt="ngTokenPath",At=/\n/gm,Nt="\u0275",Rt="__source",Dt=ft({provide:String,useValue:ft});let Lt,Ft=void 0;function Vt(t){const e=Ft;return Ft=t,e}function Ut(t,e=pt.Default){if(void 0===Ft)throw new Error("inject() must be called from an injection context");return null===Ft?function(t,e,n){const i=gt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&pt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${vt(t)}]`)}(t,0,e):Ft.get(t,e&pt.Optional?null:void 0,e)}function qt(t,e=pt.Default){return(Lt||Ut)(t,e)}const Bt=qt;class jt{get(t,e=Pt){if(e===Pt){const e=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw e.name="NullInjectorError",e}return e}}function zt(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Nt?t.substr(2):t;let r=vt(e);if(e instanceof Array)r=e.map(vt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):vt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(At,"\n  ")}`}class Wt{}class Ht{}function Kt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Gt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),$t=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))(),Yt="ngDebugContext",Xt="ngOriginalError",Zt="ngErrorLogger";function Jt(t){return t[Yt]}function te(t){return t[Xt]}function ee(t,...e){t.error(...e)}class ne{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[Zt]||ee}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Jt(t)?Jt(t):this._findContext(te(t)):null}_findOriginalError(t){let e=te(t);for(;e&&te(e);)e=te(e);return e}}let ie=!0,re=!1;function oe(){return re=!0,ie}class se{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,le=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ue(t){return(t=String(t)).match(ae)||t.match(le)?t:(oe()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ce(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function he(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const de=ce("area,br,col,hr,img,wbr"),pe=ce("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fe=ce("rp,rt"),me=he(fe,pe),ge=he(de,he(pe,ce("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),he(fe,ce("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),me),ye=ce("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ve=ce("srcset"),_e=he(ye,ve,ce("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ce("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),be=ce("script,style,template");class we{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ge.hasOwnProperty(e))return this.sanitizedSomething=!0,!be.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!_e.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ye[o]&&(s=ue(s)),ve[o]&&(i=s,s=(i=String(i)).split(",").map(t=>ue(t.trim())).join(", ")),this.buf.push(" ",e,'="',xe(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ge.hasOwnProperty(e)&&!de.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ee=/([^\#-~ |!])/g;function xe(t){return t.replace(/&/g,"&amp;").replace(Ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ee,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Se;function ke(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Te=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Oe{}const Pe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ie=/^url\(([^)]+)\)$/;function Me(t){var e;return e=t.replace(/[$@]/g,"_"),`ng-reflect-${t=e.replace(Ae,(...t)=>"-"+t[1].toLowerCase())}`}const Ae=/([A-Z])/g;function Ne(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Re=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>De(),t})();const De=(...t)=>{},Le=new Tt("The presence of this token marks an injector as being the root injector."),Fe=function(t,e,n){return new We(t,e,n)};let Ve=(()=>{class t{static create(t,e){return Array.isArray(t)?Fe(t,e,""):Fe(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Pt,t.NULL=new jt,t.ngInjectableDef=mt({token:t,providedIn:"any",factory:()=>qt(Ot)}),t.__NG_ELEMENT_ID__=-1,t})();const Ue=function(t){return t},qe=[],Be=Ue,je=function(){return Array.prototype.slice.call(arguments)},ze="\u0275";class We{constructor(t,e=Ve.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(Ve,{token:Ve,fn:Ue,deps:qe,value:this,useNew:!1}),i.set(Ot,{token:Ot,fn:Ue,deps:qe,value:this,useNew:!1}),function t(e,n){if(n)if((n=wt(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw Ke("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ke("Unexpected provider",n);{let t=wt(n.provide);const i=function(t){const e=function(t){let e=qe;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=wt(n[t]);if(r instanceof Array)for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof ct||n==ct?i|=1:n instanceof dt||n==dt?i&=-3:n instanceof ht||n==ht?i&=-5:r=n instanceof ut?n.token:wt(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:wt(t.useExisting),options:6}];else if(!(n||Dt in t))throw Ke("'deps' required",t);return e}(t);let n=Ue,i=qe,r=!1,o=wt(t.provide);if(Dt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=wt(t.useClass);else{if("function"!=typeof o)throw Ke("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==je)throw He(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:je,value:qe});i.deps.push({token:t=n,options:6})}const r=e.get(t);if(r&&r.fn==je)throw He(t);e.set(t,i)}}}(i,t)}get(t,e,n=pt.Default){const i=this._records.get(t);try{return function t(e,n,i,r,o,s){try{return function(e,n,i,r,o,s){let a;if(!n||s&pt.SkipSelf)s&pt.Self||(a=r.get(e,o,pt.Default));else{if((a=n.value)==Be)throw Error(ze+"Circular dependency");if(a===qe){n.value=Be;let e=void 0,o=n.useNew,s=n.fn,l=n.deps,u=qe;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,s=2&o?i.get(n.token):void 0;u.push(t(n.token,s,i,s||4&o?r:Ve.NULL,1&o?null:Ve.THROW_IF_NOT_FOUND,pt.Default))}}n.value=a=o?new s(...u):s.apply(e,u)}}return a}(e,n,i,r,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[It]=a[It]||[]).unshift(e),n&&n.value==Be&&(n.value=qe),a}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){const r=t[It];throw e[Rt]&&r.unshift(e[Rt]),t.message=zt("\n"+t.message,r,"StaticInjectorError",i),t[Mt]=r,t[It]=null,t}(r,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(vt(n))),`StaticInjector[${t.join(", ")}]`}}function He(t){return Ke("Cannot mix multi providers and regular providers",t)}function Ke(t,e){return new Error(zt(t,e,"StaticInjectorError"))}const Qe=new Tt("AnalyzeForEntryComponents");let Ge=null;function $e(){if(!Ge){const t=kt.Symbol;if(t&&t.iterator)Ge=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ge=n)}}}return Ge}function Ye(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Xe(t,e){const n=Je(t),i=Je(e);if(n&&i)return function(t,e,n){const i=t[$e()](),r=e[$e()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Xe);{const r=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!o)||Ye(t,e)}}class Ze{constructor(t){this.wrapped=t}static wrap(t){return new Ze(t)}static unwrap(t){return Ze.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ze}}function Je(t){return!!tn(t)&&(Array.isArray(t)||!(t instanceof Map)&&$e()in t)}function tn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function en(t){return!!t&&"function"==typeof t.then}function nn(t){return!!t&&"function"==typeof t.subscribe}class rn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class on{}class sn{}function an(t){const e=Error(`No component factory found for ${vt(t)}. Did you add it to @NgModule.entryComponents?`);return e[ln]=t,e}const ln="ngComponent";class un{resolveComponentFactory(t){throw an(t)}}let cn=(()=>{class t{}return t.NULL=new un,t})();class hn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw an(t);return new dn(e,this._ngModule)}}class dn extends sn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}function pn(...t){}let fn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>mn(t),t})();const mn=pn;class gn{}class yn{}const vn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let _n=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>bn(),t})();const bn=pn;class wn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cn=new wn("8.2.13");class En{constructor(){}supports(t){return Je(t)}create(t){return new Sn(t)}}const xn=(t,e)=>e;class Sn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Pn(n,i,r)?e:n,s=Pn(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Je(t))throw new Error(`Error trying to diff '${vt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=this._trackByFn(e,n=t[e]),null!==r&&Ye(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Ye(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[$e()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Ye(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Ye(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ye(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ye(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new kn(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new On),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new On),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ye(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class On{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Tn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pn(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class In{constructor(){}supports(t){return t instanceof Map||tn(t)}create(){return new Mn}}class Mn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tn(t)))throw new Error(`Error trying to diff '${vt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new An(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ye(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class An{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Nn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new En])}),t})(),Rn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new In])}),t})();const Dn=[new In],Ln=new Nn([new En]),Fn=new Rn(Dn);let Vn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Un(t,fn),t})();const Un=pn;let qn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bn(t,fn),t})();const Bn=pn;function jn(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return zn(n,e),n}(r,t)}function zn(t,e){t[Yt]=e,t[Zt]=e.logError.bind(e)}function Wn(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Hn(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Kn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Qn(t,e){return t.nodes[e]}function Gn(t,e){return t.nodes[e]}function $n(t,e){return t.nodes[e]}function Yn(t,e){return t.nodes[e]}function Xn(t,e){return t.nodes[e]}const Zn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Jn=()=>{},ti=new Map;function ei(t){let e=ti.get(t);return e||(e=vt(t)+"_"+ti.size,ti.set(t,e)),e}function ni(t,e,n,i){if(Ze.isWrapped(i)){i=Ze.unwrap(i);const r=t.def.nodes[e].bindingIndex+n,o=Ze.unwrap(t.oldValues[r]);t.oldValues[r]=new Ze(o)}return i}const ii="$$undefined",ri="$$empty";function oi(t){return{id:ii,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let si=0;function ai(t,e,n,i){return!(!(2&t.state)&&Ye(t.oldValues[e.bindingIndex+n],i))}function li(t,e,n,i){return!!ai(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function ui(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Xe(r,i)){const o=e.bindings[n].name;throw jn(Zn.createDebugContext(t,e.nodeIndex),`${o}: ${r}`,`${o}: ${i}`,0!=(1&t.state))}}function ci(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function hi(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function di(t,e,n,i){try{return ci(33554432&t.def.nodes[e].flags?Gn(t,e).componentView:t),Zn.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function pi(t){return t.parent?Gn(t.parent,t.parentNodeDef.nodeIndex):null}function fi(t){return t.parent?t.parentNodeDef.parent:null}function mi(t,e){switch(201347067&e.flags){case 1:return Gn(t,e.nodeIndex).renderElement;case 2:return Qn(t,e.nodeIndex).renderText}}function gi(t,e){return t?`${t}:${e}`:e}function yi(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function vi(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function _i(t){return 1<<t%32}function bi(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=_i(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function wi(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Rt,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:ei(n)}})}function Ci(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Gt.Native?Gn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Ei=new WeakMap;function xi(t){let e=Ei.get(t);return e||((e=t(()=>Jn)).factory=t,Ei.set(t,e)),e}function Si(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(mi(t,t.def.lastRenderRootNode))),ki(t,e,0,t.def.nodes.length-1,n,i,r)}function ki(t,e,n,i,r,o,s){for(let a=n;a<=i;a++){const n=t.def.nodes[a];11&n.flags&&Oi(t,n,e,r,o,s),a+=n.childCount}}function Ti(t,e,n,i,r,o){let s=t;for(;s&&!yi(s);)s=s.parent;const a=s.parent,l=fi(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Oi(a,t,n,i,r,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Pi(t,s[e],n,i,r,o)}}function Oi(t,e,n,i,r,o){if(8&e.flags)Ti(t,e.ngContent.index,n,i,r,o);else{const s=mi(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Pi(t,s,n,i,r,o),32&e.bindingFlags&&Pi(Gn(t,e.nodeIndex).componentView,s,n,i,r,o)):Pi(t,s,n,i,r,o),16777216&e.flags){const s=Gn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Si(s[t],n,i,r,o)}1&e.flags&&!e.element.name&&ki(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function Pi(t,e,n,i,r,o){const s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}const Ii=/^:([^:]+):(.+)$/;function Mi(t){if(":"===t[0]){const e=t.match(Ii);return[e[1],e[2]]}return["",t]}function Ai(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Ni(t,e,n,i,r,o,s,a,l,u,c,h,d,p,f,m,g,y,v,_){switch(t){case 1:return e+Ri(n)+i;case 2:return e+Ri(n)+i+Ri(r)+o;case 3:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a;case 4:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a+Ri(l)+u;case 5:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a+Ri(l)+u+Ri(c)+h;case 6:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a+Ri(l)+u+Ri(c)+h+Ri(d)+p;case 7:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a+Ri(l)+u+Ri(c)+h+Ri(d)+p+Ri(f)+m;case 8:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a+Ri(l)+u+Ri(c)+h+Ri(d)+p+Ri(f)+m+Ri(g)+y;case 9:return e+Ri(n)+i+Ri(r)+o+Ri(s)+a+Ri(l)+u+Ri(c)+h+Ri(d)+p+Ri(f)+m+Ri(g)+y+Ri(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Ri(t){return null!=t?t.toString():""}const Di=new Object,Li=ei(Ve),Fi=ei(Ot),Vi=ei(Wt);function Ui(t,e,n,i){return n=wt(n),{index:-1,deps:wi(i,vt(e)),flags:t,token:e,value:n}}function qi(t,e,n=Ve.THROW_IF_NOT_FOUND){const i=Vt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Li:case Fi:case Vi:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Bi(t,a)),e===Di?void 0:e}if((l=gt(e.token))&&(r=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,o.providedIn)||"root"===o.providedIn&&r._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Di,t._providers[n]=Bi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Vt(i)}var r,o}function Bi(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(qi(t,n[0]));case 2:return new e(qi(t,n[0]),qi(t,n[1]));case 3:return new e(qi(t,n[0]),qi(t,n[1]),qi(t,n[2]));default:const r=new Array(i);for(let e=0;e<i;e++)r[e]=qi(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(qi(t,n[0]));case 2:return e(qi(t,n[0]),qi(t,n[1]));case 3:return e(qi(t,n[0]),qi(t,n[1]),qi(t,n[2]));default:const r=Array(i);for(let e=0;e<i;e++)r[e]=qi(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=qi(t,e.deps[0]);break;case 256:n=e.value}return n===Di||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Di:n}function ji(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,Qt(n,e),Zn.dirtyParentQueries(i),Wi(i),i}function zi(t,e,n){const i=e?mi(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);Si(n,2,r,o,void 0)}function Wi(t){Si(t,3,null,null,void 0)}const Hi=new Object;function Ki(t,e,n,i,r,o){return new Qi(t,e,n,i,r,o)}class Qi extends sn{constructor(t,e,n,i,r,o){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=xi(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=Zn.createRootView(t,e||[],n,r,i,Hi),a=$n(s,o).instance;return n&&s.renderer.setAttribute(Gn(s,0).renderElement,"ng-version",Cn.full),new Gi(s,new Zi(s),a)}}class Gi extends on{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new fn(Gn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new nr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function $i(t,e,n){return new Yi(t,e,n)}class Yi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new fn(this._data.renderElement)}get injector(){return new nr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=fi(t),t=t.parent;return t?new nr(t,e):new nr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=ji(this._data,t);Zn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Zi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;r||t instanceof dn||(r=o.get(Wt));const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=t,Kt(r,n,i),function(t,e){const n=pi(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),Zn.dirtyParentQueries(i),zi(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const i=t.viewContainer._embeddedViews,r=i[e];Qt(i,e),null==n&&(n=i.length),Kt(i,n,r),Zn.dirtyParentQueries(r),Wi(r),zi(t,n>0?i[n-1]:null,r)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=ji(this._data,t);e&&Zn.destroyView(e)}detach(t){const e=ji(this._data,t);return e?new Zi(e):null}}function Xi(t){return new Zi(t)}class Zi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Si(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ci(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Zn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Zn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Wi(this._view),Zn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Ji(t,e){return new tr(t,e)}class tr extends Vn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Zi(Zn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new fn(Gn(this._parentView,this._def.nodeIndex).renderElement)}}function er(t,e){return new nr(t,e)}class nr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ve.THROW_IF_NOT_FOUND){return Zn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:ei(t)},e)}}function ir(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Gn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Qn(t,n.nodeIndex).renderText;if(20240&n.flags)return $n(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function rr(t){return new or(t.renderer)}class or{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=Mi(e),r=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,r),r}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,r]=Mi(e);null!=n?this.delegate.setAttribute(t,r,n,i):this.delegate.removeAttribute(t,r,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function sr(t,e,n,i){return new ar(t,e,n,i)}class ar{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Bi(t,r))}}(this)}get(t,e=Ve.THROW_IF_NOT_FOUND,n=pt.Default){let i=0;return n&pt.SkipSelf?i|=1:n&pt.Self&&(i|=4),qi(this,{token:t,tokenKey:ei(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(cn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${vt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==Di){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const lr=ei(gn),ur=ei(_n),cr=ei(fn),hr=ei(qn),dr=ei(Vn),pr=ei(Re),fr=ei(Ve),mr=ei(Ot);function gr(t,e,n,i,r,o,s,a){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return _r(t,e|=16384,n,i,r,r,o,l,u)}function yr(t,e,n){return _r(-1,t|=16,null,0,e,e,n)}function vr(t,e,n,i,r){return _r(-1,t,e,0,n,i,r)}function _r(t,e,n,i,r,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=bi(n);l||(l=[]),a||(a=[]),o=wt(o);const d=wi(s,vt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Ai(a),outputs:l,element:null,provider:{token:r,value:o,deps:d},text:null,query:null,ngContent:null}}function br(t,e){return xr(t,e)}function wr(t,e){let n=t;for(;n.parent&&!yi(n);)n=n.parent;return Sr(n.parent,fi(n),!0,e.provider.value,e.provider.deps)}function Cr(t,e){const n=Sr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],o=n[r.propName];if(!nn(o))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Er(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function Er(t,e,n){return i=>di(t,e,n,i)}function xr(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Sr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const o=r.length;switch(o){case 0:return i();case 1:return i(Tr(t,e,n,r[0]));case 2:return i(Tr(t,e,n,r[0]),Tr(t,e,n,r[1]));case 3:return i(Tr(t,e,n,r[0]),Tr(t,e,n,r[1]),Tr(t,e,n,r[2]));default:const s=Array(o);for(let i=0;i<o;i++)s[i]=Tr(t,e,n,r[i]);return i(...s)}}(t,e.parent,n,i.value,i.deps);case 2048:return Tr(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Sr(t,e,n,i,r){const o=r.length;switch(o){case 0:return new i;case 1:return new i(Tr(t,e,n,r[0]));case 2:return new i(Tr(t,e,n,r[0]),Tr(t,e,n,r[1]));case 3:return new i(Tr(t,e,n,r[0]),Tr(t,e,n,r[1]),Tr(t,e,n,r[2]));default:const s=new Array(o);for(let i=0;i<o;i++)s[i]=Tr(t,e,n,r[i]);return new i(...s)}}const kr={};function Tr(t,e,n,i,r=Ve.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const o=t;2&i.flags&&(r=null);const s=i.tokenKey;s===pr&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case lr:return rr(Or(a,e,n));case ur:return Or(a,e,n).renderer;case cr:return new fn(Gn(a,e.nodeIndex).renderElement);case hr:return Gn(a,e.nodeIndex).viewContainer;case dr:if(e.element.template)return Gn(a,e.nodeIndex).template;break;case pr:return Xi(Or(a,e,n));case fr:case mr:return er(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=$n(a,t.nodeIndex);return e||(e={instance:xr(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=yi(a),e=fi(a),a=a.parent,4&i.flags&&(a=null)}const l=o.root.injector.get(i.token,kr);return l!==kr||r===kr?l:o.root.ngModule.injector.get(i.token,r)}function Or(t,e,n){let i;if(n)i=Gn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!yi(i);)i=i.parent;return i}function Pr(t,e,n,i,r,o){if(32768&n.flags){const e=Gn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};const e=Ze.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new rn(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function Ir(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const o=n[r];let s=o.parent;for(!s&&o.flags&e&&Ar(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=Mr(t,s,e,i)),s=s.parent}}function Mr(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&Ar(t,r,e.flags&n,i++),r+=e.childCount}return i}function Ar(t,e,n,i){const r=$n(t,e);if(!r)return;const o=r.instance;o&&(Zn.setCurrentNode(t,e),1048576&n&&Kn(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Kn(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Nr=new Tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$t}),Rr={},Dr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Lr=void 0;var Fr=["en",[["a","p"],["AM","PM"],Lr],[["AM","PM"],Lr,Lr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lr,"{1} 'at' {0}",Lr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const Vr="en-US";let Ur=Vr;function qr(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(Ur=t.toLowerCase().replace(/_/g,"-"))}class Br extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return t instanceof d&&t.add(s),s}}function jr(){return this._results[$e()]()}class zr{constructor(){this.dirty=!0,this._results=[],this.changes=new Br,this.length=0;const t=$e(),e=zr.prototype;e[t]||(e[t]=jr)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Wr=new Tt("Application Initializer");class Hr{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();en(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Kr=new Tt("AppId");function Qr(){return`${Gr()}${Gr()}${Gr()}`}function Gr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $r=new Tt("Platform Initializer"),Yr=new Tt("Platform ID"),Xr=new Tt("appBootstrapListener");class Zr{log(t){console.log(t)}warn(t){console.warn(t)}}const Jr=new Tt("LocaleId"),to=!1;function eo(){throw new Error("Runtime compiler is not loaded")}const no=eo,io=eo,ro=eo,oo=eo;class so{constructor(){this.compileModuleSync=no,this.compileModuleAsync=io,this.compileModuleAndAllComponentsSync=ro,this.compileModuleAndAllComponentsAsync=oo}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class ao{}let lo,uo;function co(){const t=kt.wtf;return!(!t||!(lo=t.trace)||(uo=lo.events,0))}const ho=co();function po(t,e){return null}const fo=ho?function(t,e=null){return uo.createScope(t,e)}:(t,e)=>po,mo=ho?function(t,e){return lo.leaveScope(t,e),e}:(t,e)=>e,go=(()=>Promise.resolve(0))();function yo(t){"undefined"==typeof Zone?go.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class vo{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Br(!1),this.onMicrotaskEmpty=new Br(!1),this.onStable=new Br(!1),this.onError=new Br(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,o,s)=>{try{return Co(e),t.invokeTask(i,r,o,s)}finally{Eo(e)}},onInvoke:(t,n,i,r,o,s,a)=>{try{return Co(e),t.invoke(i,r,o,s,a)}finally{Eo(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,wo(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,bo,_o,_o);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function _o(){}const bo={};function wo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Co(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eo(t){t._nesting--,wo(t)}class xo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Br,this.onMicrotaskEmpty=new Br,this.onStable=new Br,this.onError=new Br}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class So{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),yo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class ko{constructor(){this._applications=new Map,Po.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Po.findTestabilityInTree(this,t,e)}}class To{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Oo,Po=new To,Io=function(t,e,n){return t.get(ao).createCompiler([e]).compileModuleAsync(n)},Mo=function(t){return t instanceof dn};const Ao=new Tt("AllowMultipleToken");class No{constructor(t,e){this.name=t,this.token=e}}function Ro(t,e,n=[]){const i=`Platform: ${e}`,r=new Tt(i);return(e=[])=>{let o=Do();if(!o||o.injector.get(Ao,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(Oo&&!Oo.destroyed&&!Oo.injector.get(Ao,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Oo=t.get(Lo);const e=t.get($r,null);e&&e.forEach(t=>t())}(Ve.create({providers:t,name:i}))}return function(t){const e=Do();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Do(){return Oo&&!Oo.destroyed?Oo:null}class Lo{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(r=e?e.ngZone:void 0)?new xo:("zone.js"===r?void 0:r)||new vo({enableLongStackTrace:oe()}),i=[{provide:vo,useValue:n}];var r;return n.run(()=>{const e=Ve.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(ne,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return to&&qr(r.injector.get(Jr,Vr)||Vr),r.onDestroy(()=>Uo(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return en(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(Hr);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Fo({},e);return Io(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${vt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Fo(t,e){return Array.isArray(e)?e.reduce(Fo,t):Object.assign({},t,e)}let Vo=(()=>{class t{constructor(t,e,n,i,r,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oe(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{vo.assertNotInAngularZone(),yo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Z(s,a.pipe(st()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof sn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=Mo(n)?null:this._injector.get(Wt),r=n.create(Ve.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(So,null);return o&&r.injector.get(ko).registerApplication(r.location.nativeElement,o),this._loadComponent(r),oe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,mo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Uo(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xr,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Uo(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=fo("ApplicationRef#tick()"),t})();function Uo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class qo{}const Bo="#",jo="NgFactory";class zo{}const Wo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ho{constructor(t,e){this._compiler=t,this._config=e||Wo}load(t){return!to&&this._compiler instanceof so?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split(Bo);return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Ko(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split(Bo),r=jo;return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Ko(t,e,i))}}function Ko(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Qo{constructor(t,e){this.name=t,this.callback=e}}class Go{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof $o&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class $o extends Go{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof $o&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof $o&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof $o&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof $o)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Yo=new Map,Xo=function(t){return Yo.get(t)||null};function Zo(t){Yo.set(t.nativeNode,t)}const Jo=Ro(null,"core",[{provide:Yr,useValue:"unknown"},{provide:Lo,deps:[Ve]},{provide:ko,deps:[]},{provide:Zr,deps:[]}]);function ts(){return Ln}function es(){return Fn}function ns(t){return t?(to&&qr(t),t):Vr}function is(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class rs{constructor(t){}}function os(t,e,n,i,r,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=bi(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?xi(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Jn},provider:null,text:null,query:null,ngContent:null}}function ss(t,e,n,i,r,o,s=[],a,l,u,c,h){u||(u=Jn);const{matchedQueries:d,references:p,matchedQueryIds:f}=bi(n);let m=null,g=null;o&&([m,g]=Mi(o)),a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[i,r]=Mi(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[b]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:o,suffix:s}}l=l||[];const v=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e]=l[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(s=s||[]).map(([t,e])=>{const[n,i]=Mi(t);return[n,i,e]});return h=function(t){if(t&&t.id===ii){const e=null!=t.encapsulation&&t.encapsulation!==Gt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${si++}`:ri}return t&&t.id===ri&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:y,bindingFlags:Ai(y),outputs:v,element:{ns:m,name:g,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Jn},provider:null,text:null,query:null,ngContent:null}}function as(t,e,n){const i=n.element,r=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!r){s=i.name?o.createElement(i.name,i.ns):o.createComment("");const r=Ci(t,e,n);r&&o.appendChild(r,s)}else s=o.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===Gt.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[t,e,n]=i.attrs[a];o.setAttribute(s,e,n,t)}return s}function ls(t,e,n,i){for(let r=0;r<n.outputs.length;r++){const o=n.outputs[r],s=us(t,n.nodeIndex,gi(o.target,o.eventName));let a=o.target,l=t;"component"===o.target&&(a=null,l=e);const u=l.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=u}}function us(t,e,n){return i=>di(t,e,n,i)}function cs(t,e,n,i){if(!li(t,e,n,i))return!1;const r=e.bindings[n],o=Gn(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,s,r.ns,a,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,r){let o=t.root.sanitizer.sanitize(Te.STYLE,r);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,i,o):s.removeStyle(n,i)}(t,r,s,a,i);break;case 8:!function(t,e,n,i,r){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}function hs(t,e,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:_i(e),bindings:i},ngContent:null}}function ds(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&vi(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Xn(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Xn(t,n).setDirty(),n+=e.childCount}}function ps(t,e){const n=Xn(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=fs(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=$n(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=fs(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}i[t.propName]=e}s&&n.notifyOnChanges()}function fs(t,e,n,i,r){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[i.id];if(null!=n&&r.push(ms(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=Gn(t,o);if((e.childMatchedQueries&i.filterId)===i.filterId&&(fs(t,o+1,o+e.childCount,i,r),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=pi(o);s&&s===n&&fs(o,0,o.def.nodes.length-1,i,r)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];fs(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(o+=e.childCount)}return r}function ms(t,e,n){if(null!=n)switch(n){case 1:return Gn(t,e.nodeIndex).renderElement;case 0:return new fn(Gn(t,e.nodeIndex).renderElement);case 2:return Gn(t,e.nodeIndex).template;case 3:return Gn(t,e.nodeIndex).viewContainer;case 4:return $n(t,e.nodeIndex).instance}}function gs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ys(t,e,n){const i=Ci(t,e,n);i&&Ti(t,n.ngContent.index,1,i,null,void 0)}function vs(t,e){return bs(32,t,new Array(e))}function _s(t,e){const n=Object.keys(e),i=n.length,r=new Array(i);for(let o=0;o<i;o++){const t=n[o];r[e[t]]=t}return bs(64,t,r)}function bs(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const t=n[r];i[r]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Ai(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ws(t,e,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Cs(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const o=Ci(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function Es(t,e){return(null!=t?t.toString():"")+e.suffix}function xs(t,e,n,i){let r=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=r,t.outputIndex=o,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(ks(u,t,e.length),r+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[ei(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[ei(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Ss(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Ss(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Jn,updateRenderer:i||Jn,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:o,lastRenderRootNode:p}}function Ss(t){return 0!=(1&t.flags)&&null===t.element.name}function ks(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Ts(t,e,n,i){const r=Is(t.root,t.renderer,t,e,n);return Ms(r,t.component,i),As(r),r}function Os(t,e,n){const i=Is(t,t.renderer,null,null,e);return Ms(i,n,n),As(i),i}function Ps(t,e,n,i){const r=e.element.componentRendererType;let o;return o=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,Is(t.root,o,t,e.element.componentProvider,n)}function Is(t,e,n,i,r){const o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function Ms(t,e,n){t.component=e,t.context=n}function As(t){let e;yi(t)&&(e=Gn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const o=n.nodes[r];let s;switch(Zn.setCurrentNode(t,r),201347067&o.flags){case 1:const n=as(t,e,o);let a=void 0;if(33554432&o.flags){const e=xi(o.element.componentView);a=Zn.createComponentView(t,o,e,n)}ls(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Ji(t,o):void 0},16777216&o.flags&&(s.viewContainer=$i(t,o,s));break;case 2:s=Cs(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=i[r])||4096&o.flags||(s={instance:br(t,o)});break;case 16:s={instance:wr(t,o)};break;case 16384:(s=i[r])||(s={instance:Cr(t,o)}),32768&o.flags&&Ms(Gn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new zr;break;case 8:ys(t,e,o),s=void 0}i[r]=s}Bs(t,qs.CreateViewNodes),Hs(t,201326592,268435456,0)}function Ns(t){Ls(t),Zn.updateDirectives(t,1),js(t,qs.CheckNoChanges),Zn.updateRenderer(t,1),Bs(t,qs.CheckNoChanges),t.state&=-97}function Rs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Hn(t,0,256),Ls(t),Zn.updateDirectives(t,0),js(t,qs.CheckAndUpdate),Hs(t,67108864,536870912,0);let e=Hn(t,256,512);Ir(t,2097152|(e?1048576:0)),Zn.updateRenderer(t,0),Bs(t,qs.CheckAndUpdate),Hs(t,134217728,536870912,0),Ir(t,8388608|((e=Hn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Hn(t,768,1024)}function Ds(t,e,n,i,r,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,s,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,s,a,l,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&cs(t,e,0,n)&&(p=!0),d>1&&cs(t,e,1,i)&&(p=!0),d>2&&cs(t,e,2,r)&&(p=!0),d>3&&cs(t,e,3,o)&&(p=!0),d>4&&cs(t,e,4,s)&&(p=!0),d>5&&cs(t,e,5,a)&&(p=!0),d>6&&cs(t,e,6,l)&&(p=!0),d>7&&cs(t,e,7,u)&&(p=!0),d>8&&cs(t,e,8,c)&&(p=!0),d>9&&cs(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,o,s,a,l,u,c,h);case 2:return function(t,e,n,i,r,o,s,a,l,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&li(t,e,0,n)&&(d=!0),f>1&&li(t,e,1,i)&&(d=!0),f>2&&li(t,e,2,r)&&(d=!0),f>3&&li(t,e,3,o)&&(d=!0),f>4&&li(t,e,4,s)&&(d=!0),f>5&&li(t,e,5,a)&&(d=!0),f>6&&li(t,e,6,l)&&(d=!0),f>7&&li(t,e,7,u)&&(d=!0),f>8&&li(t,e,8,c)&&(d=!0),f>9&&li(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Es(n,p[0])),f>1&&(d+=Es(i,p[1])),f>2&&(d+=Es(r,p[2])),f>3&&(d+=Es(o,p[3])),f>4&&(d+=Es(s,p[4])),f>5&&(d+=Es(a,p[5])),f>6&&(d+=Es(l,p[6])),f>7&&(d+=Es(u,p[7])),f>8&&(d+=Es(c,p[8])),f>9&&(d+=Es(h,p[9]));const m=Qn(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,i,r,o,s,a,l,u,c,h);case 16384:return function(t,e,n,i,r,o,s,a,l,u,c,h){const d=$n(t,e.nodeIndex),p=d.instance;let f=!1,m=void 0;const g=e.bindings.length;return g>0&&ai(t,e,0,n)&&(f=!0,m=Pr(t,d,e,0,n,m)),g>1&&ai(t,e,1,i)&&(f=!0,m=Pr(t,d,e,1,i,m)),g>2&&ai(t,e,2,r)&&(f=!0,m=Pr(t,d,e,2,r,m)),g>3&&ai(t,e,3,o)&&(f=!0,m=Pr(t,d,e,3,o,m)),g>4&&ai(t,e,4,s)&&(f=!0,m=Pr(t,d,e,4,s,m)),g>5&&ai(t,e,5,a)&&(f=!0,m=Pr(t,d,e,5,a,m)),g>6&&ai(t,e,6,l)&&(f=!0,m=Pr(t,d,e,6,l,m)),g>7&&ai(t,e,7,u)&&(f=!0,m=Pr(t,d,e,7,u,m)),g>8&&ai(t,e,8,c)&&(f=!0,m=Pr(t,d,e,8,c,m)),g>9&&ai(t,e,9,h)&&(f=!0,m=Pr(t,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&Kn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,o,s,a,l,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&li(t,e,0,n)&&(p=!0),f>1&&li(t,e,1,i)&&(p=!0),f>2&&li(t,e,2,r)&&(p=!0),f>3&&li(t,e,3,o)&&(p=!0),f>4&&li(t,e,4,s)&&(p=!0),f>5&&li(t,e,5,a)&&(p=!0),f>6&&li(t,e,6,l)&&(p=!0),f>7&&li(t,e,7,u)&&(p=!0),f>8&&li(t,e,8,c)&&(p=!0),f>9&&li(t,e,9,h)&&(p=!0),p){const p=Yn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=r),f>3&&(m[3]=o),f>4&&(m[4]=s),f>5&&(m[5]=a),f>6&&(m[6]=l),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=s),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:m=t.transform(n);break;case 2:m=t.transform(i);break;case 3:m=t.transform(i,r);break;case 4:m=t.transform(i,r,o);break;case 5:m=t.transform(i,r,o,s);break;case 6:m=t.transform(i,r,o,s,a);break;case 7:m=t.transform(i,r,o,s,a,l);break;case 8:m=t.transform(i,r,o,s,a,l,u);break;case 9:m=t.transform(i,r,o,s,a,l,u,c);break;case 10:m=t.transform(i,r,o,s,a,l,u,c,h)}}p.value=m}return p}(t,e,n,i,r,o,s,a,l,u,c,h);default:throw"unreachable"}}(t,e,i,r,o,s,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)cs(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let o=0;o<n.length;o++)li(t,e,o,n[o])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Es(n[t],i[t]);r=e.text.prefix+r;const o=Qn(t,e.nodeIndex).renderText;t.renderer.setValue(o,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=$n(t,e.nodeIndex),r=i.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)ai(t,e,a,n[a])&&(o=!0,s=Pr(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),65536&e.flags&&Kn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let o=0;o<n.length;o++)li(t,e,o,n[o])&&(r=!0);if(r){const r=Yn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let r=0;r<n.length;r++)o[i[r].name]=n[r];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}r.value=o}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Ls(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=Gn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,hi(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Fs(t,e,n,i,r,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,s,a,l,u,c,h){const d=e.bindings.length;d>0&&ui(t,e,0,n),d>1&&ui(t,e,1,i),d>2&&ui(t,e,2,r),d>3&&ui(t,e,3,o),d>4&&ui(t,e,4,s),d>5&&ui(t,e,5,a),d>6&&ui(t,e,6,l),d>7&&ui(t,e,7,u),d>8&&ui(t,e,8,c),d>9&&ui(t,e,9,h)}(t,e,i,r,o,s,a,l,u,c,h,d):function(t,e,n){for(let i=0;i<n.length;i++)ui(t,e,i,n[i])}(t,e,i),!1}function Vs(t,e){if(Xn(t,e.nodeIndex).dirty)throw jn(Zn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Us(t){if(!(128&t.state)){if(js(t,qs.Destroy),Bs(t,qs.Destroy),Ir(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=pi(t);if(e){const n=e.template._projectedViews;n&&(Qt(n,n.indexOf(t)),Zn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Gn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Qn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Xn(t,n).destroy()}}(t),yi(t)&&t.renderer.destroy(),t.state|=128}}const qs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Bs(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?zs(Gn(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function js(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=Gn(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)zs(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function zs(t,e){const n=t.state;switch(e){case qs.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ns(t):64&n&&Ws(t,qs.CheckNoChangesProjectedViews));break;case qs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ns(t):64&n&&Ws(t,e));break;case qs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Rs(t):64&n&&Ws(t,qs.CheckAndUpdateProjectedViews));break;case qs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Rs(t):64&n&&Ws(t,e));break;case qs.Destroy:Us(t);break;case qs.CreateViewNodes:As(t)}}function Ws(t,e){js(t,e),Bs(t,e)}function Hs(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let o=0;o<r;o++){const r=t.def.nodes[o];if(r.flags&e&&r.flags&n)switch(Zn.setCurrentNode(t,r.nodeIndex),i){case 0:ps(t,r);break;case 1:Vs(t,r)}r.childFlags&e&&r.childFlags&n||(o+=r.childCount)}}let Ks=!1;function Qs(t,e,n,i,r,o){const s=r.injector.get(yn);return Os($s(t,r,s,e,n),i,o)}function Gs(t,e,n,i,r,o){const s=r.injector.get(yn),a=$s(t,r,new Ta(s),e,n),l=oa(i);return Sa(ha.create,Os,null,[a,l,o])}function $s(t,e,n,i,r){const o=e.injector.get(Oe),s=e.injector.get(ne),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Ys(t,e,n,i){const r=oa(n);return Sa(ha.create,Ts,null,[t,e,r,i])}function Xs(t,e,n,i){return n=ea.get(e.element.componentProvider.provider.token)||oa(n),Sa(ha.create,Ps,null,[t,e,n,i])}function Zs(t,e,n,i){return sr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Js.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const i=Js.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{ta.forEach((i,r)=>{gt(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=Js.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=wi(r.deps),i.value=r.value)}if(ta.size>0){let e=new Set(t.modules);ta.forEach((i,r)=>{if(e.has(gt(r).providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:wi(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[ei(r)]=e}})}}(t=t.factory(()=>Jn)),t):t}(i))}const Js=new Map,ta=new Map,ea=new Map;function na(t){let e;Js.set(t.token,t),"function"==typeof t.token&&(e=gt(t.token))&&"function"==typeof e.providedIn&&ta.set(t.token,t)}function ia(t,e){const n=xi(e.viewDefFactory),i=xi(n.nodes[0].element.componentView);ea.set(t,i)}function ra(){Js.clear(),ta.clear(),ea.clear()}function oa(t){if(0===Js.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Js.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Jn);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Js.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=wi(n.deps),t.value=n.value)}}}}function sa(t,e,n,i,r,o,s,a,l,u,c,h,d){const p=t.def.nodes[e];return Ds(t,p,n,i,r,o,s,a,l,u,c,h,d),224&p.flags?Yn(t,e).value:void 0}function aa(t,e,n,i,r,o,s,a,l,u,c,h,d){const p=t.def.nodes[e];return Fs(t,p,n,i,r,o,s,a,l,u,c,h,d),224&p.flags?Yn(t,e).value:void 0}function la(t){return Sa(ha.detectChanges,Rs,null,[t])}function ua(t){return Sa(ha.checkNoChanges,Ns,null,[t])}function ca(t){return Sa(ha.destroy,Us,null,[t])}const ha=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let da,pa,fa;function ma(t,e){pa=t,fa=e}function ga(t,e,n,i){return ma(t,e),Sa(ha.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function ya(t,e){if(128&t.state)throw Wn(ha[da]);return ma(t,wa(t,0)),t.def.updateDirectives((function(t,n,i,...r){const o=t.def.nodes[n];return 0===e?_a(t,o,i,r):ba(t,o,i,r),16384&o.flags&&ma(t,wa(t,n)),224&o.flags?Yn(t,o.nodeIndex).value:void 0}),t)}function va(t,e){if(128&t.state)throw Wn(ha[da]);return ma(t,Ca(t,0)),t.def.updateRenderer((function(t,n,i,...r){const o=t.def.nodes[n];return 0===e?_a(t,o,i,r):ba(t,o,i,r),3&o.flags&&ma(t,Ca(t,n)),224&o.flags?Yn(t,o.nodeIndex).value:void 0}),t)}function _a(t,e,n,i){if(Ds(t,e,n,...i)){const r=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],o=r[t];8&i.flags&&(n[Me(i.nonMinifiedName)]=Ne(o))}const i=e.parent,o=Gn(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(o,e,i):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}}function ba(t,e,n,i){Fs(t,e,n,...i)}function wa(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ca(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Ea{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=fi(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return Gn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return er(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){xa(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&xa(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!yi(t);)t=t.parent;return t.parent?Gn(t.parent,fi(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?mi(this.view,this.nodeDef):mi(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let o=-1;n.factory(()=>++o===r?t.error.bind(t,...e):Jn),o<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function xa(t,e,n){for(let i in e.references)n[i]=ms(t,e,e.references[i])}function Sa(t,e,n,i){const r=da,o=pa,s=fa;try{da=t;const a=e.apply(n,i);return pa=o,fa=s,da=r,a}catch(u){if(Jt(u)||!pa)throw u;throw a=u,l=ka(),a instanceof Error||(a=new Error(a.toString())),zn(a,l),a}var a,l}function ka(){return pa?new Ea(pa,fa):null}class Ta{constructor(t){this.delegate=t}createRenderer(t,e){return new Oa(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Oa{constructor(t){this.delegate=t,this.debugContextFactory=ka,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Xo(t);!function(t){Yo.delete(t.nativeNode)}(e),e instanceof Go&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new $o(n,null,i);e.name=t,Zo(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Zo(new Go(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Zo(new Go(e,null,n)),e}appendChild(t,e){const n=Xo(t),i=Xo(e);n&&i&&n instanceof $o&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=Xo(t),r=Xo(e),o=Xo(n);i&&r&&i instanceof $o&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Xo(t),i=Xo(e);n&&i&&n instanceof $o&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=ka();return i&&Zo(new $o(n,null,i)),n}setAttribute(t,e,n,i){const r=Xo(t);r&&r instanceof $o&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=Xo(t);i&&i instanceof $o&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Xo(t);n&&n instanceof $o&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Xo(t);n&&n instanceof $o&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=Xo(t);r&&r instanceof $o&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=Xo(t);i&&i instanceof $o&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=Xo(t);i&&i instanceof $o&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=Xo(t);i&&i.listeners.push(new Qo(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Pa(t,e,n){return new Ia(t,e,n)}class Ia extends Ht{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Ks)return;Ks=!0;const t=oe()?{setCurrentNode:ma,createRootView:Gs,createEmbeddedView:Ys,createComponentView:Xs,createNgModuleRef:Zs,overrideProvider:na,overrideComponentView:ia,clearOverrides:ra,checkAndUpdateView:la,checkNoChangesView:ua,destroyView:ca,createDebugContext:(t,e)=>new Ea(t,e),handleEvent:ga,updateDirectives:ya,updateRenderer:va}:{setCurrentNode:()=>{},createRootView:Qs,createEmbeddedView:Ts,createComponentView:Ps,createNgModuleRef:sr,overrideProvider:Jn,overrideComponentView:Jn,clearOverrides:Jn,checkAndUpdateView:Rs,checkNoChangesView:Ns,destroyView:Us,createDebugContext:(t,e)=>new Ea(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?sa:aa,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?sa:aa,t)};Zn.setCurrentNode=t.setCurrentNode,Zn.createRootView=t.createRootView,Zn.createEmbeddedView=t.createEmbeddedView,Zn.createComponentView=t.createComponentView,Zn.createNgModuleRef=t.createNgModuleRef,Zn.overrideProvider=t.overrideProvider,Zn.overrideComponentView=t.overrideComponentView,Zn.clearOverrides=t.clearOverrides,Zn.checkAndUpdateView=t.checkAndUpdateView,Zn.checkNoChangesView=t.checkNoChangesView,Zn.destroyView=t.destroyView,Zn.resolveDep=Tr,Zn.createDebugContext=t.createDebugContext,Zn.handleEvent=t.handleEvent,Zn.updateDirectives=t.updateDirectives,Zn.updateRenderer=t.updateRenderer,Zn.dirtyParentQueries=ds}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(xi(this._ngModuleDefFactory));return Zn.createNgModuleRef(this.moduleType,t||Ve.NULL,this._bootstrapComponents,e)}}class Ma{}let Aa=(()=>{class t{constructor(){this.darkTheme=new T,this.isDarkTheme=this.darkTheme.asObservable()}setDarkTheme(t){this.darkTheme.next(t)}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Na{constructor(t){this.themeService=t,this.title="rest-countries"}ngOnInit(){this.isDarkTheme=this.themeService.isDarkTheme}toggleDarkTheme(t){this.themeService.setDarkTheme(t)}}class Ra{}const Da=new Tt("Location Initialized");class La{}const Fa=new Tt("appBaseHref");class Va{constructor(t,e){this._subject=new Br,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Va.stripTrailingSlash(Ua(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Va.normalizeQueryParams(e))}normalize(t){return Va.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ua(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Va.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Va.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function Ua(t){return t.replace(/\/index.html$/,"")}class qa extends La{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Va.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+Va.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+Va.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Ba extends La{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Va.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Va.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Va.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Va.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ja=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),za=function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Rr[e];if(n)return n;const i=e.split("-")[0];if(n=Rr[i])return n;if("en"===i)return Fr;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Dr.PluralCase]},Wa=new Tt("UseV4Plurals");class Ha{}class Ka extends Ha{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):za(e||this.locale)(t)){case ja.Zero:return"zero";case ja.One:return"one";case ja.Two:return"two";case ja.Few:return"few";case ja.Many:return"many";default:return"other"}}}function Qa(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}class Ga{}class $a{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Je(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${vt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let Ya=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Xa extends Ya{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class Za{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Ja{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){oe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Za(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new tl(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new tl(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class tl{constructor(t,e){this.record=t,this.view=e}}class el{constructor(t,e){this._viewContainer=t,this._context=new nl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){il("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){il("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class nl{constructor(){this.$implicit=null,this.ngIf=null}}function il(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}class rl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class ol{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class sl{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new rl(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class al{constructor(t,e,n){n._addDefault(new rl(t,e))}}class ll{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ul{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const cl=new ul,hl=new ll;class dl{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Ye(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ze.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(en(t))return cl;if(nn(t))return hl;throw Error(`InvalidPipeArgument: '${t}' for pipe '${vt(dl)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class pl{}const fl=new Tt("DocumentToken"),ml="browser",gl="server";function yl(t){return t===ml}function vl(t){return t===gl}let _l=(()=>{class t{}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new bl(qt(fl),window,qt(ne))}),t})();class bl{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const wl=new w(t=>t.complete());function Cl(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):wl}function El(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function xl(...t){let e=t[t.length-1];switch(P(e)?t.pop():e=void 0,t.length){case 0:return Cl(e);case 1:return e?H(t,e):El(t[0]);default:return H(t,e)}}class Sl extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}function kl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}kl.prototype=Object.create(Error.prototype);const Tl=kl,Ol={};class Pl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Il(t,this.resultSelector))}}class Il extends B{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ol),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(q(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const o=this.values,s=this.toRespond?o[n]===Ol?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Ml(t){return new w(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?K(n):Cl()).subscribe(e)})}function Al(){return X(1)}function Nl(t,e){return function(n){return n.lift(new Rl(t,e))}}class Rl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Dl(t,this.predicate,this.thisArg))}}class Dl extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ll(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ll.prototype=Object.create(Error.prototype);const Fl=Ll;function Vl(t){return function(e){return 0===t?Cl():e.lift(new Ul(t))}}class Ul{constructor(t){if(this.total=t,this.total<0)throw new Fl}call(t,e){return e.subscribe(new ql(t,this.total))}}class ql extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Bl(t,e,n){return function(i){return i.lift(new jl(t,e,n))}}class jl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new zl(t,this.nextOrObserver,this.error,this.complete))}}class zl extends m{constructor(t,e,n,r){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=r||v,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Wl=(t=Hl)=>Bl({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Hl(){return new Tl}function Kl(t=null){return e=>e.lift(new Ql(t))}class Ql{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Gl(t,this.defaultValue))}}class Gl extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function $l(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Nl((e,n)=>t(e,n,i)):Y,Vl(1),n?Kl(e):Wl(()=>new Tl))}function Yl(t){return function(e){const n=new Xl(t),i=e.lift(n);return n.caught=i}}class Xl{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zl(t,this.selector,this.caught))}}class Zl extends B{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new I(this,void 0,void 0);this.add(i),q(this,n,void 0,void 0,i)}}}function Jl(t){return e=>0===t?Cl():e.lift(new tu(t))}class tu{constructor(t){if(this.total=t,this.total<0)throw new Fl}call(t,e){return e.subscribe(new eu(t,this.total))}}class eu extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function nu(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Nl((e,n)=>t(e,n,i)):Y,Jl(1),n?Kl(e):Wl(()=>new Tl))}class iu{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new ru(t,this.predicate,this.thisArg,this.source))}}class ru extends m{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ou(t,e){return"function"==typeof e?n=>n.pipe(ou((n,i)=>K(t(n,i)).pipe(j((t,r)=>e(n,t,i,r))))):e=>e.lift(new su(t))}class su{constructor(t){this.project=t}call(t,e){return e.subscribe(new au(t,this.project))}}class au extends B{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new I(this,void 0,void 0);this.destination.add(r),this.innerSubscription=q(this,t,e,n,r)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function lu(...t){return e=>{let n=t[t.length-1];P(n)?t.pop():n=null;const i=t.length;return function(...t){return Al()(xl(...t))}(1!==i||n?i>0?H(t,n):Cl(n):El(t[0]),e)}}function uu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new cu(t,e,n))}}class cu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new hu(t,this.accumulator,this.seed,this.hasSeed))}}class hu extends m{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function du(t,e){return Q(t,e,1)}function pu(t){return e=>e.lift(new fu(t))}class fu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mu(t,this.callback))}}class mu extends m{constructor(t,e){super(t),this.add(new d(e))}}let gu=null;function yu(){return gu}class vu{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class _u extends vu{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const bu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},wu=3,Cu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xu=(()=>{if(kt.Node)return kt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Su extends _u{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Su,gu||(gu=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return bu}contains(t,e){return xu.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===wu&&Eu.hasOwnProperty(e)&&(e=Eu[e]))}return Cu[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Tu||(Tu=document.querySelector("base"))?Tu.getAttribute("href"):null;return null==e?null:(n=e,ku||(ku=document.createElement("a")),ku.setAttribute("href",n),"/"===ku.pathname.charAt(0)?ku.pathname:"/"+ku.pathname);var n}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Qa(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let ku,Tu=null;function Ou(){return!!window.history.pushState}const Pu=new Tt("TRANSITION_ID"),Iu=[{provide:Wr,useFactory:function(t,e,n){return()=>{n.get(Hr).donePromise.then(()=>{const n=yu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Pu,fl,Ve],multi:!0}];class Mu{static init(){var t;t=new Mu,Po=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?yu().isShadowRoot(e)?this.findTestabilityInTree(t,yu().getHost(e),!0):this.findTestabilityInTree(t,yu().parentElement(e),!0):null}}function Au(t,e){"undefined"!=typeof COMPILED&&COMPILED||((kt.ng=kt.ng||{})[t]=e)}const Nu=(()=>({ApplicationRef:Vo,NgZone:vo}))();function Ru(t){return Xo(t)}const Du=new Tt("EventManagerPlugins");class Lu{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class Fu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=yu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class Vu{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Uu extends Vu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>yu().remove(t))}}const qu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bu=/%COMP%/g,ju="_nghost-%COMP%",zu="_ngcontent-%COMP%";function Wu(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Wu(t,r,n):(r=r.replace(Bu,t),n.push(r))}return n}function Hu(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Ku{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Qu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Gt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Yu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Gt.Native:case Gt.ShadowDom:return new Xu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Wu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Qu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(qu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=qu[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=qu[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&vn.DashCase?t.style.setProperty(e,n,i&vn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&vn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){$u(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return $u(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Hu(n)):this.eventManager.addEventListener(t,e,Hu(n))}}const Gu=(()=>"@".charCodeAt(0))();function $u(t,e){if(t.charCodeAt(0)===Gu)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Yu extends Qu{constructor(t,e,n,i){super(t),this.component=n;const r=Wu(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr=zu.replace(Bu,i+"-"+n.id),this.hostAttr=ju.replace(Bu,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Xu extends Qu{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===Gt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Wu(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Zu=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Ju=Zu("addEventListener"),tc=Zu("removeEventListener"),ec={},nc="FALSE",ic="ANGULAR",rc="addEventListener",oc="removeEventListener",sc="__zone_symbol__propagationStopped",ac="__zone_symbol__stopImmediatePropagation",lc=(()=>{const t="undefined"!=typeof Zone&&Zone[Zu("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),uc=function(t){return!!lc&&lc.hasOwnProperty(t)},cc=function(t){const e=ec[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[sc];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}};class hc extends Fu{constructor(t,e,n){super(t),this.ngZone=e,n&&vl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[ac])return;const t=Event.prototype[ac]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[sc]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[Ju]||vo.isInAngularZone()&&!uc(e))t[rc](e,i,!1);else{let n=ec[e];n||(n=ec[e]=Zu(ic+e+nc));let r=t[n];const o=r&&r.length>0;r||(r=t[n]=[]);const s=uc(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:s,handler:i})}o||t[Ju](e,cc,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[tc];if(!i)return t[oc].apply(t,[e,n,!1]);let r=ec[e],o=r&&t[r];if(!o)return t[oc].apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&i.apply(t,[e,cc,!1]):t[oc].apply(t,[e,n,!1])}}const dc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},pc=new Tt("HammerGestureConfig"),fc=new Tt("HammerLoader");class mc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class gc extends Fu{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!dc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),o=function(t){i.runGuarded((function(){n(t)}))};return r.on(e,o),()=>{r.off(e,o),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const yc=["alt","control","meta","shift"],vc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class _c extends Fu{constructor(t){super(t)}supports(t){return null!=_c.parseEventName(t)}addEventListener(t,e,n){const i=_c.parseEventName(e),r=_c.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yu().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=_c._normalizeKey(e.pop());let r="";if(yc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=i,0!=e.length||0===i.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(t){let e="",n=yu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),yc.forEach(i=>{i!=n&&(0,vc[i])(t)&&(e+=i+".")}),e+=n}static eventCallback(t,e,n){return i=>{_c.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class bc{}class wc extends bc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Te.NONE:return e;case Te.HTML:return e instanceof Ec?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Se=Se||new se(t);let i=e?String(e):"";n=Se.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Se.getInertBodyElement(i)}while(i!==o);const s=new we,a=s.sanitizeChildren(ke(n)||n);return oe()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ke(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Te.STYLE:return e instanceof xc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ie);return e&&ue(e[1])===e[1]||t.match(Pe)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(oe()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Te.SCRIPT:if(e instanceof Sc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Te.URL:return e instanceof Tc||e instanceof kc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ue(String(e)));case Te.RESOURCE_URL:if(e instanceof Tc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Cc)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Ec(t)}bypassSecurityTrustStyle(t){return new xc(t)}bypassSecurityTrustScript(t){return new Sc(t)}bypassSecurityTrustUrl(t){return new kc(t)}bypassSecurityTrustResourceUrl(t){return new Tc(t)}}class Cc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Ec extends Cc{getTypeName(){return"HTML"}}class xc extends Cc{getTypeName(){return"Style"}}class Sc extends Cc{getTypeName(){return"Script"}}class kc extends Cc{getTypeName(){return"URL"}}class Tc extends Cc{getTypeName(){return"ResourceURL"}}const Oc=Ro(Jo,"browser",[{provide:Yr,useValue:ml},{provide:$r,useValue:function(){Su.makeCurrent(),Mu.init()},multi:!0},{provide:Ra,useClass:class extends Ra{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=yu().getLocation(),this._history=yu().getHistory()}getBaseHrefFromDOM(){return yu().getBaseHref(this._doc)}onPopState(t){yu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){yu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Ou()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Ou()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[fl]},{provide:fl,useFactory:function(){return document},deps:[]}]);function Pc(){return new ne}class Ic{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Ic,providers:[{provide:Kr,useValue:t.appId},{provide:Pu,useExisting:Kr},Iu]}}}"undefined"!=typeof window&&window;class Mc{constructor(t,e){this.id=t,this.url=e}}class Ac extends Mc{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nc extends Mc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rc extends Mc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dc extends Mc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lc extends Mc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fc extends Mc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vc extends Mc{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uc extends Mc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qc extends Mc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gc{}const $c="primary";class Yc{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xc(t){return new Yc(t)}const Zc="ngNavigationCancelingError";function Jc(t){const e=Error("NavigationCancelingError: "+t);return e[Zc]=!0,e}function th(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class eh{constructor(t,e){this.routes=t,this.module=e}}function nh(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];ih(i,rh(e,i))}}function ih(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==$c)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&nh(t.children,e)}function rh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function oh(t){const e=t.children&&t.children.map(oh),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$c&&(n.component=Gc),n}function sh(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(t[r=n[o]]!==e[r])return!1;return!0}function ah(t){return Array.prototype.concat.apply([],t)}function lh(t){return t.length>0?t[t.length-1]:null}function uh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ch(t){return nn(t)?t:en(t)?K(Promise.resolve(t)):xl(t)}function hh(t,e,n){return n?function(t,e){return sh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!mh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!mh(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!mh(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),o=r.slice(n.segments.length);return!!mh(n.segments,t)&&!!n.children[$c]&&e(n.children[$c],i,o)}}(e,n,n.segments)}(t.root,e.root)}class dh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return _h.serialize(this)}}class ph{constructor(t,e){this.segments=t,this.children=e,this.parent=null,uh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bh(this)}}class fh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap}toString(){return kh(this)}}function mh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function gh(t,e){let n=[];return uh(t.children,(t,i)=>{i===$c&&(n=n.concat(e(t,i)))}),uh(t.children,(t,i)=>{i!==$c&&(n=n.concat(e(t,i)))}),n}class yh{}class vh{parse(t){const e=new Mh(t);return new dh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return bh(e);if(n){const n=e.children[$c]?t(e.children[$c],!1):"",i=[];return uh(e.children,(e,n)=>{n!==$c&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=gh(e,(n,i)=>i===$c?[t(e.children[$c],!1)]:[`${i}:${t(n,!1)}`]);return`${bh(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ch(e)}=${Ch(t)}`).join("&"):`${Ch(e)}=${Ch(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const _h=new vh;function bh(t){return t.segments.map(t=>kh(t)).join("/")}function wh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ch(t){return wh(t).replace(/%3B/gi,";")}function Eh(t){return wh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xh(t){return decodeURIComponent(t)}function Sh(t){return xh(t.replace(/\+/g,"%20"))}function kh(t){return`${Eh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Eh(t)}=${Eh(e[t])}`).join("")}`;var e}const Th=/^[^\/()?;=#]+/;function Oh(t){const e=t.match(Th);return e?e[0]:""}const Ph=/^[^=?&#]+/,Ih=/^[^?&#]+/;class Mh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ph([],{}):new ph([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[$c]=new ph(t,e)),n}parseSegment(){const t=Oh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new fh(xh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Oh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Oh(this.remaining);t&&this.capture(n=t)}t[xh(e)]=xh(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ph);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ih);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const i=Sh(e),r=Sh(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(t[i]=e=[e]),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Oh(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=$c);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[$c]:new ph([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ah{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Nh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Rh(t,this._root).map(t=>t.value)}}function Nh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Nh(t,n);if(e)return e}return null}function Rh(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Rh(t,n);if(i.length)return i.unshift(e),i}return[]}class Dh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Fh extends Ah{constructor(t,e){super(t),this.snapshot=e,zh(this,t)}toString(){return this.snapshot.toString()}}function Vh(t,e){const n=function(t,e){const n=new Bh([],{},{},"",{},$c,e,null,t.root,-1,{});return new jh("",new Dh(n,[]))}(t,e),i=new Sl([new fh("",{})]),r=new Sl({}),o=new Sl({}),s=new Sl({}),a=new Sl(""),l=new Uh(i,r,s,a,o,$c,e,n.root);return l.snapshot=n.root,new Fh(new Dh(l,[]),n)}class Uh{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(t=>Xc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(t=>Xc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qh(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Bh{constructor(t,e,n,i,r,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jh extends Ah{constructor(t,e){super(e),this.url=t,zh(this,e)}toString(){return Wh(this._root)}}function zh(t,e){e.value._routerState=t,e.children.forEach(e=>zh(t,e))}function Wh(t){const e=t.children.length>0?` { ${t.children.map(Wh).join(", ")} } `:"";return`${t.value}${e}`}function Hh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),sh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),sh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Kh(t,e){var n,i;return sh(t.params,e.params)&&mh(n=t.url,i=e.url)&&n.every((t,e)=>sh(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Kh(t.parent,e.parent))}function Qh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gh(t,e,n,i,r){let o={};return i&&uh(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new dh(n.root===t?e:function t(e,n,i){const r={};return uh(e.children,(e,o)=>{r[o]=e===n?i:t(e,n,i)}),new ph(e.segments,r)}(n.root,t,e),o,r)}class $h{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Qh(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==lh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Xh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[$c]:`${t}`}function Zh(t,e,n){if(t||(t=new ph([],{})),0===t.segments.length&&t.hasChildren())return Jh(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=Xh(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!id(s,a,e))return o;i+=2}else{if(!id(s,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new ph(t.segments.slice(0,i.pathIndex),{});return e.children[$c]=new ph(t.segments.slice(i.pathIndex),t.children),Jh(e,0,r)}return i.match&&0===r.length?new ph(t.segments,{}):i.match&&!t.hasChildren()?td(t,e,n):i.match?Jh(t,0,r):td(t,e,n)}function Jh(t,e,n){if(0===n.length)return new ph(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{[$c]:t}:void 0===t[0].outlets?{[$c]:t}:t[0].outlets}(n),r={};return uh(i,(n,i)=>{null!==n&&(r[i]=Zh(t.children[i],e,n))}),uh(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new ph(t.segments,r)}}function td(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=ed(n[r].outlets);return new ph(i,t)}if(0===r&&Qh(n[0])){i.push(new fh(t.segments[e].path,n[0])),r++;continue}const o=Xh(n[r]),s=r<n.length-1?n[r+1]:null;o&&s&&Qh(s)?(i.push(new fh(o,nd(s))),r+=2):(i.push(new fh(o,{})),r++)}return new ph(i,{})}function ed(t){const e={};return uh(t,(t,n)=>{null!==t&&(e[n]=td(new ph([],{}),0,t))}),e}function nd(t){const e={};return uh(t,(t,n)=>e[n]=`${t}`),e}function id(t,e,n){return t==n.path&&sh(e,n.parameters)}const rd=(t,e,n)=>j(i=>(new od(e,i.targetRouterState,i.currentRouterState,n).activate(t),i));class od{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Lh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),uh(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Lh(t),r=t.value.component?n.children:e;uh(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Lh(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Kc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Wc(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Hh(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),sd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function sd(t){Hh(t.value),t.children.forEach(sd)}function ad(t){return"function"==typeof t}function ld(t){return t instanceof dh}class ud{constructor(t){this.segmentGroup=t||null}}class cd{constructor(t){this.urlTree=t}}function hd(t){return new w(e=>e.error(new ud(t)))}function dd(t){return new w(e=>e.error(new cd(t)))}function pd(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class fd{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Wt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,$c).pipe(j(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yl(t=>{if(t instanceof cd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ud)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,$c).pipe(j(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Yl(t=>{if(t instanceof ud)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new ph([],{[$c]:t}):t;return new dh(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j(t=>new ph([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return xl({});const n=[],i=[],r={};return uh(t,(t,o)=>{const s=e(o,t).pipe(j(t=>r[o]=t));o===$c?n.push(s):i.push(s)}),xl.apply(null,n.concat(i)).pipe(Al(),$l(),j(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,o){return xl(...n).pipe(j(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Yl(t=>{if(t instanceof ud)return xl(null);throw t}))),Al(),nu(t=>!!t),Yl((t,n)=>{if(t instanceof Tl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return xl(new ph([],{}));throw new ud(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return vd(i)!==o?hd(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):hd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dd(r):this.lineralizeSegments(n,r).pipe(Q(n=>{const r=new ph(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=md(e,i,r);if(!s)return hd(e);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?dd(c):this.lineralizeSegments(i,c).pipe(Q(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j(t=>(n._loadedConfig=t,new ph(i,{})))):xl(new ph(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=md(e,n,i);if(!r)return hd(e);const a=i.slice(s);return this.getChildConfig(t,n,i).pipe(Q(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:s}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>yd(t,e,n)&&vd(n)!==$c)}(t,n,i)?{segmentGroup:gd(new ph(e,function(t,e){const n={};n[$c]=e;for(const i of t)""===i.path&&vd(i)!==$c&&(n[vd(i)]=new ph([],{}));return n}(i,new ph(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>yd(t,e,n))}(t,n,i)?{segmentGroup:gd(new ph(t.segments,function(t,e,n,i){const r={};for(const o of n)yd(t,e,o)&&!i[vd(o)]&&(r[vd(o)]=new ph([],{}));return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(j(t=>new ph(o,t))):0===i.length&&0===s.length?xl(new ph(o,{})):this.expandSegment(n,r,i,s,$c,!0).pipe(j(t=>new ph(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?xl(new eh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?xl(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?K(i).pipe(j(i=>{const r=t.get(i);let o;if(function(t){return t&&ad(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!ad(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return ch(o)})).pipe(Al(),(r=t=>!0===t,t=>t.lift(new iu(r,void 0,t)))):xl(!0);var r}(t.injector,e,n).pipe(Q(n=>n?this.configLoader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Jc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):xl(new eh([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return xl(n);if(i.numberOfChildren>1||!i.children[$c])return pd(t.redirectTo);i=i.children[$c]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new dh(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return uh(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return uh(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new ph(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function md(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||th)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gd(t){if(1===t.numberOfChildren&&t.children[$c]){const e=t.children[$c];return new ph(t.segments.concat(e.segments),e.children)}return t}function yd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function vd(t){return t.outlet||$c}class _d{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bd{constructor(t,e){this.component=t,this.route=e}}function wd(t,e,n){const i=t._root;return function t(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lh(n);return e.children.forEach(e=>{!function(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mh(t.url,e.url)||!sh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kh(t,e)||!sh(t.queryParams,e.queryParams);case"paramsChange":default:return!Kh(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new _d(r)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:i,r,o),u&&o.canDeactivateChecks.push(new bd(l&&l.outlet&&l.outlet.component||null,a))}else a&&Ed(n,l,o),o.canActivateChecks.push(new _d(r)),t(e,null,s.component?l?l.children:null:i,r,o)}(e,s[e.value.outlet],i,r.concat([e.value]),o),delete s[e.value.outlet]}),uh(s,(t,e)=>Ed(t,i.getContext(e),o)),o}(i,e?e._root:null,n,[i.value])}function Cd(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Ed(t,e,n){const i=Lh(t),r=t.value;uh(i,(t,i)=>{Ed(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new bd(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const xd=Symbol("INITIAL_VALUE");function Sd(){return ou(t=>(function(...t){let e=null,n=null;return P(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),H(t,n).lift(new Pl(e))})(...t.map(t=>t.pipe(Jl(1),lu(xd)))).pipe(uu((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==xd)return t;if(i===xd&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||ld(i))return i}return t},t)},xd),Nl(t=>t!==xd),j(t=>ld(t)?t:!0===t),Jl(1)))}function kd(t,e){return null!==t&&e&&e(new Hc(t)),xl(!0)}function Td(t,e){return null!==t&&e&&e(new zc(t)),xl(!0)}function Od(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?xl(i.map(i=>Ml(()=>{const r=Cd(i,e,n);let o;if(function(t){return t&&ad(t.canActivate)}(r))o=ch(r.canActivate(e,t));else{if(!ad(r))throw new Error("Invalid CanActivate guard");o=ch(r(e,t))}return o.pipe(nu())}))).pipe(Sd()):xl(!0)}function Pd(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>Ml(()=>xl(e.guards.map(r=>{const o=Cd(r,e.node,n);let s;if(function(t){return t&&ad(t.canActivateChild)}(o))s=ch(o.canActivateChild(i,t));else{if(!ad(o))throw new Error("Invalid CanActivateChild guard");s=ch(o(i,t))}return s.pipe(nu())})).pipe(Sd())));return xl(r).pipe(Sd())}class Id{}class Md{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const t=Rd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,$c),n=new Bh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$c,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Dh(n,e),r=new jh(this.url,i);return this.inheritParamsAndData(r._root),xl(r)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=qh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=gh(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===$c?-1:e.value.outlet===$c?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,i)}catch(r){if(!(r instanceof Id))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new Id}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Id;if((t.outlet||$c)!==i)throw new Id;let r,o=[],s=[];if("**"===t.path){const o=n.length>0?lh(n).parameters:{};r=new Bh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fd(t),i,t.component,t,Ad(e),Nd(e)+n.length,Vd(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Id;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||th)(n,t,e);if(!i)throw new Id;const r={};uh(i.posParams,(t,e)=>{r[e]=t.path});const o=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new Bh(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fd(t),i,t.component,t,Ad(e),Nd(e)+o.length,Vd(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=Rd(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Dh(r,t)]}if(0===a.length&&0===u.length)return[new Dh(r,[])];const c=this.processSegment(a,l,u,$c);return[new Dh(r,c)]}}function Ad(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Rd(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Dd(t,e,n)&&Ld(n)!==$c)}(t,n,i)){const r=new ph(e,function(t,e,n,i){const r={};r[$c]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ld(o)!==$c){const n=new ph([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Ld(o)]=n}return r}(t,e,i,new ph(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Dd(t,e,n))}(t,n,i)){const o=new ph(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Dd(t,n,a)&&!r[Ld(a)]){const n=new ph([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ld(a)]=n}return Object.assign({},r,s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ph(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Dd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ld(t){return t.outlet||$c}function Fd(t){return t.data||{}}function Vd(t){return t.resolve||{}}function Ud(t,e,n,i){const r=Cd(t,e,i);return ch(r.resolve?r.resolve(e,n):r(e,n))}function qd(t){return function(e){return e.pipe(ou(e=>{const n=t(e);return n?K(n).pipe(j(()=>e)):K([e])}))}}class Bd{}class jd{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const zd=new Tt("ROUTES");class Wd{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new eh(ah(i.injector.get(zd)).map(oh),i)}))}loadModuleFactory(t){return"string"==typeof t?K(this.loader.load(t)):ch(t()).pipe(Q(t=>t instanceof Ht?xl(t):K(this.compiler.compileModuleAsync(t))))}}class Hd{}class Kd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qd(t){throw t}function Gd(t,e,n){return e.parse("/")}function $d(t,e){return xl(null)}class Yd{constructor(t,e,n,i,r,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Qd,this.malformedUriErrorHandler=Gd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$d,afterPreactivation:$d},this.urlHandlingStrategy=new Kd,this.routeReuseStrategy=new jd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Wt),this.console=r.get(Zr);const l=r.get(vo);this.isNgZoneEnabled=l instanceof vo,this.resetConfig(a),this.currentUrlTree=new dh(new ph([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wd(o,s,t=>this.triggerEvent(new Bc(t)),t=>this.triggerEvent(new jc(t))),this.routerState=Vh(this.currentUrlTree,this.rootComponentType),this.transitions=new Sl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Nl(t=>0!==t.id),j(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ou(t=>{let n=!1,i=!1;return xl(t).pipe(Bl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ou(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return xl(t).pipe(ou(t=>{const n=this.transitions.getValue();return e.next(new Ac(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?wl:[t]}),ou(t=>Promise.resolve(t)),function(t,e,n,i){return function(r){return r.pipe(ou(r=>(function(t,e,n,i,r){return new fd(t,e,n,i,r).apply()})(t,e,n,r.extractedUrl,i).pipe(j(t=>Object.assign({},r,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Bl(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(o){return o.pipe(Q(o=>(function(t,e,n,i,r="emptyOnly",o="legacy"){return new Md(t,e,n,i,r,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(j(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Bl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Bl(t=>{const n=new Lc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Ac(n,this.serializeUrl(i),r,o);e.next(a);const l=Vh(i,this.rootComponentType).snapshot;return xl(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),wl}),qd(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Bl(t=>{const e=new Fc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),j(t=>Object.assign({},t,{guards:wd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?xl(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return K(t).pipe(Q(t=>(function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xl(o.map(o=>{const s=Cd(o,e,r);let a;if(function(t){return t&&ad(t.canDeactivate)}(s))a=ch(s.canDeactivate(t,e,n,i));else{if(!ad(s))throw new Error("Invalid CanDeactivate guard");a=ch(s(t,e,n,i))}return a.pipe(nu())})).pipe(Sd()):xl(!0)})(t.component,t.route,n,e,i)),nu(t=>!0!==t,!0))}(s,i,r,t).pipe(Q(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return K(e).pipe(du(e=>K([Td(e.route.parent,i),kd(e.route,i),Pd(t,e.path,n),Od(t,e.route,n)]).pipe(Al(),nu(t=>!0!==t,!0))),nu(t=>!0!==t,!0))}(i,o,t,e):xl(n)),j(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Bl(t=>{if(ld(t.guardsResult)){const e=Jc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Bl(t=>{const e=new Vc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Nl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Rc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),qd(t=>{if(t.guards.canActivateChecks.length)return xl(t).pipe(Bl(t=>{const e=new Uc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;return r.length?K(r).pipe(du(n=>(function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return xl({});if(1===r.length){const o=r[0];return Ud(t[o],e,n,i).pipe(j(t=>({[o]:t})))}const o={};return K(r).pipe(Q(r=>Ud(t[r],e,n,i).pipe(j(t=>(o[r]=t,t))))).pipe($l(),j(()=>o))}(t._resolve,t,e,i).pipe(j(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,qh(t,n).resolve),null)))})(n.route,i,t,e)),function(t,e){return arguments.length>=2?function(n){return _(uu(t,e),Vl(1),Kl(e))(n)}:function(e){return _(uu((e,n,i)=>t(e,n,i+1)),Vl(1))(e)}}((t,e)=>t),j(t=>n)):xl(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Bl(t=>{const e=new qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),qd(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),j(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const o=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Dh(r,o)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Uh(new Sl((r=n.value).url),new Sl(r.params),new Sl(r.queryParams),new Sl(r.fragment),new Sl(r.data),r.outlet,r.component,r),o=n.children.map(n=>t(e,n));return new Dh(i,o)}}var r}(t,e._root,n?n._root:void 0);return new Fh(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Bl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),rd(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),Bl({next(){n=!0},complete(){n=!0}}),pu(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Rc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Yl(n=>{if(i=!0,function(t){return t&&t[Zc]}(n)){const i=ld(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Rc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),t.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Dc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(r){t.reject(r)}}return wl}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nh(t),this.config=t.map(oh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;oe()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:r;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=o?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return Gh(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $h(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return uh(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new $h(n,e,i)}(n);if(o.toRoot())return Gh(e.root,new ph([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new Yh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Yh(n.snapshot._urlSegment,!0,0);const i=Qh(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new Yh(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Jh(s.segmentGroup,s.index,o.commands):Zh(s.segmentGroup,s.index,o.commands);return Gh(s.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){oe()&&this.isNgZoneEnabled&&!vo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ld(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ld(t))return hh(this.currentUrlTree,t,e);const n=this.parseUrl(t);return hh(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Nc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i){const r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Xd{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Jd(this.skipLocationChange),replaceUrl:Jd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jd(this.preserveFragment)})}}class Zd{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Nc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Jd(this.skipLocationChange),replaceUrl:Jd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jd(this.preserveFragment)})}}function Jd(t){return""===t||!!t}class tp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ep,this.attachRef=null}}class ep{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new tp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class np{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Br,this.deactivateEvents=new Br,this.name=i||$c,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new ip(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class ip{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Uh?this.route:t===ep?this.childContexts:this.parent.get(t,e)}}class rp{}class op{preload(t,e){return e().pipe(Yl(()=>xl(null)))}}class sp{preload(t,e){return xl(null)}}class ap{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Wd(e,n,e=>t.triggerEvent(new Bc(e)),e=>t.triggerEvent(new jc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nl(t=>t instanceof Nc),du(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Wt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return K(n).pipe(X(),j(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class lp{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ac?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Qc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const up=new Tt("ROUTER_CONFIGURATION"),cp=new Tt("ROUTER_FORROOT_GUARD"),hp=[Va,{provide:yh,useClass:vh},{provide:Yd,useFactory:vp,deps:[Vo,yh,ep,Va,Ve,qo,so,zd,up,[Hd,new ct],[Bd,new ct]]},ep,{provide:Uh,useFactory:_p,deps:[Yd]},{provide:qo,useClass:Ho},ap,sp,op,{provide:up,useValue:{enableTracing:!1}}];function dp(){return new No("Router",Yd)}class pp{constructor(t,e){}static forRoot(t,e){return{ngModule:pp,providers:[hp,yp(t),{provide:cp,useFactory:gp,deps:[[Yd,new ct,new dt]]},{provide:up,useValue:e||{}},{provide:La,useFactory:mp,deps:[Ra,[new ut(Fa),new ct],up]},{provide:lp,useFactory:fp,deps:[Yd,_l,up]},{provide:rp,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:sp},{provide:No,multi:!0,useFactory:dp},[bp,{provide:Wr,multi:!0,useFactory:wp,deps:[bp]},{provide:Ep,useFactory:Cp,deps:[bp]},{provide:Xr,multi:!0,useExisting:Ep}]]}}static forChild(t){return{ngModule:pp,providers:[yp(t)]}}}function fp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new lp(t,e,n)}function mp(t,e,n={}){return n.useHash?new qa(t,e):new Ba(t,e)}function gp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yp(t){return[{provide:Qe,multi:!0,useValue:t},{provide:zd,multi:!0,useValue:t}]}function vp(t,e,n,i,r,o,s,a,l={},u,c){const h=new Yd(null,e,n,i,r,o,s,ah(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=yu();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function _p(t){return t.routerState.root}class bp{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(Da,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yd),i=this.injector.get(up);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?xl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(up),n=this.injector.get(ap),i=this.injector.get(lp),r=this.injector.get(Yd),o=this.injector.get(Vo);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function wp(t){return t.appInitializer.bind(t)}function Cp(t){return t.bootstrapListener.bind(t)}const Ep=new Tt("Router Initializer");var xp=oi({encapsulation:2,styles:[],data:{}});function Sp(t){return xs(0,[(t()(),ss(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),gr(1,212992,null,0,np,[ep,qn,cn,[8,null],Re],null,null)],(function(t,e){t(e,1,0)}),null)}function kp(t){return xs(0,[(t()(),ss(0,0,null,null,1,"ng-component",[],null,null,null,Sp,xp)),gr(1,49152,null,0,Gc,[],null,null)],null,null)}var Tp=Ki("ng-component",Gc,kp,{},{},[]);class Op{}class Pp{}const Ip="*";function Mp(t,e=null){return{type:2,steps:t,options:e}}function Ap(t){return{type:6,styles:t,offset:null}}function Np(t){Promise.resolve(null).then(t)}class Rp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Np(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Dp{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Np(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Lp="!";function Fp(t){return null!=t&&"false"!==`${t}`}function Vp(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Up(t){return Array.isArray(t)?t:[t]}function qp(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Bp(t){return t instanceof fn?t.nativeElement:t}const jp=new wn("8.2.3");let zp;try{zp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(jP){zp=!1}let Wp,Hp=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?yl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Yr,8))},token:t,providedIn:"root"}),t})();class Kp{}const Qp=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gp(){if(Wp)return Wp;if("object"!=typeof document||!document)return Wp=new Set(Qp);let t=document.createElement("input");return Wp=new Set(Qp.filter(e=>(t.setAttribute("type",e),t.type===e)))}let $p;function Yp(t){return function(){if(null==$p&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$p=!0}))}finally{$p=$p||!1}return $p}()?t:!!t.capture}const Xp=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let Zp;function Jp(){if("object"!=typeof document||!document)return Xp.NORMAL;if(!Zp){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Zp=Xp.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Zp=0===t.scrollLeft?Xp.NEGATED:Xp.INVERTED),t.parentNode.removeChild(t)}return Zp}const tf=9,ef=13,nf=27,rf=32,of=35,sf=36,af=37,lf=38,uf=39,cf=40,hf=48,df=57,pf=65,ff=90;function mf(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class gf extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class yf extends gf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let vf=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class _f extends vf{constructor(t,e=vf.now){super(t,()=>_f.delegate&&_f.delegate!==this?_f.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return _f.delegate&&_f.delegate!==this?_f.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const bf=new _f(yf);function wf(t,e=bf){return n=>n.lift(new Cf(t,e))}class Cf{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Ef(t,this.dueTime,this.scheduler))}}class Ef extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xf,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function xf(t){t.debouncedNext()}class Sf{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new T,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new T,this.change=new T,t instanceof zr&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Bl(t=>this._pressedLetters.push(t)),wf(t),Nl(()=>this._pressedLetters.length>0),j(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case tf:return void this.tabOut.next();case cf:if(this._vertical&&n){this.setNextItemActive();break}return;case lf:if(this._vertical&&n){this.setPreviousItemActive();break}return;case uf:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case af:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||mf(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=pf&&e<=ff||e>=hf&&e<=df)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof zr?this._items.toArray():this._items}}class kf extends Sf{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let Tf=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(jP){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Pf(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=Pf(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Of(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Hp))},token:t,providedIn:"root"}),t})();function Of(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Pf(t){if(!Of(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class If{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),oe()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Jl(1)).subscribe(t)}}let Mf=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new If(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Tf),qt(vo),qt(fl))},token:t,providedIn:"root"}),t})();const Af=new Tt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Nf=new Tt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Rf=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Af,8),qt(vo),qt(fl),qt(Nf,8))},token:t,providedIn:"root"}),t})();const Df=650,Lf=Yp({passive:!0,capture:!0});let Ff=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Df)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return xl(null);const n=Bp(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let i={unlisten:()=>{},checkChildren:e,subject:new T};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",r,!0),n.addEventListener("blur",o,!0)}),i.unlisten=()=>{n.removeEventListener("focus",r,!0),n.removeEventListener("blur",o,!0)},i.subject.asObservable()}stopMonitoring(t){const e=Bp(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const i=Bp(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Lf),document.addEventListener("mousedown",this._documentMousedownListener,Lf),document.addEventListener("touchstart",this._documentTouchstartListener,Lf),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Lf),document.removeEventListener("mousedown",this._documentMousedownListener,Lf),document.removeEventListener("touchstart",this._documentTouchstartListener,Lf),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(vo),qt(Hp))},token:t,providedIn:"root"}),t})();const Vf=new wn("8.2.3"),Uf=new Tt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class qf{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&oe()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){Vf.full!==jp.full&&console.warn("The Angular Material version ("+Vf.full+") does not match the Angular CDK version ("+jp.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function Bf(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Fp(t)}}}function jf(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function zf(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fp(t)}}}function Wf(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function Hf(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new T}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}let Kf;try{Kf="undefined"!=typeof Intl}catch(jP){Kf=!1}let Qf=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Gf=new Tt("MAT_HAMMER_OPTIONS"),$f=["longpress","slide","slidestart","slideend","slideright","slideleft"],Yf={on:()=>{},off:()=>{}};class Xf extends mc{constructor(t,e){super(),this._hammerOptions=t,this.events=$f,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return Yf;const n=new e(t,this._hammerOptions||void 0),i=new e.Pan,r=new e.Swipe,o=new e.Press,s=this._createRecognizer(i,{event:"slide",threshold:0},r),a=this._createRecognizer(o,{event:"longpress",time:500});return i.recognizeWith(r),a.recognizeWith(s),n.add([r,o,i,s,a]),n}_createRecognizer(t,e,...n){let i=new t.constructor(e);return n.push(t),n.forEach(t=>i.recognizeWith(t)),i}}class Zf{}const Jf=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class tm{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Jf.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const em={enterDuration:450,exitDuration:400},nm=800,im=Yp({passive:!0});class rm{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+nm;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===Jf.VISIBLE||t.config.terminateOnPointerUp&&t.state===Jf.FADING_IN)&&t.fadeOut()}))},i.isBrowser&&(this._containerElement=Bp(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign({},em,n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,l=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-o}px`,u.style.top=`${a-o}px`,u.style.height=`${2*o}px`,u.style.width=`${2*o}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new tm(this,u,n);return c.state=Jf.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=Jf.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign({},em,t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Jf.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=Jf.HIDDEN,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Bp(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,im)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,im)})}}const om=new Tt("mat-ripple-global-options");class sm{constructor(t,e,n,i,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new rm(this,e,t,n),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class am{}class lm{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}class um{}class cm{}const hm=Bf(cm);let dm=0;class pm extends hm{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${dm++}`}}let fm=0;class mm{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const gm=new Tt("MAT_OPTION_PARENT_COMPONENT");class ym{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${fm++}`,this.onSelectionChange=new Br,this._stateChanges=new T}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Fp(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==ef&&t.keyCode!==rf||mf(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new mm(this,t))}}function vm(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[o]&&o++;return o}return 0}class _m{}const bm=new Tt("mat-label-global-options");function wm(t,e,n,r){return i(n)&&(r=n,n=void 0),r?wm(t,e,n).pipe(j(t=>l(t)?r(...t):r(t))):new w(i=>{!function t(e,n,i,r,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,o),s=()=>t.removeEventListener(n,i,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),s=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),s=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,i,r,o)}r.add(s)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}function Cm(t){return e=>e.lift(new Em(t))}class Em{constructor(t){this.notifier=t}call(t,e){const n=new xm(t),i=q(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class xm extends B{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}let Sm=0;class km{constructor(){this.id=`mat-error-${Sm++}`}}class Tm{}function Om(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let Pm=0;class Im{constructor(){this.align="start",this.id=`mat-hint-${Pm++}`}}class Mm{}class Am{}class Nm{}let Rm=0;const Dm=.75,Lm=5;class Fm{constructor(t){this._elementRef=t}}const Vm=jf(Fm,"primary"),Um=new Tt("MAT_FORM_FIELD_DEFAULT_OPTIONS");class qm extends Vm{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new T,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Rm++}`,this._labelId=`mat-form-field-label-${Rm++}`,this._previousDirection="ltr",this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Fp(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(lu(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Cm(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Cm(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(lu(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(lu(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Cm(this._destroyed)).subscribe(()=>{this.updateOutlineGap(),this._previousDirection=this._dir.value})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,wm(this._label.nativeElement,"transitionend").pipe(Jl(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Om("start");t=n}else if("end"===n.align){if(e)throw Om("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=s-o-Lm,n=a>0?a*Dm+2*Lm:0}for(let s=0;s<r.length;s++)r.item(s).style.width=`${e}px`;for(let s=0;s<o.length;s++)o.item(s).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return"rtl"===this._previousDirection?t.right:t.left}}class Bm{}class jm{}class zm{}class Wm{constructor(t){this._animationMode=t}}class Hm{}const Km=new Tt("cdk-dir-doc",{providedIn:"root",factory:function(){return Bt(fl)}});let Qm=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Br,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Km,8))},token:t,providedIn:"root"}),t})();class Gm{}function $m(){return"undefined"!=typeof process}function Ym(t){switch(t.length){case 0:return new Rp;case 1:return t[0];default:return new Dp(t)}}function Xm(t,e,n,i,r={},o={}){const s=[],a=[];let l=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case Lp:a=r[n];break;case Ip:a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}c[i]=a}),i||a.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Zm(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Jm(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Jm(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Jm(n,"destroy",t)))}}function Jm(t,e,n){const i=n.totalTime,r=tg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function tg(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function eg(t,e,n){let i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function ng(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ig=(t,e)=>!1,rg=(t,e)=>!1,og=(t,e,n)=>[];const sg=$m();(sg||"undefined"!=typeof Element)&&(ig=(t,e)=>t.contains(e),rg=(()=>{if(sg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):rg}})(),og=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let ag=null,lg=!1;function ug(t){ag||(ag=("undefined"!=typeof document?document.body:null)||{},lg=!!ag.style&&"WebkitAppearance"in ag.style);let e=!0;return ag.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in ag.style)&&lg&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ag.style),e}const cg=rg,hg=ig,dg=og;function pg(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}class fg{validateStyleProperty(t){return ug(t)}matchesElement(t,e){return cg(t,e)}containsElement(t,e){return hg(t,e)}query(t,e,n){return dg(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new Rp(n,i)}}let mg=(()=>{class t{}return t.NOOP=new fg,t})();const gg=1e3,yg="{{",vg="ng-enter",_g="ng-leave",bg="ng-trigger",wg=".ng-trigger",Cg="ng-animating",Eg=".ng-animating";function xg(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sg(parseFloat(e[1]),e[2])}function Sg(t,e){switch(e){case"s":return t*gg;default:return t}}function kg(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Sg(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=Sg(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function Tg(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Og(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Tg(t,n);return n}function Pg(t,e,n){return n?e+":"+n+";":""}function Ig(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Pg(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Pg(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Mg(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Ug(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),$m()&&Ig(t))}function Ag(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ug(e);t.style[n]=""}),$m()&&Ig(t))}function Ng(t){return Array.isArray(t)?1==t.length?t[0]:Mp(t):t}const Rg=new RegExp(`${yg}\\s*(.+?)\\s*}}`,"g");function Dg(t){let e=[];if("string"==typeof t){const n=t.toString();let i;for(;i=Rg.exec(n);)e.push(i[1]);Rg.lastIndex=0}return e}function Lg(t,e,n){const i=t.toString(),r=i.replace(Rg,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Fg(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Vg=/-+([a-z0-9])/g;function Ug(t){return t.replace(Vg,(...t)=>t[1].toUpperCase())}function qg(t,e){return 0===t||0===e}function Bg(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach((function(e){n[e]=zg(t,e)}))}}return e}function jg(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function zg(t,e){return window.getComputedStyle(t)[e]}const Wg="*";function Hg(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(Gg(r,s)),"<"!=o[0]||r==Wg&&s==Wg||e.push(Gg(s,r))})(t,n,e)):n.push(t),n}const Kg=new Set(["true","1"]),Qg=new Set(["false","0"]);function Gg(t,e){const n=Kg.has(t)||Qg.has(t),i=Kg.has(e)||Qg.has(e);return(r,o)=>{let s=t==Wg||t==r,a=e==Wg||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?Kg.has(t):Qg.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?Kg.has(e):Qg.has(e)),s&&a}}const $g=":self",Yg=new RegExp(`s*${$g}s*,?`,"g");function Xg(t,e,n){return new Jg(t).build(e,n)}const Zg="";class Jg{constructor(t){this._driver=t}build(t,e){const n=new ty(e);return this._resetContextStyleTimingState(n),jg(this,Ng(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Zg,t.collectedStyles={},t.collectedStyles[Zg]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(ey(t)){const e=t;Object.keys(e).forEach(t=>{Dg(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Fg(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=jg(this,Ng(t.animation),e);return{type:1,matchers:Hg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ny(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>jg(this,t,e)),options:ny(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=jg(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:ny(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return iy(kg(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=iy(0,0,"");return t.dynamic=!0,t.strValue=i,t}return iy((n=n||kg(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Ap({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=Ap(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ip?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(ey(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf(yg)>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Dg(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ey(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ey(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(i++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,r.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const o=c>0?i==h?1:c*i:r[i],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:jg(this,Ng(t.animation),e),options:ny(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ny(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ny(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==$g);return e&&(t=t.replace(Yg,"")),[t=t.replace(/@\*/g,wg).replace(/@\w+/g,t=>wg+"-"+t.substr(1)).replace(/:animating/g,Eg),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,eg(e.collectedStyles,e.currentQuerySelector,{});const s=jg(this,Ng(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:ny(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:kg(t.timings,e.errors,!0);return{type:12,animation:jg(this,Ng(t.animation),e),timings:n,options:null}}}class ty{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ey(t){return!Array.isArray(t)&&"object"==typeof t}function ny(t){var e;return t?(t=Tg(t)).params&&(t.params=(e=t.params)?Tg(e):null):t={},t}function iy(t,e,n){return{duration:t,delay:e,easing:n}}function ry(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class oy{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const sy=1,ay=new RegExp(":enter","g"),ly=new RegExp(":leave","g");function uy(t,e,n,i,r,o={},s={},a,l,u=[]){return(new cy).buildKeyframes(t,e,n,i,r,o,s,a,l,u)}class cy{buildKeyframes(t,e,n,i,r,o,s,a,l,u=[]){l=l||new oy;const c=new dy(t,e,l,i,r,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),jg(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ry(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?xg(n.duration):null,o=null!=n.delay?xg(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),jg(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&((i=e.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hy);const t=xg(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>jg(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?xg(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),jg(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return kg(e.params?Lg(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?xg(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hy);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),jg(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;jg(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const hy={};class dy{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new py(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=xg(n.duration)),null!=n.delay&&(i.delay=xg(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Lg(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new dy(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=hy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new fy(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(ay,"."+this._enterClassName)).replace(ly,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class py{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new py(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=sy,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ip,this._currentKeyframe[t]=Ip}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e)).forEach(t=>{n[t]=Ip}):Og(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Lg(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ip),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=Og(r,!0);Object.keys(s).forEach(n=>{const i=s[n];i==Lp?t.add(n):i==Ip&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?Fg(t.values()):[],o=e.size?Fg(e.values()):[];if(n){const t=i[0],e=Tg(t);t.offset=0,e.offset=1,i=[t,e]}return ry(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class fy extends py{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=Og(t[0],!1);a.offset=0,r.push(a);const l=Og(t[0],!1);l.offset=my(s),r.push(l);const u=t.length-1;for(let i=1;i<=u;i++){let s=Og(t[i],!1);s.offset=my((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return ry(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function my(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class gy{}class yy extends gy{normalizePropertyName(t,e){return Ug(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(vy[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const vy=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _y(t,e,n,i,r,o,s,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const by={};class wy{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||by,d=this.buildStyles(n,s&&s.params||by,c),p=a&&a.params||by,f=this.buildStyles(i,p,c),m=new Set,g=new Map,y=new Map,v="void"===i,_={params:Object.assign({},h,p)},b=u?[]:uy(t,e,this.ast.animation,r,o,d,f,_,l,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return _y(e,this._triggerName,n,i,v,d,f,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,i=eg(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=eg(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=Fg(m.values());return _y(e,this._triggerName,n,i,v,d,f,b,C,g,y,w)}}class Cy{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Tg(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=Lg(o,i,e)),n[t]=o})}}),n}}class Ey{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Cy(t.style,t.options&&t.options.params||{})}),xy(this.states,"true","1"),xy(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new wy(t,e,this.states))}),this.fallbackTransition=new wy(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function xy(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Sy=new oy;class ky{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Xg(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Xm(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=uy(this._driver,e,r,vg,_g,{},{},n,Sy,i)).forEach(t=>{const e=eg(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ip)})});const a=Ym(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=tg(e,"","","");return Zm(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Ty="ng-animate-queued",Oy=".ng-animate-queued",Py="ng-animate-disabled",Iy=".ng-animate-disabled",My="ng-star-inserted",Ay=".ng-star-inserted",Ny=[],Ry={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ly="__ng_removed";class Fy{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Tg(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Vy="void",Uy=new Fy(Vy);class qy{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Gy(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=eg(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=eg(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Gy(t,bg),Gy(t,bg+"-"+e),a[e]=Uy),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new jy(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Gy(t,bg),Gy(t,bg+"-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new Fy(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=Uy),l.value!==Vy&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ag(t,n),Mg(t,i)})}return}const u=eg(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!i)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(Gy(t,Ty),o.onStart(()=>{$y(t,Ty)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,wg,!0).forEach(t=>{if(t[Ly])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Vy,i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ym(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||Uy,s=new Fy(Vy),a=new jy(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}this.prepareLeaveAnimationListeners(t),i?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){Gy(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=tg(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Zm(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class By{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new qy(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(zy(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!zy(e))return;const r=e[Ly];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Gy(t,Py)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),$y(t,Py))}removeNode(t,e,n,i){if(zy(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e[Ly]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return zy(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,wg,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Eg,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ym(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ly];if(e&&e.setForRemoval){if(t[Ly]=Ry,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Iy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Iy,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Gy(this.collectedEnterElements[n],My);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ym(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new oy,i=[],r=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,Oy,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ky(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=vg+f++;p.set(e,n),t.forEach(t=>Gy(t,n))});const m=[],g=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t[Ly];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,Ay,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=Ky(h,Array.from(g));_.forEach((t,e)=>{const n=_g+f++;v.set(e,n),t.forEach(t=>Gy(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>$y(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>$y(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r[Ly];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,r),h=v.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>Ag(r,f.fromStyles)),e.onDestroy(()=>Mg(r,f.toStyles)),void i.push(e)):t.isFallbackTransition?(e.onStart(()=>Ag(r,f.fromStyles)),e.onDestroy(()=>Mg(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>eg(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{eg(C,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Xy(t,a,l)),S=new Map;Hy(S,this.driver,y,l,Ip).forEach(t=>{Xy(t,a,l)&&x.push(t)});const k=new Map;d.forEach((t,e)=>{Hy(k,this.driver,new Set(t),a,Lp)}),x.forEach(t=>{const e=S.get(t),n=k.get(t);S.set(t,Object.assign({},e,n))});const T=[],O=[],P={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>Mg(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=P;if(E.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,r,k,S);if(o.setRealPlayer(n),t===P)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Ym(e)),i.push(o)}}else Ag(e,s.fromStyles),o.onDestroy(()=>Mg(e,s.toStyles)),O.push(o),u.has(e)&&i.push(o)}),O.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Ym(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<m.length;I++){const t=m[I],e=t[Ly];if($y(t,_g),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,Eg,!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Yy(this,t,i):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const i=e[Ly];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==Vy;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,l=eg(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Ag(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[Ly];if(d&&d.removedBeforeQueried)return new Rp(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof Dp?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||Ny).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=o.get(h),y=Xm(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&c.add(h),p){const e=new jy(t,s,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{eg(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e)){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Gy(t,Cg));const d=Ym(h);return d.onDestroy(()=>{u.forEach(t=>$y(t,Cg)),Mg(a,e.toStyles)}),c.forEach(t=>{eg(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Rp(t.duration,t.delay)}}class jy{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Rp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Zm(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){eg(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zy(t){return t&&1===t.nodeType}function Wy(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Hy(t,e,n,i,r){const o=[];n.forEach(t=>o.push(Wy(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i[Ly]=Dy,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>Wy(t,o[a++])),s}function Ky(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=r.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:i.has(s)?1:t(s),r.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const Qy="$$classes";function Gy(t,e){if(t.classList)t.classList.add(e);else{let n=t[Qy];n||(n=t[Qy]={}),n[e]=!0}}function $y(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Qy];n&&delete n[e]}}function Yy(t,e,n){Ym(n).onDone(()=>t.processLeaveNode(e))}function Xy(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Zy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new By(t,e,n),this._timelineEngine=new ky(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=Xg(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Ey(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=ng(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=ng(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Jy(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=ev(e[0]),e.length>1&&(i=ev(e[e.length-1]))):e&&(n=ev(e)),n||i?new tv(t,n,i):null}let tv=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Mg(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mg(this._element,this._initialStyles),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ag(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ag(this._element,this._endStyles),this._endStyles=null),Mg(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ev(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];nv(r)&&((e=e||{})[r]=t[r])}return e}function nv(t){return"display"===t||"position"===t}const iv=3,rv="animation",ov="animationend",sv=1e3;class av{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=pv(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),dv(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hv(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lv(this._element,this._name,"paused")}resume(){lv(this._element,this._name,"running")}setPosition(t){const e=uv(this._element,this._name);this._position=t*this._duration,dv(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(iv))*sv;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hv(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=pv(t,"").split(","),i=cv(n,e);i>=0&&(n.splice(i,1),dv(t,"",n.join(",")))}(this._element,this._name))}}function lv(t,e,n){dv(t,"PlayState",n,uv(t,e))}function uv(t,e){const n=pv(t,"");return n.indexOf(",")>0?cv(n.split(","),e):cv([n],e)}function cv(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function hv(t,e,n){n?t.removeEventListener(ov,e):t.addEventListener(ov,e)}function dv(t,e,n,i){const r=rv+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function pv(t,e){return t.style[rv+e]}const fv="forwards",mv="linear";class gv{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||mv,this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new av(this.element,this.animationName,this._duration,this._delay,this.easing,fv,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:zg(this.element,n))})}this.currentSnapshot=t}}class yv extends Rp{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=pg(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const vv="gen_css_kf_",_v=" ";class bv{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return ug(t)}matchesElement(t,e){return cg(t,e)}containsElement(t,e){return hg(t,e)}query(t,e,n){return dg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>pg(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=_v;const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=_v,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.innerHTML=i,o}animate(t,e,n,i,r,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof gv),l={};qg(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Bg(t,e,l));if(0==n)return new yv(t,u);const c=`${vv}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Jy(t,e),p=new gv(t,e,c,n,i,r,u,d);return p.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class wv{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:zg(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Cv{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ev().toString()),this._cssKeyframesDriver=new bv}validateStyleProperty(t){return ug(t)}matchesElement(t,e){return cg(t,e)}containsElement(t,e){return hg(t,e)}query(t,e,n){return dg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},u=o.filter(t=>t instanceof wv);qg(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Jy(t,e=Bg(t,e=e.map(t=>Og(t,!1)),l));return new wv(t,e,a,c)}}function Ev(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class xv extends Op{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Gt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Mp(t):t;return Tv(this._renderer,null,e,"register",[n]),new Sv(e,this._renderer)}}class Sv extends Pp{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kv(this._id,t,e||{},this._renderer)}}class kv{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Tv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Tv(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const Ov="@",Pv="@.disabled";class Iv{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Mv("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,t),e.data.animation.forEach(e=>this.engine.registerTrigger(i,r,t,e.name,e)),new Av(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Mv{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Ov&&e==Pv?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Av extends Mv{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Ov?"."==e.charAt(1)&&e==Pv?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Ov){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return r.charAt(0)!=Ov&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class Nv extends Zy{constructor(t,e,n){super(t.body,e,n)}}function Rv(){return"function"==typeof Ev()?new Cv:new bv}function Dv(){return new yy}function Lv(t,e,n){return new Iv(t,e,n)}const Fv=new Tt("AnimationModuleType");class Vv{}var Uv=oi({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function qv(t){return xs(2,[gs(null,0),gs(null,1)],null,null)}function Bv(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?wl:e?Bv(t).pipe(j(t=>e(...t))):new w(e=>new jv(e,t))}class jv extends B{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++){const t=q(this,e[i],null,i);t&&this.add(t)}}notifyNext(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:i}=this,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}const zv=new Tt("NgValueAccessor"),Wv=new Tt("CompositionEventMode");class Hv{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=yu()?yu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Kv{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qv extends Kv{get formDirective(){return null}get path(){return null}}function Gv(){throw new Error("unimplemented")}class $v extends Kv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Gv()}get asyncValidator(){return Gv()}}class Yv{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Xv extends Yv{constructor(t){super(t)}}class Zv extends Yv{constructor(t){super(t)}}function Jv(t){return null==t||0===t.length}const t_=new Tt("NgValidators"),e_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class n_{static min(t){return e=>{if(Jv(e.value)||Jv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Jv(e.value)||Jv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Jv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Jv(t.value)?null:e_.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Jv(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return n_.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Jv(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(i_);return 0==e.length?null:function(t){return o_(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(i_);return 0==e.length?null:function(t){return Bv(function(t,e){return e.map(e=>e(t))}(t,e).map(r_)).pipe(j(o_))}}}function i_(t){return null!=t}function r_(t){const e=en(t)?K(t):t;if(!nn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function o_(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function s_(t){return t.validate?e=>t.validate(e):t}function a_(t){return t.validate?e=>t.validate(e):t}class l_{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const u_={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class c_{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${u_.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${u_.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${u_.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${u_.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${u_.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${u_.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function h_(t,e){return[...e.path,t]}function d_(t,e){t||g_(e,"Cannot find control with"),e.valueAccessor||g_(e,"No value accessor for form control with"),t.validator=n_.compose([t.validator,e.validator]),t.asyncValidator=n_.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&p_(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&p_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function p_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function f_(t,e){null==t&&g_(e,"Cannot find control with"),t.validator=n_.compose([t.validator,e.validator]),t.asyncValidator=n_.composeAsync([t.asyncValidator,e.asyncValidator])}function m_(t){return g_(t,"There is no FormControl instance attached to form control element with")}function g_(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function y_(t){return null!=t?n_.compose(t.map(s_)):null}function v_(t){return null!=t?n_.composeAsync(t.map(a_)):null}function __(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ye(e,n.currentValue)}const b_=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ye}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ye}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get($v),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function w_(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function C_(t,e){if(!e)return null;Array.isArray(e)||g_(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{e.constructor===Hv?n=e:function(t){return b_.some(e=>t.constructor===e)}(e)?(i&&g_(t,"More than one built-in value accessor matches form control with"),i=e):(r&&g_(t,"More than one custom value accessor matches form control with"),r=e)}),r||i||n||(g_(t,"No valid value accessor for form control with"),null)}function E_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function x_(t,e,n,i){oe()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(c_.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const S_="VALID",k_="INVALID",T_="PENDING",O_="DISABLED";function P_(t){const e=M_(t)?t.validators:t;return Array.isArray(e)?y_(e):e||null}function I_(t,e){const n=M_(e)?e.asyncValidators:t;return Array.isArray(n)?v_(n):n||null}function M_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class A_{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===S_}get invalid(){return this.status===k_}get pending(){return this.status==T_}get disabled(){return this.status===O_}get enabled(){return this.status!==O_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=P_(t)}setAsyncValidators(t){this.asyncValidator=I_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=T_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=O_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=S_,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==S_&&this.status!==T_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O_:S_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=T_;const e=r_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof R_?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof D_&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Br,this.statusChanges=new Br}_calculateStatus(){return this._allControlsDisabled()?O_:this.errors?k_:this._anyControlsHaveStatus(T_)?T_:this._anyControlsHaveStatus(k_)?k_:S_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){M_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class N_ extends A_{constructor(t=null,e,n){super(P_(e),I_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class R_ extends A_{constructor(t,e,n){super(P_(e),I_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof N_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class D_ extends A_{constructor(t,e,n){super(P_(e),I_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof N_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const L_=(()=>Promise.resolve(null))();class F_ extends Qv{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Br,this.form=new R_({},y_(t),v_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){L_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),d_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){L_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),E_(this._directives,t)})}addFormGroup(t){L_.then(()=>{const e=this._findContainer(t.path),n=new R_({});f_(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){L_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){L_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,w_(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class V_{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${u_.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${u_.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${u_.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${u_.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${u_.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${u_.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const U_=new Tt("NgFormSelectorWarning");class q_ extends Qv{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return h_(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return y_(this._validators)}get asyncValidator(){return v_(this._asyncValidators)}_checkParentType(){}}class B_ extends q_{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof B_||this._parent instanceof F_||V_.modelGroupParentException()}}const j_=(()=>Promise.resolve(null))();class z_ extends $v{constructor(t,e,n,i){super(),this.control=new N_,this._registered=!1,this.update=new Br,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=C_(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),__(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?h_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return y_(this._rawValidators)}get asyncValidator(){return v_(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){d_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof B_)&&this._parent instanceof q_?V_.formGroupNameException():this._parent instanceof B_||this._parent instanceof F_||V_.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||V_.missingNameException()}_updateValue(t){j_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;j_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class W_{}const H_=new Tt("NgModelWithFormControlWarning");let K_=(()=>{class t extends $v{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new Br,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=C_(this,n)}set isDisabled(t){c_.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(d_(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),__(e,this.viewModel)&&(x_("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return y_(this._rawValidators)}get asyncValidator(){return v_(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t})();class Q_ extends Qv{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Br}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return d_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){E_(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);f_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);f_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,w_(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>m_(e)),e.valueAccessor.registerOnTouched(()=>m_(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&d_(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=y_(this._validators);this.form.validator=n_.compose([this.form.validator,t]);const e=v_(this._asyncValidators);this.form.asyncValidator=n_.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||c_.missingFormException()}}class G_ extends q_{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Y_(this._parent)&&c_.groupParentException()}}class $_ extends Qv{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return h_(this.name,this._parent)}get validator(){return y_(this._validators)}get asyncValidator(){return v_(this._asyncValidators)}_checkParentType(){Y_(this._parent)&&c_.arrayParentException()}}function Y_(t){return!(t instanceof G_||t instanceof Q_||t instanceof $_)}let X_=(()=>{class t extends $v{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new Br,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=C_(this,i)}set isDisabled(t){c_.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),__(e,this.viewModel)&&(x_("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return h_(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return y_(this._rawValidators)}get asyncValidator(){return v_(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof G_)&&this._parent instanceof q_?c_.ngModelGroupException():this._parent instanceof G_||this._parent instanceof Q_||this._parent instanceof $_||c_.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class Z_{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?n_.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class J_{}class tb{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new R_(n,{asyncValidators:r,updateOn:o,validators:i})}control(t,e,n){return new N_(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new D_(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof N_||t instanceof R_||t instanceof D_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class eb{static withConfig(t){return{ngModule:eb,providers:[{provide:U_,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class nb{static withConfig(t){return{ngModule:nb,providers:[{provide:H_,useValue:t.warnOnNgModelWithFormControl}]}}}let ib=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),rb=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Bp(t);return new w(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new T,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(ib))},token:t,providedIn:"root"}),t})();class ob{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Br,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Fp(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Vp(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(wf(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class sb{}var ab=oi({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function lb(t){return xs(0,[(t()(),ss(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),ss(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ss(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ss(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),ss(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),ss(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ss(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ss(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function ub(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),gs(null,0)],null,null)}function cb(t){return xs(0,[(t()(),ss(0,0,null,null,3,null,null,null,null,null,null,null)),gs(null,2),(t()(),ss(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function hb(t){return xs(0,[gs(null,3),(t()(),os(0,null,null,0))],null,null)}function db(t){return xs(0,[(t()(),ss(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),ws(-1,null,[" *"]))],null,null)}function pb(t){return xs(0,[(t()(),ss(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component.updateOutlineGap()&&i),i}),null,null)),gr(1,16384,null,0,ol,[],{ngSwitch:[0,"ngSwitch"]},null),gr(2,1196032,null,0,ob,[rb,fn,vo],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),os(16777216,null,null,1,null,cb)),gr(4,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,hb)),gr(6,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,db)),gr(8,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function fb(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),gs(null,4)],null,null)}function mb(t){return xs(0,[(t()(),ss(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function gb(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),gs(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function yb(t){return xs(0,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),ws(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function vb(t){return xs(0,[(t()(),ss(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),os(16777216,null,null,1,null,yb)),gr(2,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),gs(null,6),(t()(),ss(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),gs(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function _b(t){return xs(2,[hs(671088640,1,{underlineRef:0}),hs(402653184,2,{_connectionContainerRef:0}),hs(671088640,3,{_inputContainerRef:0}),hs(671088640,4,{_label:0}),(t()(),ss(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),ss(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==(r._control.onContainerClick&&r._control.onContainerClick(n))&&i),i}),null,null)),(t()(),os(16777216,null,null,1,null,lb)),gr(7,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,ub)),gr(9,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),gs(null,1),(t()(),ss(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,pb)),gr(14,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,fb)),gr(16,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,null,1,null,mb)),gr(18,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),gr(20,16384,null,0,ol,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),os(16777216,null,null,1,null,gb)),gr(22,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,vb)),gr(24,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}class bb{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new wb(t,this.durationSelector))}}class wb extends B{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=q(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Cb(t){return!l(t)&&t-parseFloat(t)+1>=0}function Eb(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function xb(t,e=bf){return n=()=>(function(t=0,e,n){let i=-1;return Cb(e)?i=Number(e)<1?1:Number(e):P(e)&&(n=e),P(n)||(n=bf),new w(e=>{const r=Cb(t)?t:+t-n.now();return n.schedule(Eb,r,{index:0,period:i,subscriber:e})})})(t,e),function(t){return t.lift(new bb(n))};var n}const Sb=Yp({passive:!0});let kb=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return wl;const e=Bp(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new T,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,Sb),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,Sb)}}),i.asObservable()}stopMonitoring(t){const e=Bp(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Hp),qt(vo))},token:t,providedIn:"root"}),t})();class Tb{}const Ob=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Pb=0;class Ib{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Mb=Hf(Ib);class Ab extends Mb{constructor(t,e,n,i,r,o,s,a,l){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${Pb++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new T,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Gp().has(t));const u=this._elementRef.nativeElement;this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Fp(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Fp(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Gp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Fp(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(Ob.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}class Nb{}class Rb{}class Db{}class Lb{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Lb?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Lb;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Lb?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===r.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Fb{encodeKey(t){return Vb(t)}encodeValue(t){return Vb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Vb(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ub{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fb,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new Ub({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function qb(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Bb(t){return"undefined"!=typeof Blob&&t instanceof Blob}function jb(t){return"undefined"!=typeof FormData&&t instanceof FormData}class zb{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Lb),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ub,this.urlWithParams=e}serializeBody(){return null===this.body?null:qb(this.body)||Bb(this.body)||jb(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ub?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:jb(this.body)?null:Bb(this.body)?this.body.type||null:qb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ub?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new zb(e,n,r,{params:l,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}const Wb=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Hb{constructor(t,e=200,n="OK"){this.headers=t.headers||new Lb,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Kb extends Hb{constructor(t={}){super(t),this.type=Wb.ResponseHeader}clone(t={}){return new Kb({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qb extends Hb{constructor(t={}){super(t),this.type=Wb.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Gb extends Hb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $b(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Yb{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof zb)i=t;else{let r=void 0;r=n.headers instanceof Lb?n.headers:new Lb(n.headers);let o=void 0;n.params&&(o=n.params instanceof Ub?n.params:new Ub({fromObject:n.params})),i=new zb(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=xl(i).pipe(du(t=>this.handler.handle(t)));if(t instanceof zb||"events"===n.observe)return r;const o=r.pipe(Nl(t=>t instanceof Qb));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(j(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(j(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ub).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,$b(n,e))}post(t,e,n={}){return this.request("POST",t,$b(n,e))}put(t,e,n={}){return this.request("PUT",t,$b(n,e))}}class Xb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Zb=new Tt("HTTP_INTERCEPTORS");class Jb{intercept(t,e){return e.handle(t)}}const tw=/^\)\]\}',?\n/;class ew{}class nw{constructor(){}build(){return new XMLHttpRequest}}class iw{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new Lb(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Kb({headers:o,status:e,statusText:i,url:s})},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(tw,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new Qb({body:l,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new Gb({error:l,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new Gb({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const u=i=>{l||(e.next(o()),l=!0);let r={type:Wb.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},c=t=>{let n={type:Wb.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:Wb.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const rw=new Tt("XSRF_COOKIE_NAME"),ow=new Tt("XSRF_HEADER_NAME");class sw{}class aw{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qa(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class lw{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}class uw{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Zb,[]);this.chain=t.reduceRight((t,e)=>new Xb(t,e),this.backend)}return this.chain.handle(t)}}class cw{static disable(){return{ngModule:cw,providers:[{provide:lw,useClass:Jb}]}}static withOptions(t={}){return{ngModule:cw,providers:[t.cookieName?{provide:rw,useValue:t.cookieName}:[],t.headerName?{provide:ow,useValue:t.headerName}:[]]}}}class hw{}function dw(t,e){return new w(e?n=>e.schedule(pw,0,{error:t,subscriber:n}):e=>e.error(t))}function pw({error:t,subscriber:e}){e.error(t)}function fw(t){return Error(`Unable to find icon with the name "${t}"`)}function mw(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function gw(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class yw{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let vw=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new yw(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(Te.HTML,n);if(!r)throw gw(n);const o=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new yw(o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new yw(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Te.HTML,e);if(!i)throw gw(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new yw(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Te.RESOURCE_URL,t);if(!e)throw mw(t);const n=this._cachedIconsByUrl.get(e);return n?xl(_w(n)):this._loadSvgIconFromConfig(new yw(t)).pipe(Bl(t=>this._cachedIconsByUrl.set(e,t)),j(t=>_w(t)))}getNamedSvgIcon(t,e=""){const n=bw(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):dw(fw(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?xl(_w(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Bl(e=>t.svgElement=e),j(t=>_w(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?xl(n):Bv(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Yl(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Te.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),xl(null)})))).pipe(j(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw fw(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(j(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?xl(t.svgElement):this._fetchUrl(t.url).pipe(j(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Te.RESOURCE_URL,t);if(!e)throw mw(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(pu(()=>this._inProgressUrlFetches.delete(e)),st());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(bw(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Yb,8),qt(bc),qt(fl,8),qt(ne,8))},token:t,providedIn:"root"}),t})();function _w(t){return t.cloneNode(!0)}function bw(t,e){return t+":"+e}class ww{constructor(t){this._elementRef=t}}const Cw=jf(ww),Ew=new Tt("mat-icon-location",{providedIn:"root",factory:function(){const t=Bt(fl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),xw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Sw=xw.map(t=>`[${t}]`).join(", "),kw=/^url\(['"]?#(.*?)['"]?\)$/;class Tw extends Cw{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Fp(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Jl(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Sw),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)xw.forEach(t=>{const r=e[i],o=r.getAttribute(t),s=o?o.match(kw):null;if(s){let e=n.get(r);e||n.set(r,e=[]),e.push({name:t,value:s[1]})}})}}class Ow{}var Pw=oi({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function Iw(t){return xs(2,[gs(null,0)],null,null)}const Mw="accent",Aw=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Nw{constructor(t){this._elementRef=t}}const Rw=jf(Bf(zf(Nw)));class Dw extends Rw{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of Aw)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=Mw)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class Lw{}var Fw=oi({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Vw(t){return xs(2,[hs(671088640,1,{ripple:0}),(t()(),ss(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),gs(null,0),(t()(),ss(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),gr(4,212992,[[1,4]],0,sm,[fn,vo,Hp,[2,om],[2,Fv]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),ss(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,ir(e,4).unbounded)}))}class Uw{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}class qw{constructor(t,e){this.authService=t,this.fb=e,this.hide=!0,this.matcher=new Uw,this.signInForm=new R_({userName:new N_("",[n_.required,n_.email]),userPassword:new N_("",[n_.required,n_.minLength(8),n_.maxLength(50)])})}ngOnInit(){}onSubmit(){}}var Bw=n("Wcq6"),jw=n.n(Bw),zw=n("mrSG");function Ww(t){return function(t){return new w(e=>({unsubscribe:t.onSnapshot(e)}))}(t).pipe(st())}function Hw(t){return Ww(t).pipe(j(t=>({payload:t,type:"query"})))}function Kw(t){return Hw(t).pipe(j(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Qw(t,e){return Hw(t).pipe(j(t=>t.payload.docChanges()),uu((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),j(t=>t.map(t=>({type:t.type,payload:t}))))}class Gw extends yf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class $w extends _f{}const Yw=new $w(Gw),Xw=new Tt("angularfire2.realtimeDatabaseURL");class Zw{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded((function(){return Yw.schedule.apply(Yw,t)}))}keepUnstableUntilFirst(t){return vl(this.platformId)?new w(e=>{const n=()=>{},i=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===i.state&&i.invoke(),e.next(t)},t=>{"scheduled"===i.state&&i.invoke(),e.error(t)},()=>{"scheduled"===i.state&&i.invoke(),e.complete()})}):t}runOutsideAngular(t){return new w(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const Jw=t=>e=>new w(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())));function tC(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class eC{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Kw(this.query))).pipe(j(e=>e.filter(e=>t.indexOf(e.type)>-1)),Nl(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Kw(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(uu((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=tC(t),n=Qw(this.query,e),i=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(i)}valueChanges(t={}){const e=Hw(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(j(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return K(this.query.get(t)).pipe(Jw(this.afs.scheduler.zone))}add(t){return this.ref.add(t)}doc(t){return new nC(this.ref.doc(t),this.afs)}}class nC{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=mC(n,e);return new eC(i,r,this.afs)}snapshotChanges(){const t=Ww(this.ref).pipe(j(t=>({payload:t,type:"value"}))),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(j(t=>t.payload.data()))}get(t){return K(this.ref.get(t)).pipe(Jw(this.afs.scheduler.zone))}}class iC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Kw(this.query))).pipe(j(e=>e.filter(e=>t.indexOf(e.type)>-1)),Nl(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Kw(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(uu((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=tC(t),n=Qw(this.query,e),i=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(i)}valueChanges(){const t=Hw(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(j(t=>t.payload.docs.map(t=>t.data())))}get(t){return K(this.query.get(t)).pipe(Jw(this.afs.scheduler.zone))}}var rC;const oC=new Tt("angularfire2.app.options"),sC=new Tt("angularfire2.app.nameOrConfig");class aC{}function lC(t,e){const n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",jw.a.apps.filter(t=>t&&t.name===n.name)[0]||jw.a.initializeApp(t,n)}let uC=rC=class{static initializeApp(t,e){return{ngModule:rC,providers:[{provide:oC,useValue:t},{provide:sC,useValue:e}]}}};const cC=new Tt("angularfire2.enableFirestorePersistence"),hC=new Tt("angularfire2.firestore.persistenceSettings"),dC=new Tt("angularfire2.firestore.settings"),pC=parseInt(jw.a.SDK_VERSION.split(".")[0]),fC=pC<5||5==pC&&parseInt(jw.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function mC(t,e=(t=>t)){return{query:e(t),ref:t}}let gC=class{constructor(t,e,n,i,r,o,s){this.scheduler=new Zw(o,r),this.firestore=o.runOutsideAngular(()=>{const n=lC(t,e).firestore();return n.settings(i||fC),n}),this.persistenceEnabled$=n&&!vl(r)?o.runOutsideAngular(()=>{try{return K(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return xl(!1)}}):xl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=mC(n,e);return new eC(i,r,this)}collectionGroup(t,e){if(pC<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new iC(n(i),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new nC(e,this)}createId(){return this.firestore.collection("_").doc().id}},yC=class{constructor(t,e,n,i){this.zone=i;const r=new Zw(i,n);this.auth=i.runOutsideAngular(()=>lC(t,e).auth()),this.authState=r.keepUnstableUntilFirst(r.runOutsideAngular(new w(t=>({unsubscribe:this.auth.onAuthStateChanged(t)})))),this.user=r.keepUnstableUntilFirst(r.runOutsideAngular(new w(t=>({unsubscribe:this.auth.onIdTokenChanged(t)})))),this.idToken=this.user.pipe(ou(t=>t?K(t.getIdToken()):xl(null))),this.idTokenResult=this.user.pipe(ou(t=>t?K(t.getIdTokenResult()):xl(null)))}},vC=(()=>{class t{constructor(t,e,n,i){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=i,this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}SignIn(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>{this.ngZone.run(()=>{this.router.navigate(["countries"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SignUp(t,e){return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(t=>{this.SendVerificationMail(),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SendVerificationMail(){return this.afAuth.auth.currentUser.sendEmailVerification().then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.auth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(t=>{window.alert(t)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}GoogleAuth(){return this.AuthLogin(new Bw.auth.GoogleAuthProvider)}AuthLogin(t){return this.afAuth.auth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigate(["countries"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}FacebookAuth(){return this.AuthLogin(new Bw.auth.FacebookAuthProvider)}AuthLoginFacebook(t){return this.afAuth.auth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigate(["countries"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(gC),qt(yC),qt(Yd),qt(vo))},token:t,providedIn:"root"}),t})();var _C=oi({encapsulation:0,styles:[['.sign-up[_ngcontent-%COMP%]{background-image:url(/assets/images/bg-01.jpg)}.sign-up[_ngcontent-%COMP%]   .signUp-card[_ngcontent-%COMP%]{margin:15px;padding:65px 30px 54px}.mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:20px}.mat-form-field-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.mat-input-element[_ngcontent-%COMP%]{padding-bottom:7px;color:rgba(0,0,0,.54)}mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:rgba(0,0,0,.54);caret-color:#3f51b5}.mat-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}mat-card[_ngcontent-%COMP%]{width:500px}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:42px;color:#333;line-height:1.2;font-weight:900;margin-bottom:50px}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background-repeat:no-repeat;background-position:center;background-size:cover}.wrap-login100[_ngcontent-%COMP%]{width:500px;background:#fff;border-radius:10px;overflow:hidden}.container-login100-form-btn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.wrap-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:block;position:relative;z-index:1;border-radius:25px;overflow:hidden;margin:0 auto;box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-moz-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-webkit-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-o-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-ms-box-shadow:0 5px 30px 0 rgba(3,216,222,.2)}.wrap-login100-form-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0;cursor:pointer}.login100-form-bgbtn[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:300%;height:100%;background:#a64bf4;background:linear-gradient(to right,#00dbde,#fc00ff,#00dbde,#fc00ff);top:0;left:-100%;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]{font-size:16px;color:#fff;line-height:1.2;text-transform:uppercase;display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:50px}.wrap-login100-form-btn[_ngcontent-%COMP%]:hover   .login100-form-bgbtn[_ngcontent-%COMP%]{left:0}.flex-c-m[_ngcontent-%COMP%]{display:flex;justify-content:center;-ms-align-items:center;align-items:center}.login100-social-item[_ngcontent-%COMP%]{font-size:25px;color:#fff;display:flex;justify-content:center;align-items:center;width:50px;height:50px;border-radius:50%;margin:5px}.bg1[_ngcontent-%COMP%]{background-color:#3b5998}.bg3[_ngcontent-%COMP%]{background-color:#ea4335}.login100-social-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#333}.flex-col-c[_ngcontent-%COMP%]{display:flex;-moz-flex-direction:column;-o-flex-direction:column;flex-direction:column;-ms-align-items:center;align-items:center}.p-t-155[_ngcontent-%COMP%]{padding-top:155px}.txt2[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#333;text-transform:uppercase}.txt2[_ngcontent-%COMP%]:hover{color:#0056b3}.mat-form-field-label[_ngcontent-%COMP%]{font-family:"Nunito Sans",sans-serif;line-height:1.2rem;font-size:.9rem;top:25px!important;left:10px}']],data:{}});function bC(t){return xs(0,[(t()(),ss(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[6,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Please enter a valid email address "]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function wC(t){return xs(0,[(t()(),ss(0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[6,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Username is "])),(t()(),ss(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["required"]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function CC(t){return xs(0,[(t()(),ss(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[15,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Password is at least 8 character long "]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function EC(t){return xs(0,[(t()(),ss(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[15,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Password cannot be longer than 50 "]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function xC(t){return xs(0,[(t()(),ss(0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[15,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Password is "])),(t()(),ss(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["required"]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function SC(t){return xs(0,[(t()(),ss(0,0,null,null,108,"div",[["class","login-theme sign-up container-login100"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,107,"mat-card",[["class","signUp-card wrap-login100 mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,qv,Uv)),gr(2,49152,null,0,Wm,[[2,Fv]],null,null),(t()(),ss(3,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),ws(-1,null,["Sign In"])),(t()(),ss(5,0,null,0,103,"form",[["class","signUp-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,r=t.component;return"submit"===e&&(i=!1!==ir(t,7).onSubmit(n)&&i),"reset"===e&&(i=!1!==ir(t,7).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.onSubmit()&&i),i}),null,null)),gr(6,16384,null,0,W_,[],null,null),gr(7,540672,null,0,Q_,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),vr(2048,null,Qv,null,[Q_]),gr(9,16384,null,0,Zv,[[4,Qv]],null,null),(t()(),ss(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Username"])),(t()(),ss(12,0,null,null,29,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(13,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,1,{_controlNonStatic:0}),hs(335544320,2,{_controlStatic:0}),hs(603979776,3,{_labelChildNonStatic:0}),hs(335544320,4,{_labelChildStatic:0}),hs(603979776,5,{_placeholderChild:0}),hs(603979776,6,{_errorChildren:1}),hs(603979776,7,{_hintChildren:1}),hs(603979776,8,{_prefixChildren:1}),hs(603979776,9,{_suffixChildren:1}),(t()(),ss(23,0,[["userName",1]],1,9,"input",[["class","formControl mat-input-element mat-form-field-autofill-control"],["formControlName","userName"],["matInput",""],["placeholder","Enter your username"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==ir(t,26)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==ir(t,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==ir(t,26)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,30)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==ir(t,30)._focusChanged(!0)&&i),"input"===e&&(i=!1!==ir(t,30)._onInput()&&i),i}),null,null)),gr(24,16384,null,0,Z_,[],{required:[0,"required"]},null),vr(1024,null,t_,(function(t){return[t]}),[Z_]),gr(26,16384,null,0,Hv,[_n,fn,[2,Wv]],null,null),vr(1024,null,zv,(function(t){return[t]}),[Hv]),gr(28,671744,null,0,X_,[[3,Qv],[6,t_],[8,null],[6,zv],[2,H_]],{name:[0,"name"]},null),vr(2048,null,$v,null,[X_]),gr(30,999424,null,0,Ab,[fn,Hp,[6,$v],[2,F_],[2,Q_],Qf,[8,null],kb,vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"],errorStateMatcher:[3,"errorStateMatcher"]},null),gr(31,16384,null,0,Xv,[[4,$v]],null,null),vr(2048,[[1,4],[2,4]],Tm,null,[Ab]),(t()(),ss(33,0,null,0,4,"span",[["matPrefix",""]],null,null,null,null,null)),gr(34,16384,[[8,4]],0,Am,[],null,null),(t()(),ss(35,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(36,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["perm_identity"])),(t()(),os(16777216,null,5,1,null,bC)),gr(39,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,5,1,null,wC)),gr(41,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(42,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Password"])),(t()(),ss(44,0,null,null,40,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(45,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,10,{_controlNonStatic:0}),hs(335544320,11,{_controlStatic:0}),hs(603979776,12,{_labelChildNonStatic:0}),hs(335544320,13,{_labelChildStatic:0}),hs(603979776,14,{_placeholderChild:0}),hs(603979776,15,{_errorChildren:1}),hs(603979776,16,{_hintChildren:1}),hs(603979776,17,{_prefixChildren:1}),hs(603979776,18,{_suffixChildren:1}),(t()(),ss(55,0,[["userPassword",1]],1,9,"input",[["class","formControl mat-input-element mat-form-field-autofill-control"],["formControlName","userPassword"],["matInput",""],["placeholder","Enter your password"],["required",""],["type","password"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==ir(t,58)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,58).onTouched()&&i),"compositionstart"===e&&(i=!1!==ir(t,58)._compositionStart()&&i),"compositionend"===e&&(i=!1!==ir(t,58)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,62)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==ir(t,62)._focusChanged(!0)&&i),"input"===e&&(i=!1!==ir(t,62)._onInput()&&i),i}),null,null)),gr(56,16384,null,0,Z_,[],{required:[0,"required"]},null),vr(1024,null,t_,(function(t){return[t]}),[Z_]),gr(58,16384,null,0,Hv,[_n,fn,[2,Wv]],null,null),vr(1024,null,zv,(function(t){return[t]}),[Hv]),gr(60,671744,null,0,X_,[[3,Qv],[6,t_],[8,null],[6,zv],[2,H_]],{name:[0,"name"]},null),vr(2048,null,$v,null,[X_]),gr(62,999424,null,0,Ab,[fn,Hp,[6,$v],[2,F_],[2,Q_],Qf,[8,null],kb,vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),gr(63,16384,null,0,Xv,[[4,$v]],null,null),vr(2048,[[10,4],[11,4]],Tm,null,[Ab]),(t()(),ss(65,0,null,0,4,"span",[["matPrefix",""]],null,null,null,null,null)),gr(66,16384,[[17,4]],0,Am,[],null,null),(t()(),ss(67,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(68,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["lock_open"])),(t()(),ss(70,0,null,4,5,"button",[["mat-icon-button",""],["matSuffix",""]],[[1,"aria-label",0],[1,"aria-pressed",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=0!=(r.hide=!r.hide)&&i),i}),Vw,Fw)),gr(71,16384,[[18,4]],0,Nm,[],null,null),gr(72,180224,null,0,Dw,[fn,Ff,[2,Fv]],null,null),(t()(),ss(73,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(74,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(75,0,["",""])),(t()(),ss(76,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),gr(77,16384,[[16,4]],0,Im,[],null,null),(t()(),ws(-1,null,["Minimum 8 characters"])),(t()(),os(16777216,null,5,1,null,CC)),gr(80,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,5,1,null,EC)),gr(82,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,5,1,null,xC)),gr(84,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(85,0,null,null,4,"div",[["class","container-login100-form-btn"]],null,null,null,null,null)),(t()(),ss(86,0,null,null,3,"div",[["class","wrap-login100-form-btn"]],null,null,null,null,null)),(t()(),ss(87,0,null,null,0,"div",[["class","login100-form-bgbtn"]],null,null,null,null,null)),(t()(),ss(88,0,null,null,1,"button",[["class","login100-form-btn"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignIn(ir(t,23).value,ir(t,55).value)&&i),i}),null,null)),(t()(),ws(-1,null,[" Sign In "])),(t()(),ss(90,0,null,null,3,"div",[["class","mt-5 text-center mb-4"]],null,null,null,null,null)),(t()(),ss(91,0,null,null,2,"span",[["class","or"]],null,null,null,null,null)),(t()(),ss(92,0,null,null,1,"span",[["class","orInner"]],null,null,null,null,null)),(t()(),ws(-1,null,["Or Sign Up Using"])),(t()(),ss(94,0,null,null,4,"div",[["class","flex-c-m"]],null,null,null,null,null)),(t()(),ss(95,0,null,null,1,"button",[["class","btn login100-social-item bg3"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.GoogleAuth()&&i),i}),null,null)),(t()(),ss(96,0,null,null,0,"i",[["class","fa fa-google-plus"]],null,null,null,null,null)),(t()(),ss(97,0,null,null,1,"button",[["class","btn login100-social-item bg1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.FacebookAuth()&&i),i}),null,null)),(t()(),ss(98,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),ss(99,0,null,null,9,"div",[["class","flex-col-c p-t-155"]],null,null,null,null,null)),(t()(),ss(100,0,null,null,3,"div",[["class","txt1 p-b-17 forgotPassword"]],null,null,null,null,null)),(t()(),ss(101,0,null,null,2,"a",[["class","txt2 redirect"],["href","#"],["routerLink","/forgot-password"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,102).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),gr(102,671744,null,0,Zd,[Yd,Uh,La],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,["Forgot Password?"])),(t()(),ss(104,0,null,null,1,"span",[["class"," txt1 p-b-17 redirectToLogin"]],null,null,null,null,null)),(t()(),ws(-1,null,["Don't have an account?"])),(t()(),ss(106,0,null,null,2,"a",[["class","txt2 redirect"],["href","#"],["routerLink","/register-user"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,107).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),gr(107,671744,null,0,Zd,[Yd,Uh,La],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,[" Sign Up"]))],(function(t,e){var n=e.component;t(e,7,0,n.signInForm),t(e,24,0,""),t(e,28,0,"userName"),t(e,30,0,"Enter your username","","email",n.matcher),t(e,36,0),t(e,39,0,n.signInForm.get("userName").hasError("email")&&!n.signInForm.get("userName").hasError("required")),t(e,41,0,n.signInForm.get("userName").hasError("required")),t(e,56,0,""),t(e,60,0,"userPassword"),t(e,62,0,"Enter your password","",n.hide?"password":"text"),t(e,68,0),t(e,74,0),t(e,80,0,n.signInForm.get("userPassword").hasError("minlength")),t(e,82,0,n.signInForm.get("userPassword").hasError("maxlength")),t(e,84,0,n.signInForm.get("userPassword").hasError("required")),t(e,102,0,"/forgot-password"),t(e,107,0,"/register-user")}),(function(t,e){var n=e.component;t(e,1,0,"NoopAnimations"===ir(e,2)._animationMode),t(e,5,0,ir(e,9).ngClassUntouched,ir(e,9).ngClassTouched,ir(e,9).ngClassPristine,ir(e,9).ngClassDirty,ir(e,9).ngClassValid,ir(e,9).ngClassInvalid,ir(e,9).ngClassPending),t(e,12,1,["standard"==ir(e,13).appearance,"fill"==ir(e,13).appearance,"outline"==ir(e,13).appearance,"legacy"==ir(e,13).appearance,ir(e,13)._control.errorState,ir(e,13)._canLabelFloat,ir(e,13)._shouldLabelFloat(),ir(e,13)._hasFloatingLabel(),ir(e,13)._hideControlPlaceholder(),ir(e,13)._control.disabled,ir(e,13)._control.autofilled,ir(e,13)._control.focused,"accent"==ir(e,13).color,"warn"==ir(e,13).color,ir(e,13)._shouldForward("untouched"),ir(e,13)._shouldForward("touched"),ir(e,13)._shouldForward("pristine"),ir(e,13)._shouldForward("dirty"),ir(e,13)._shouldForward("valid"),ir(e,13)._shouldForward("invalid"),ir(e,13)._shouldForward("pending"),!ir(e,13)._animationsEnabled]),t(e,23,1,[ir(e,24).required?"":null,ir(e,30)._isServer,ir(e,30).id,ir(e,30).placeholder,ir(e,30).disabled,ir(e,30).required,ir(e,30).readonly&&!ir(e,30)._isNativeSelect||null,ir(e,30)._ariaDescribedby||null,ir(e,30).errorState,ir(e,30).required.toString(),ir(e,31).ngClassUntouched,ir(e,31).ngClassTouched,ir(e,31).ngClassPristine,ir(e,31).ngClassDirty,ir(e,31).ngClassValid,ir(e,31).ngClassInvalid,ir(e,31).ngClassPending]),t(e,35,0,ir(e,36).inline,"primary"!==ir(e,36).color&&"accent"!==ir(e,36).color&&"warn"!==ir(e,36).color),t(e,44,1,["standard"==ir(e,45).appearance,"fill"==ir(e,45).appearance,"outline"==ir(e,45).appearance,"legacy"==ir(e,45).appearance,ir(e,45)._control.errorState,ir(e,45)._canLabelFloat,ir(e,45)._shouldLabelFloat(),ir(e,45)._hasFloatingLabel(),ir(e,45)._hideControlPlaceholder(),ir(e,45)._control.disabled,ir(e,45)._control.autofilled,ir(e,45)._control.focused,"accent"==ir(e,45).color,"warn"==ir(e,45).color,ir(e,45)._shouldForward("untouched"),ir(e,45)._shouldForward("touched"),ir(e,45)._shouldForward("pristine"),ir(e,45)._shouldForward("dirty"),ir(e,45)._shouldForward("valid"),ir(e,45)._shouldForward("invalid"),ir(e,45)._shouldForward("pending"),!ir(e,45)._animationsEnabled]),t(e,55,1,[ir(e,56).required?"":null,ir(e,62)._isServer,ir(e,62).id,ir(e,62).placeholder,ir(e,62).disabled,ir(e,62).required,ir(e,62).readonly&&!ir(e,62)._isNativeSelect||null,ir(e,62)._ariaDescribedby||null,ir(e,62).errorState,ir(e,62).required.toString(),ir(e,63).ngClassUntouched,ir(e,63).ngClassTouched,ir(e,63).ngClassPristine,ir(e,63).ngClassDirty,ir(e,63).ngClassValid,ir(e,63).ngClassInvalid,ir(e,63).ngClassPending]),t(e,67,0,ir(e,68).inline,"primary"!==ir(e,68).color&&"accent"!==ir(e,68).color&&"warn"!==ir(e,68).color),t(e,70,0,"Hide password",n.hide,ir(e,72).disabled||null,"NoopAnimations"===ir(e,72)._animationMode),t(e,73,0,ir(e,74).inline,"primary"!==ir(e,74).color&&"accent"!==ir(e,74).color&&"warn"!==ir(e,74).color),t(e,75,0,n.hide?"visibility_off":"visibility"),t(e,76,0,"end"==ir(e,77).align,ir(e,77).id,null),t(e,88,0,!n.signInForm.valid),t(e,101,0,ir(e,102).target,ir(e,102).href),t(e,106,0,ir(e,107).target,ir(e,107).href)}))}function kC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-sign-in",[],null,null,null,SC,_C)),gr(1,114688,null,0,qw,[vC,tb],null,null)],(function(t,e){t(e,1,0)}),null)}var TC=Ki("app-sign-in",qw,kC,{},{},[]);class OC{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}class PC{constructor(t,e){this.authService=t,this.fb=e,this.hide=!0,this.emailFormControl=new N_("",[n_.required,n_.email]),this.matcher=new OC,this.signUpForm=new R_({emailFormControl:new N_(""),password:new N_("")})}ngOnInit(){}onSubmit(){console.warn(this.signUpForm.value)}}var IC=oi({encapsulation:0,styles:[[".sign-up[_ngcontent-%COMP%]{background-image:url(/assets/images/bg-01.jpg)}.sign-up[_ngcontent-%COMP%]   .signUp-card[_ngcontent-%COMP%]{margin:15px;padding:65px 30px 54px}.mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:20px}.mat-form-field-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.mat-input-element[_ngcontent-%COMP%]{padding-bottom:7px;color:rgba(0,0,0,.54)}mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:rgba(0,0,0,.54);caret-color:#3f51b5}.mat-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}mat-card[_ngcontent-%COMP%]{width:500px}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:42px;color:#333;line-height:1.2;font-weight:900;margin-bottom:50px}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background-repeat:no-repeat;background-position:center;background-size:cover}.wrap-login100[_ngcontent-%COMP%]{width:500px;background:#fff;border-radius:10px;overflow:hidden}.container-login100-form-btn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.wrap-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:block;position:relative;z-index:1;border-radius:25px;overflow:hidden;margin:0 auto;box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-moz-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-webkit-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-o-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-ms-box-shadow:0 5px 30px 0 rgba(3,216,222,.2)}.wrap-login100-form-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0;cursor:pointer}.login100-form-bgbtn[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:300%;height:100%;background:#a64bf4;background:linear-gradient(to right,#00dbde,#fc00ff,#00dbde,#fc00ff);top:0;left:-100%;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]{font-size:16px;color:#fff;line-height:1.2;text-transform:uppercase;display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:50px}.wrap-login100-form-btn[_ngcontent-%COMP%]:hover   .login100-form-bgbtn[_ngcontent-%COMP%]{left:0}.flex-c-m[_ngcontent-%COMP%]{display:flex;justify-content:center;-ms-align-items:center;align-items:center}.login100-social-item[_ngcontent-%COMP%]{font-size:25px;color:#fff;display:flex;justify-content:center;align-items:center;width:50px;height:50px;border-radius:50%;margin:5px}.bg1[_ngcontent-%COMP%]{background-color:#3b5998}.bg3[_ngcontent-%COMP%]{background-color:#ea4335}.login100-social-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#333}.flex-col-c[_ngcontent-%COMP%]{display:flex;-moz-flex-direction:column;-o-flex-direction:column;flex-direction:column;-ms-align-items:center;align-items:center}.p-t-155[_ngcontent-%COMP%]{padding-top:155px}.txt2[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#333;text-transform:uppercase}.txt2[_ngcontent-%COMP%]:hover{color:#0056b3}"]],data:{}});function MC(t){return xs(0,[(t()(),ss(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[6,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Please enter a valid email address "]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function AC(t){return xs(0,[(t()(),ss(0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[6,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Email is "])),(t()(),ss(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["required"]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function NC(t){return xs(0,[(t()(),ss(0,0,null,null,98,"div",[["class","login-theme sign-up container-login100"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,97,"mat-card",[["class","signUp-card wrap-login100 mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,qv,Uv)),gr(2,49152,null,0,Wm,[[2,Fv]],null,null),(t()(),ss(3,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),ws(-1,null,["Sign Up"])),(t()(),ss(5,0,null,0,93,"form",[["class","signUp-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,r=t.component;return"submit"===e&&(i=!1!==ir(t,7).onSubmit(n)&&i),"reset"===e&&(i=!1!==ir(t,7).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.onSubmit()&&i),i}),null,null)),gr(6,16384,null,0,W_,[],null,null),gr(7,540672,null,0,Q_,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),vr(2048,null,Qv,null,[Q_]),gr(9,16384,null,0,Zv,[[4,Qv]],null,null),(t()(),ss(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Email Address"])),(t()(),ss(12,0,null,null,32,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(13,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,1,{_controlNonStatic:0}),hs(335544320,2,{_controlStatic:0}),hs(603979776,3,{_labelChildNonStatic:0}),hs(335544320,4,{_labelChildStatic:0}),hs(603979776,5,{_placeholderChild:0}),hs(603979776,6,{_errorChildren:1}),hs(603979776,7,{_hintChildren:1}),hs(603979776,8,{_prefixChildren:1}),hs(603979776,9,{_suffixChildren:1}),(t()(),ss(23,0,[["userEmail",1]],1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Enter your email address"],["required",""]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==ir(t,26)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==ir(t,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==ir(t,26)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,30)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==ir(t,30)._focusChanged(!0)&&i),"input"===e&&(i=!1!==ir(t,30)._onInput()&&i),i}),null,null)),gr(24,16384,null,0,Z_,[],{required:[0,"required"]},null),vr(1024,null,t_,(function(t){return[t]}),[Z_]),gr(26,16384,null,0,Hv,[_n,fn,[2,Wv]],null,null),vr(1024,null,zv,(function(t){return[t]}),[Hv]),gr(28,540672,null,0,K_,[[6,t_],[8,null],[6,zv],[2,H_]],{form:[0,"form"]},null),vr(2048,null,$v,null,[K_]),gr(30,999424,null,0,Ab,[fn,Hp,[6,$v],[2,F_],[2,Q_],Qf,[8,null],kb,vo],{placeholder:[0,"placeholder"],required:[1,"required"],errorStateMatcher:[2,"errorStateMatcher"]},null),gr(31,16384,null,0,Xv,[[4,$v]],null,null),vr(2048,[[1,4],[2,4]],Tm,null,[Ab]),(t()(),ss(33,0,null,0,4,"span",[["matPrefix",""]],null,null,null,null,null)),gr(34,16384,[[8,4]],0,Am,[],null,null),(t()(),ss(35,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(36,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["perm_identity"])),(t()(),ss(38,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),gr(39,16384,[[7,4]],0,Im,[],null,null),(t()(),ws(-1,null,["Errors appear instantly!"])),(t()(),os(16777216,null,5,1,null,MC)),gr(42,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,5,1,null,AC)),gr(44,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(45,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Password"])),(t()(),ss(47,0,null,null,31,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(48,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,10,{_controlNonStatic:0}),hs(335544320,11,{_controlStatic:0}),hs(603979776,12,{_labelChildNonStatic:0}),hs(335544320,13,{_labelChildStatic:0}),hs(603979776,14,{_placeholderChild:0}),hs(603979776,15,{_errorChildren:1}),hs(603979776,16,{_hintChildren:1}),hs(603979776,17,{_prefixChildren:1}),hs(603979776,18,{_suffixChildren:1}),(t()(),ss(58,0,[["userPwd",1]],1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","password"],["matInput",""],["placeholder","Enter your password"],["required",""]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==ir(t,61)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,61).onTouched()&&i),"compositionstart"===e&&(i=!1!==ir(t,61)._compositionStart()&&i),"compositionend"===e&&(i=!1!==ir(t,61)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,65)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==ir(t,65)._focusChanged(!0)&&i),"input"===e&&(i=!1!==ir(t,65)._onInput()&&i),i}),null,null)),gr(59,16384,null,0,Z_,[],{required:[0,"required"]},null),vr(1024,null,t_,(function(t){return[t]}),[Z_]),gr(61,16384,null,0,Hv,[_n,fn,[2,Wv]],null,null),vr(1024,null,zv,(function(t){return[t]}),[Hv]),gr(63,671744,null,0,X_,[[3,Qv],[6,t_],[8,null],[6,zv],[2,H_]],{name:[0,"name"]},null),vr(2048,null,$v,null,[X_]),gr(65,999424,null,0,Ab,[fn,Hp,[6,$v],[2,F_],[2,Q_],Qf,[8,null],kb,vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),gr(66,16384,null,0,Xv,[[4,$v]],null,null),vr(2048,[[10,4],[11,4]],Tm,null,[Ab]),(t()(),ss(68,0,null,0,4,"span",[["matPrefix",""]],null,null,null,null,null)),gr(69,16384,[[17,4]],0,Am,[],null,null),(t()(),ss(70,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(71,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["lock_open"])),(t()(),ss(73,0,null,4,5,"button",[["mat-icon-button",""],["matSuffix",""]],[[1,"aria-label",0],[1,"aria-pressed",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=0!=(r.hide=!r.hide)&&i),i}),Vw,Fw)),gr(74,16384,[[18,4]],0,Nm,[],null,null),gr(75,180224,null,0,Dw,[fn,Ff,[2,Fv]],null,null),(t()(),ss(76,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(77,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(78,0,["",""])),(t()(),ss(79,0,null,null,4,"div",[["class","container-login100-form-btn"]],null,null,null,null,null)),(t()(),ss(80,0,null,null,3,"div",[["class","wrap-login100-form-btn"]],null,null,null,null,null)),(t()(),ss(81,0,null,null,0,"div",[["class","login100-form-bgbtn"]],null,null,null,null,null)),(t()(),ss(82,0,null,null,1,"button",[["class","login100-form-btn"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignUp(ir(t,23).value,ir(t,58).value)&&i),i}),null,null)),(t()(),ws(-1,null,[" Sign Up "])),(t()(),ss(84,0,null,null,3,"div",[["class","mt-5 text-center mb-4"]],null,null,null,null,null)),(t()(),ss(85,0,null,null,2,"span",[["class","or"]],null,null,null,null,null)),(t()(),ss(86,0,null,null,1,"span",[["class","orInner"]],null,null,null,null,null)),(t()(),ws(-1,null,["Or Sign Up Using"])),(t()(),ss(88,0,null,null,4,"div",[["class","flex-c-m"]],null,null,null,null,null)),(t()(),ss(89,0,null,null,1,"button",[["class","btn login100-social-item bg3"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.GoogleAuth()&&i),i}),null,null)),(t()(),ss(90,0,null,null,0,"i",[["class","fa fa-google-plus"]],null,null,null,null,null)),(t()(),ss(91,0,null,null,1,"button",[["class","btn login100-social-item bg1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.FacebookAuth()&&i),i}),null,null)),(t()(),ss(92,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),ss(93,0,null,null,5,"div",[["class","flex-col-c p-t-155"]],null,null,null,null,null)),(t()(),ss(94,0,null,null,1,"span",[["class","txt1 p-b-17 redirectToLogin"]],null,null,null,null,null)),(t()(),ws(-1,null,[" Already have an account? "])),(t()(),ss(96,0,null,null,2,"a",[["class","txt2 redirect"],["href","#"],["routerLink","/sign-in"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,97).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),gr(97,671744,null,0,Zd,[Yd,Uh,La],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,[" Log In "]))],(function(t,e){var n=e.component;t(e,7,0,n.signUpForm),t(e,24,0,""),t(e,28,0,n.emailFormControl),t(e,30,0,"Enter your email address","",n.matcher),t(e,36,0),t(e,42,0,n.emailFormControl.hasError("email")&&!n.emailFormControl.hasError("required")),t(e,44,0,n.emailFormControl.hasError("required")),t(e,59,0,""),t(e,63,0,"password"),t(e,65,0,"Enter your password","",n.hide?"password":"text"),t(e,71,0),t(e,77,0),t(e,97,0,"/sign-in")}),(function(t,e){var n=e.component;t(e,1,0,"NoopAnimations"===ir(e,2)._animationMode),t(e,5,0,ir(e,9).ngClassUntouched,ir(e,9).ngClassTouched,ir(e,9).ngClassPristine,ir(e,9).ngClassDirty,ir(e,9).ngClassValid,ir(e,9).ngClassInvalid,ir(e,9).ngClassPending),t(e,12,1,["standard"==ir(e,13).appearance,"fill"==ir(e,13).appearance,"outline"==ir(e,13).appearance,"legacy"==ir(e,13).appearance,ir(e,13)._control.errorState,ir(e,13)._canLabelFloat,ir(e,13)._shouldLabelFloat(),ir(e,13)._hasFloatingLabel(),ir(e,13)._hideControlPlaceholder(),ir(e,13)._control.disabled,ir(e,13)._control.autofilled,ir(e,13)._control.focused,"accent"==ir(e,13).color,"warn"==ir(e,13).color,ir(e,13)._shouldForward("untouched"),ir(e,13)._shouldForward("touched"),ir(e,13)._shouldForward("pristine"),ir(e,13)._shouldForward("dirty"),ir(e,13)._shouldForward("valid"),ir(e,13)._shouldForward("invalid"),ir(e,13)._shouldForward("pending"),!ir(e,13)._animationsEnabled]),t(e,23,1,[ir(e,24).required?"":null,ir(e,30)._isServer,ir(e,30).id,ir(e,30).placeholder,ir(e,30).disabled,ir(e,30).required,ir(e,30).readonly&&!ir(e,30)._isNativeSelect||null,ir(e,30)._ariaDescribedby||null,ir(e,30).errorState,ir(e,30).required.toString(),ir(e,31).ngClassUntouched,ir(e,31).ngClassTouched,ir(e,31).ngClassPristine,ir(e,31).ngClassDirty,ir(e,31).ngClassValid,ir(e,31).ngClassInvalid,ir(e,31).ngClassPending]),t(e,35,0,ir(e,36).inline,"primary"!==ir(e,36).color&&"accent"!==ir(e,36).color&&"warn"!==ir(e,36).color),t(e,38,0,"end"==ir(e,39).align,ir(e,39).id,null),t(e,47,1,["standard"==ir(e,48).appearance,"fill"==ir(e,48).appearance,"outline"==ir(e,48).appearance,"legacy"==ir(e,48).appearance,ir(e,48)._control.errorState,ir(e,48)._canLabelFloat,ir(e,48)._shouldLabelFloat(),ir(e,48)._hasFloatingLabel(),ir(e,48)._hideControlPlaceholder(),ir(e,48)._control.disabled,ir(e,48)._control.autofilled,ir(e,48)._control.focused,"accent"==ir(e,48).color,"warn"==ir(e,48).color,ir(e,48)._shouldForward("untouched"),ir(e,48)._shouldForward("touched"),ir(e,48)._shouldForward("pristine"),ir(e,48)._shouldForward("dirty"),ir(e,48)._shouldForward("valid"),ir(e,48)._shouldForward("invalid"),ir(e,48)._shouldForward("pending"),!ir(e,48)._animationsEnabled]),t(e,58,1,[ir(e,59).required?"":null,ir(e,65)._isServer,ir(e,65).id,ir(e,65).placeholder,ir(e,65).disabled,ir(e,65).required,ir(e,65).readonly&&!ir(e,65)._isNativeSelect||null,ir(e,65)._ariaDescribedby||null,ir(e,65).errorState,ir(e,65).required.toString(),ir(e,66).ngClassUntouched,ir(e,66).ngClassTouched,ir(e,66).ngClassPristine,ir(e,66).ngClassDirty,ir(e,66).ngClassValid,ir(e,66).ngClassInvalid,ir(e,66).ngClassPending]),t(e,70,0,ir(e,71).inline,"primary"!==ir(e,71).color&&"accent"!==ir(e,71).color&&"warn"!==ir(e,71).color),t(e,73,0,"Hide password",n.hide,ir(e,75).disabled||null,"NoopAnimations"===ir(e,75)._animationMode),t(e,76,0,ir(e,77).inline,"primary"!==ir(e,77).color&&"accent"!==ir(e,77).color&&"warn"!==ir(e,77).color),t(e,78,0,n.hide?"visibility_off":"visibility"),t(e,82,0,!n.signUpForm.valid),t(e,96,0,ir(e,97).target,ir(e,97).href)}))}function RC(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-sign-up",[],null,null,null,NC,IC)),gr(1,114688,null,0,PC,[vC,tb],null,null)],(function(t,e){t(e,1,0)}),null)}var DC=Ki("app-sign-up",PC,RC,{},{},[]);let LC=1;const FC={},VC={setImmediate(t){const e=LC++;return FC[e]=t,Promise.resolve().then(()=>(function(t){const e=FC[t];e&&e()})(e)),e},clearImmediate(t){delete FC[t]}};class UC extends yf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=VC.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(VC.clearImmediate(e),t.scheduled=void 0)}}class qC extends _f{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const BC=new qC(UC);class jC{}class zC{constructor(t=!1,e="all",n="",i="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=i,this.priority=r,this.property=""}clone(){return new zC(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let WC=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let i="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(i=t+"")}return i}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const HC={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},KC=new Tt("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>HC}),QC=new Tt("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),GC=new Tt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function $C(t,e){return t=t?t.clone():new zC,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const YC="inline",XC=["row","column","row-reverse","column-reverse"];function ZC(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}class JC{constructor(t,e,n,i){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=i,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new T,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,i=n.shouldCache;let r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,i]=this.styler.getFlowDirection(t);if(!i&&e){const e=function(t){let[e,n,i]=function(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return XC.find(t=>t===e)||(e=XC[0]),n===YC&&(n=i!==YC?i:"",i=YC),[e,ZC(n),!!i]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.addStyles(t)}}const tE=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],eE="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",nE="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",iE="(orientation: portrait) and (min-width: 840px)",rE="(orientation: landscape) and (min-width: 1280px)",oE={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${eE} , ${nE}`,WEB:`${iE}, ${rE} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${eE} `,WEB_PORTRAIT:`${iE}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:`${nE}`,WEB_LANDSCAPE:`${rE}`},sE=[{alias:"handset",priority:2e3,mediaQuery:oE.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:oE.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:oE.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:oE.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:oE.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:oE.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:oE.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:oE.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:oE.WEB_PORTRAIT,overlapping:!0}],aE=/(\.|-|_)/g;function lE(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const uE=new Tt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Bt(GC),e=Bt(KC),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(i=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(aE,"|").split("|").map(lE).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i;var i}((e.disableDefaultBps?[]:tE).concat(e.addOrientationBps?sE:[]),n)}});function cE(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function hE(t,e){return(t.priority||0)-(e.priority||0)}let dE=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(hE)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(uE))},token:t,providedIn:"root"}),t})(),pE=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new Sl(new zC(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return!!e&&e.matches}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Nl(n=>!e||t.indexOf(n.mediaQuery)>-1));return Z(new w(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()}),n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!fE[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>fE[t]=i)}catch(i){console.error(i)}}}(e,this._document),e.forEach(t=>{let e=this.registry.get(t);e||((e=this.buildMQL(t)).addListener(e=>{this._zone.run(()=>this.source.next(new zC(e.matches,t)))}),this.registry.set(t,e)),e.matches&&n.push(new zC(!0,t))}),n}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}(t,yl(this._platformId))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(vo),qt(Yr),qt(fl))},token:t,providedIn:"root"}),t})();const fE={},mE="print",gE={alias:mE,mediaQuery:mE,priority:1e3};let yE=(()=>{class t{constructor(t,e){this.breakpoints=t,this.layoutConfig=e,this.isPrinting=!1,this.queue=new vE,this.deactivations=[]}withPrintQuery(t){return[...t,mE]}isPrintEvent(t){return t.mediaQuery.startsWith(mE)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(cE)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),$C(t,e)}interceptEvents(t){return e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):!e.matches&&this.isPrinting&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting)if(t.matches)this.deactivations=[];else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(cE))}}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(dE),qt(KC))},token:t,providedIn:"root"}),t})();class vE{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(gE),t.sort(cE),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(mE)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let _E=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.matchMedia=e,this.hook=n,this.filterOverlaps=!1,this.destroyed$=new T,this._media$=this.watchActivations(),this.media$=this._media$.pipe(Nl(t=>t.length>0),j(t=>t[0]))}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}asObservable(){return this._media$}isActive(t){return function(t){return Array.isArray(t)?t:[t]}(t).map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim()).some(t=>{const e=function(t,e){const n=e.findByAlias(t)||e.findByQuery(t);return n?n.mediaQuery:t}(t,this.breakpoints);return this.matchMedia.isActive(e)})}watchActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);return this.buildObservable(t)}buildObservable(t){return this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Nl(t=>t.matches),wf(0,BC),ou(t=>xl(this.findAllActivations())),j(t=>this.filterOverlaps?t.filter(t=>{const e=this.breakpoints.findByQuery(t.mediaQuery);return!e||!e.overlapping}):t),Nl(t=>t.filter(t=>t.mediaQuery.length>0).length>0),Cm(this.destroyed$))}findAllActivations(){return this.matchMedia.activations.map(t=>new zC(!0,t)).map(t=>this.hook.isPrintEvent(t)?this.hook.updateEvent(t):t).map(t=>$C(t,this.breakpoints.findByQuery(t.mediaQuery))).sort(cE)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(dE),qt(pE),qt(yE))},token:t,providedIn:"root"}),t})();function bE(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":t["-webkit-flex-direction"]=n=n||"row",t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let wE=(()=>{class t{constructor(t,e,n,i){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=i}applyStyleToElement(t,e,n=null){let i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:bE(e),this._applyMultiValueStyleToElement(i,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:bE(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||vl(this._platformId)&&this._serverModuleLoaded?e:""]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return yl(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let i="";return t&&((i=this.lookupInlineStyle(t,e))||(yl(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const i=t[n],r=Array.isArray(i)?i:[i];r.sort();for(let t of r)t=t?t+"":"",yl(this._platformId)||!this._serverModuleLoaded?yl(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.length>0){const t=i.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${i}`);e[i.substr(0,t).trim()]=i.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(WC,8),qt(QC,8),qt(Yr),qt(KC))},token:t,providedIn:"root"}),t})(),CE=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new T,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=$C(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(cE),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(cE),this.updateStyles()))}init(t,e,n,i,r=[]){EE(this.updateMap,t,e,n),EE(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}getValue(t,e,n){const i=this.elementMap.get(t);if(i){const t=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,i){let r=this.elementMap.get(t);if(r){const o=(r.get(i)||new Map).set(e,n);r.set(i,o),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);const o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}trackValue(t,e){return this.subject.asObservable().pipe(Nl(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let i=this.getActivatedValues(t);i&&i.forEach((t,i)=>{this.updateElement(e,i,t),n.delete(i)}),n.forEach(n=>{if(i=this.getActivatedValues(t,n)){const t=i.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const i=this.updateMap.get(t);if(i){const r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const i=this.getActivatedValues(n,e);i&&(e?this.updateElement(t,e,i.get(e)):i.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let i=this.watcherMap.get(t);if(i||(i=new Map,this.watcherMap.set(t,i)),!i.get(e)){const r=Z(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});i.set(e,r)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let i=0;i<this.activatedBreakpoints.length;i++){const n=t.get(this.activatedBreakpoints[i].alias);if(n&&(void 0===e||n.has(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Bl(this.hook.interceptEvents(this)),Nl(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(pE),qt(dE),qt(yE))},token:t,providedIn:"root"}),t})();function EE(t,e,n,i){if(void 0!==i){let r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}class xE extends JC{constructor(t,e,n,i,r){super(t,null,e,n),this.elementRef=t,this.styler=e,this.marshal=n,this.delegate=i,this.ngClassInstance=r,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Xa(this.delegate)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}const SE=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];class kE extends xE{constructor(){super(...arguments),this.inputs=SE}}class TE{}class OE{constructor(t,e){this.authService=t,this.themeService=e}ngOnInit(){this.isDarkTheme=this.themeService.isDarkTheme}}var PE=oi({encapsulation:0,styles:[[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.ng-star-inserted[_ngcontent-%COMP%]{height:100vh}"]],data:{}});function IE(t){return xs(0,[(t()(),ss(0,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,19,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,18,"div",[["class","media"]],null,null,null,null,null)),(t()(),ss(3,0,null,null,0,"img",[["class","align-self-start mr-5 img-thumbnail rounded-circle"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),ss(4,0,null,null,16,"div",[["class","media-body"]],null,null,null,null,null)),(t()(),ss(5,0,null,null,3,"h1",[],null,null,null,null,null)),(t()(),ws(-1,null,["Hello: "])),(t()(),ss(7,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(8,null,["",""])),(t()(),ss(9,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["User ID: "])),(t()(),ss(11,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(12,null,["",""])),(t()(),ss(13,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Email: "])),(t()(),ss(15,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(16,null,["",""])),(t()(),ss(17,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Email Verified: "])),(t()(),ss(19,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(20,null,["",""]))],null,(function(t,e){t(e,3,0,Ni(1,"",e.context.ngIf.photoURL?e.context.ngIf.photoURL:"/assets/images/user-dummy-pic.png",""),Ni(1,"",e.context.ngIf.displayName,"")),t(e,8,0,e.context.ngIf.displayName?e.context.ngIf.displayName:"User"),t(e,12,0,e.context.ngIf.uid),t(e,16,0,e.context.ngIf.email),t(e,20,0,e.context.ngIf.emailVerified)}))}function ME(t){return xs(0,[(t()(),ss(0,0,null,null,18,"div",[],null,null,null,null,null)),vr(512,null,Ga,$a,[Nn,Rn,fn,_n]),gr(2,278528,null,0,Xa,[Ga],{ngClass:[0,"ngClass"]},null),yr(131072,dl,[Re]),_s(4,{"dark-theme":0}),gr(5,933888,null,0,kE,[fn,wE,CE,Ga,[6,Xa]],{ngClass:[0,"ngClass"]},null),yr(131072,dl,[Re]),_s(7,{"dark-theme":0}),(t()(),ss(8,0,null,null,10,"div",[["class","mat-app-background"]],null,null,null,null,null)),(t()(),ss(9,0,null,null,9,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),ss(10,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),ss(11,0,null,null,0,"nav",[["class","col-md-2 d-md-block "]],null,null,null,null,null)),(t()(),ss(12,0,null,null,6,"main",[["class","col-md-9 ml-sm-auto col-lg-10 px-4"],["role","main"]],null,null,null,null,null)),(t()(),ss(13,0,null,null,5,"div",[["class","inner-adjust"]],null,null,null,null,null)),(t()(),ss(14,0,null,null,2,"div",[["class","pt-3 pb-2 mb-3 border-bottom"]],null,null,null,null,null)),(t()(),ss(15,0,null,null,1,"h1",[["class","h2"]],null,null,null,null,null)),(t()(),ws(-1,null,["User Profile"])),(t()(),os(16777216,null,null,1,null,IE)),gr(18,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,4,0,ni(e,2,0,ir(e,3).transform(n.isDarkTheme)));t(e,2,0,i);var r=t(e,7,0,ni(e,5,0,ir(e,6).transform(n.isDarkTheme)));t(e,5,0,r),t(e,18,0,n.authService.userData)}),null)}function AE(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-dashboard",[],null,null,null,ME,PE)),gr(1,114688,null,0,OE,[vC,Aa],null,null)],(function(t,e){t(e,1,0)}),null)}var NE=Ki("app-dashboard",OE,AE,{},{},[]);const RE=new Tt("MAT_GRID_LIST");class DE{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Vp(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Vp(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}class LE{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new FE(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class FE{constructor(t,e){this.row=t,this.col=e}}const VE=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class UE{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=WE(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":zE(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}setColStyles(t,e,n,i){let r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",zE(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class qE extends UE{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){if(super.init(t,e,n,i),this.fixedRowHeight=WE(this.fixedRowHeight),!VE.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",zE(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",zE(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class BE extends UE{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",zE(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",zE(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class jE extends UE{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",zE(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function zE(t){return`calc(${t})`}function WE(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}const HE="fit";class KE{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Vp(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler=t===HE?new jE:t&&t.indexOf(":")>-1?new BE(t):new qE(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new LE);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}class QE{}var GE=oi({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function $E(t){return xs(2,[(t()(),ss(0,0,null,null,1,"div",[],null,null,null,null,null)),gs(null,0)],null,null)}var YE=oi({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function XE(t){return xs(2,[(t()(),ss(0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),gs(null,0)],null,null)}let ZE=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return xl(this.value);case"E":return dw(this.error);case"C":return Cl()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class JE extends m{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(JE.dispatch,this.delay,new tx(t,this.destination)))}_next(t){this.scheduleMessage(ZE.createNext(t))}_error(t){this.scheduleMessage(ZE.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(ZE.createComplete()),this.unsubscribe()}}class tx{constructor(t,e){this.notification=t,this.destination=e}}class ex extends T{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new nx(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new x;if(this.isStopped||this.hasError?o=d.EMPTY:(this.observers.push(t),o=new S(this,t)),i&&t.add(t=new JE(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Yw).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class nx{constructor(t,e){this.time=t,this.value=e}}const ix={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},rx={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",SPINNER_TYPE:"ball-scale-multiple",Z_INDEX:99999},ox="primary";class sx{constructor(t){Object.assign(this,t)}}let ax=(()=>{class t{constructor(){this.spinnerObservable=new ex(1)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Nl(e=>e&&e.name===t))}show(t=ox,e){return new Promise((n,i)=>{e&&Object.keys(e).length?(e.name=t,this.spinnerObservable.next(new sx(Object.assign({},e,{show:!0}))),n(!0)):(this.spinnerObservable.next(new sx({name:t,show:!0})),n(!0))})}hide(t=ox,e=0){return new Promise((n,i)=>{setTimeout(()=>{this.spinnerObservable.next(new sx({name:t,show:!1})),n(!0)},e)})}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class lx{constructor(t,e){this.spinnerService=t,this.changeDetector=e,this.spinner=new sx,this.ngUnsubscribe=new T,this.setDefaultOptions=()=>{this.spinner=new sx({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex})},this.bdColor=rx.BD_COLOR,this.zIndex=rx.Z_INDEX,this.color=rx.SPINNER_COLOR,this.type=rx.SPINNER_TYPE,this.size="large",this.fullScreen=!0,this.name=ox,this.divArray=[],this.divCount=0,this.show=!1}ngOnInit(){this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe(Cm(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.markForCheck()})}ngOnChanges(t){for(const e in t)if(e){const n=t[e];if(n.isFirstChange())return;void 0!==n.currentValue&&n.currentValue!==n.previousValue&&""!==n.currentValue&&(this.spinner[e]=n.currentValue)}}getClass(t,e){this.spinner.divCount=ix[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((t,e)=>e);let n="";switch(e.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x"}return"la-"+t+" "+n}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}class ux{}var cx=oi({encapsulation:0,styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:12px;height:12px}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;transform:translate(100%,100%);-webkit-animation:1s infinite ball-8bits;animation:1s infinite ball-8bits}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.9375s;animation-delay:-.9375s;top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s;top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s;top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s;top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s;top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s;top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s;top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s;top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s;top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s;top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s;top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s;top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s;top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s;top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s;top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s;top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:4.5s linear infinite ball-atom-shrink;animation:4.5s linear infinite ball-atom-shrink}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;left:0;z-index:0;width:100%;height:100%;background:0 0;-webkit-animation:1.5s steps(2,end) infinite ball-atom-zindex;animation:1.5s steps(2,end) infinite ball-atom-zindex}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size;animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-125ms;animation-delay:-.5s,-125ms}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{transform:scale(.5,.5)}}@keyframes ball-atom-size{50%{transform:scale(.5,.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8,.8)}}@keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8,.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.7s linear -.15s infinite ball-beat;animation:.7s linear -.15s infinite ball-beat}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}100%{opacity:1;transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}100%{opacity:1;transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:16px;height:16px}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:-100%;display:block;width:100%;height:100%;border-radius:100%;opacity:.5;-webkit-animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size;animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{transform:scale(.3,.3)}}@keyframes ball-circus-size{50%{transform:scale(.3,.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:42px;height:32px}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;transform-origin:center bottom;-webkit-animation:.6s ease-in-out infinite ball-climbing-dot-jump;animation:.6s ease-in-out infinite ball-climbing-dot-jump}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;transform:translate(60%,0);-webkit-animation:1.8s linear infinite ball-climbing-dot-steps;animation:1.8s linear infinite ball-climbing-dot-steps}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(2){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%,100%{transform:scale(1,.7)}20%,80%,90%{transform:scale(.7,1.2)}40%,46%{transform:scale(1,1)}50%{bottom:125%}}@keyframes ball-climbing-dot-jump{0%,100%{transform:scale(1,.7)}20%,80%,90%{transform:scale(.7,1.2)}40%,46%{transform:scale(1,1)}50%{bottom:125%}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:50%;left:50%;background:0 0;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate;animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0)}50%{transform:translate(-50%,-50%) rotate(180deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0)}50%{transform:translate(-50%,-50%) rotate(180deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:0 0;border-style:solid;border-width:2px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0)}50%{transform:translate(-50%,-50%) rotate(180deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0)}50%{transform:translate(-50%,-50%) rotate(180deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-bottom-color:transparent;border-radius:100%;-webkit-animation:.75s linear infinite ball-clip-rotate;animation:.75s linear infinite ball-clip-rotate}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}@keyframes ball-clip-rotate{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff;width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:1s infinite ball-elastic-dots-anim;animation:1s infinite ball-elastic-dots-anim}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,100%{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,100%{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-fall;animation:1s ease-in-out infinite ball-fall}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:8px;height:8px}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:12px;height:12px;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:1s infinite ball-fussion-ball1;animation:1s infinite ball-fussion-ball1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}@keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}}@keyframes ball-grid-pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:10px}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-left;animation:1s ease-out infinite ball-newton-cradle-left}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-right;animation:1s ease-out infinite ball-newton-cradle-right}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{100%,50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes ball-newton-cradle-right{100%,50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:70px;height:14px}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even;animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}100%{opacity:1;transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}100%{opacity:1;transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}100%{opacity:.35;transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}100%{opacity:.35;transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.6s ease-in-out infinite ball-pulse-sync;animation:.6s ease-in-out infinite ball-pulse-sync}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}100%{transform:translateY(0)}}@keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}100%{transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:1s infinite ball-pulse;animation:1s infinite ball-pulse}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,100%,60%{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}@keyframes ball-pulse{0%,100%,60%{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%;-webkit-animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation;animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}@keyframes ball-rotate-animation{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:2s linear infinite ball-running-dots-animate;animation:2s linear infinite ball-running-dots-animate}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s linear infinite ball-scale-multiple;animation:1s linear infinite ball-scale-multiple}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}100%{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}100%{opacity:0;transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:2s ease-in-out infinite ball-scale-pulse;animation:2s ease-in-out infinite ball-scale-pulse}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-scale-pulse{0%,100%{transform:scale(0)}50%{transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple;animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple;animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}100%{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}100%{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-scale;animation:1s ease-in-out infinite ball-scale}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;transform:scale(0)}100%{opacity:0;transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;transform:scale(0)}100%{opacity:0;transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade-rotating;animation:1s linear infinite ball-spin-clockwise-fade-rotating}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{100%{transform:rotate(-360deg)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{100%{transform:rotate(-360deg)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade;animation:1s linear infinite ball-spin-clockwise-fade}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}100%{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin-clockwise;animation:1s ease-in-out infinite ball-spin-clockwise}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotate;animation:6s linear infinite ball-spin-fade-rotate}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{100%{transform:rotate(360deg)}}@keyframes ball-spin-fade-rotate{100%{transform:rotate(360deg)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}@keyframes ball-spin-fade{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:2s linear infinite ball-spin-rotate;animation:2s linear infinite ball-spin-rotate}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:2s ease-in-out infinite ball-spin-bounce;animation:2s ease-in-out infinite ball-spin-bounce}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{100%{transform:rotate(360deg)}}@keyframes ball-spin-rotate{100%{transform:rotate(360deg)}}@-webkit-keyframes ball-spin-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-spin-bounce{0%,100%{transform:scale(0)}50%{transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin;animation:1s ease-in-out infinite ball-spin}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin{0%,100%{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-clockwise-spin;animation:1s ease-in-out infinite ball-square-clockwise-spin}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,100%,40%{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,100%,40%{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-spin;animation:1s ease-in-out infinite ball-square-spin}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,100%,40%{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-spin{0%,100%,40%{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-one;animation:2s ease-in-out infinite ball-triangle-path-ball-one}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-two;animation:2s ease-in-out infinite ball-triangle-path-ball-two}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-tree;animation:2s ease-in-out infinite ball-triangle-path-ball-tree}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;transform:translate(110%,0)}66%{opacity:1;transform:translate(220%,220%)}100%{opacity:1;transform:translate(0,220%)}}@keyframes ball-triangle-path-ball-one{0%{transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;transform:translate(110%,0)}66%{opacity:1;transform:translate(220%,220%)}100%{opacity:1;transform:translate(0,220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}66%{opacity:1;transform:translate(0,220%)}100%{opacity:1;transform:translate(110%,0)}}@keyframes ball-triangle-path-ball-two{0%{transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}66%{opacity:1;transform:translate(0,220%)}100%{opacity:1;transform:translate(110%,0)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;transform:translate(0,220%)}66%{opacity:1;transform:translate(110%,0)}100%{opacity:1;transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;transform:translate(0,220%)}66%{opacity:1;transform:translate(110%,0)}100%{opacity:1;transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:1.5s linear infinite ball-zig-deflect;animation:1.5s linear infinite ball-zig-deflect}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:1.5s linear infinite ball-zag-deflect;animation:1.5s linear infinite ball-zag-deflect}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%,84%{transform:translate(-80%,-160%)}34%,67%{transform:translate(80%,-160%)}100%,50%{transform:translate(0,0)}}@keyframes ball-zig-deflect{17%,84%{transform:translate(-80%,-160%)}34%,67%{transform:translate(80%,-160%)}100%,50%{transform:translate(0,0)}}@-webkit-keyframes ball-zag-deflect{17%,84%{transform:translate(80%,160%)}34%,67%{transform:translate(-80%,160%)}100%,50%{transform:translate(0,0)}}@keyframes ball-zag-deflect{17%,84%{transform:translate(80%,160%)}34%,67%{transform:translate(-80%,160%)}100%,50%{transform:translate(0,0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:.7s linear infinite ball-zig-effect;animation:.7s linear infinite ball-zig-effect}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:.7s linear infinite ball-zag-effect;animation:.7s linear infinite ball-zag-effect}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%,100%{transform:translate(0,0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}}@keyframes ball-zig-effect{0%,100%{transform:translate(0,0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}}@-webkit-keyframes ball-zag-effect{0%,100%{transform:translate(0,0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}}@keyframes ball-zag-effect{0%,100%{transform:translate(0,0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:31px;height:31px}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px dashed currentColor;width:100%;height:100%;background-color:transparent;border-radius:100%;-webkit-animation:4s linear infinite cog-rotate;animation:4s linear infinite cog-rotate}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid currentColor;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes cog-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:1.6s ease-in-out infinite cube-transition;animation:1.6s ease-in-out infinite cube-transition}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;transform:scale(1) rotate(-360deg)}}@keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;transform:scale(1) rotate(-360deg)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:2px;transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:1.5s linear infinite fire-diamonds;animation:1.5s linear infinite fire-diamonds}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%,100%{transform:scaleY(1)}50%{transform:scaleY(.3)}}@keyframes line-scale-party{0%,100%{transform:scaleY(1)}50%{transform:scaleY(.3)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid;animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%,90%{transform:scaley(1)}80%{transform:scaley(.3)}}@keyframes line-scale-pulse-out-rapid{0%,90%{transform:scaley(1)}80%{transform:scaley(.3)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out;animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%,100%{transform:scaley(1)}50%{transform:scaley(.3)}}@keyframes line-scale-pulse-out{0%,100%{transform:scaley(1)}50%{transform:scaley(.3)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:1.2s infinite line-scale;animation:1.2s infinite line-scale}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,100%,40%{transform:scaleY(.4)}20%{transform:scaleY(1)}}@keyframes line-scale{0%,100%,40%{transform:scaleY(.4)}20%{transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating;animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{100%{transform:rotate(-360deg)}}@keyframes line-spin-clockwise-fade-rotating-rotate{100%{transform:rotate(-360deg)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade;animation:1s ease-in-out infinite line-spin-clockwise-fade}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotating-rotate;animation:6s linear infinite ball-spin-fade-rotating-rotate}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade-rotating;animation:1s ease-in-out infinite line-spin-fade-rotating}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{100%{transform:rotate(360deg)}}@keyframes ball-spin-fade-rotating-rotate{100%{transform:rotate(360deg)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade;animation:1s ease-in-out infinite line-spin-fade}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:0 0;border-style:solid;border-width:16px;border-right-color:transparent;border-radius:100%;-webkit-animation:.5s infinite pacman-rotate-half-up;animation:.5s infinite pacman-rotate-half-up}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-32px;-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:2s linear infinite pacman-balls;animation:2s linear infinite pacman-balls}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,100%{transform:rotate(270deg)}50%{transform:rotate(360deg)}}@keyframes pacman-rotate-half-up{0%,100%{transform:rotate(270deg)}50%{transform:rotate(360deg)}}@-webkit-keyframes pacman-rotate-half-down{0%,100%{transform:rotate(90deg)}50%{transform:rotate(0)}}@keyframes pacman-rotate-half-down{0%,100%{transform:rotate(90deg)}50%{transform:rotate(0)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:.6s linear -.1s infinite square-jelly-box-animate;animation:.6s linear -.1s infinite square-jelly-box-animate}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:.6s linear -.1s infinite square-jelly-box-shadow;animation:.6s linear -.1s infinite square-jelly-box-shadow}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}100%{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}100%{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{transform:scale(1.25,1)}}@keyframes square-jelly-box-shadow{50%{transform:scale(1.25,1)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:100%;height:100%;background:0 0;border-radius:0;-webkit-animation:2s infinite square-loader;animation:2s infinite square-loader}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:2s ease-in infinite square-loader-inner;animation:2s ease-in infinite square-loader-inner}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{transform:rotate(0)}25%,50%{transform:rotate(180deg)}100%,75%{transform:rotate(360deg)}}@keyframes square-loader{0%{transform:rotate(0)}25%,50%{transform:rotate(180deg)}100%,75%{transform:rotate(360deg)}}@-webkit-keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}@keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:100%;height:100%;border-radius:0;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{transform:perspective(100px) rotateX(0) rotateY(360deg)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;transform-origin:1px 1px 0;-webkit-animation:1.25s linear -625ms infinite timer-loader;animation:1.25s linear -625ms infinite timer-loader}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes timer-loader{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:16px}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:0 solid currentColor;width:0;height:0;background:0 0;border:solid;border-width:0 16px 16px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{transform:perspective(100px) rotateX(0) rotateY(360deg)}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}'],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:300}],options:null},{type:1,expr:":leave",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:200},options:null}],options:{}}]}});function hx(t){return xs(0,[(t()(),ss(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function dx(t){return xs(0,[(t()(),ss(0,0,null,null,5,"div",[["class","overlay"]],[[24,"@fadeIn",0],[4,"background-color",null],[4,"z-index",null],[4,"position",null]],null,null,null,null)),(t()(),ss(1,0,null,null,2,"div",[],[[8,"className",0],[4,"color",null]],null,null,null,null)),(t()(),os(16777216,null,null,1,null,hx)),gr(3,278528,null,0,Ja,[qn,Vn,Nn],{ngForOf:[0,"ngForOf"]},null),(t()(),ss(4,0,null,null,1,"div",[["class","loading-text"]],[[4,"z-index",null]],null,null,null,null)),gs(null,0)],(function(t,e){t(e,3,0,e.component.spinner.divArray)}),(function(t,e){var n=e.component;t(e,0,0,"in",n.spinner.bdColor,n.spinner.zIndex,n.spinner.fullScreen?"fixed":"absolute"),t(e,1,0,n.spinner.class,n.spinner.color),t(e,4,0,n.spinner.zIndex)}))}function px(t){return xs(2,[(t()(),os(16777216,null,null,1,null,dx)),gr(1,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.spinner.show)}),null)}class fx{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new T,this.onChange=this.changed,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}function mx(t,e){return n=>n.lift(new gx(t,e))}class gx{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new yx(t,this.compare,this.keySelector))}}class yx extends m{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const vx=20;let _x=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=vx){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(xb(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xl()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Nl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wm(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(vo),qt(Hp))},token:t,providedIn:"root"}),t})();class bx{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new T,this._elementScrolled=new w(t=>this.ngZone.runOutsideAngular(()=>wm(this.elementRef.nativeElement,"scroll").pipe(Cm(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&Jp()!=Xp.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),Jp()==Xp.INVERTED?t.left=t.right:Jp()==Xp.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&Jp()==Xp.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&Jp()==Xp.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}class wx{}const Cx=20;let Ex=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Z(wm(window,"resize"),wm(window,"orientationchange")):xl(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=Cx){return t>0?this._change.pipe(xb(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Hp),qt(vo))},token:t,providedIn:"root"}),t})();function xx(){throw Error("Host already has a portal attached")}class Sx{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&xx(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class kx extends Sx{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Tx extends Sx{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ox{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&xx(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof kx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Tx?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Px extends Ox{constructor(t,e,n,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class Ix{}class Mx{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qp(-this._previousScrollPosition.left),t.style.top=qp(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Ax(){return Error("Scroll strategy has already been attached.")}class Nx{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Ax();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Rx{enable(){}disable(){}attach(){}}function Dx(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Lx(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Fx{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Ax();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Dx(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vx=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Rx,this.close=t=>new Nx(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Mx(this._viewportRuler,this._document),this.reposition=t=>new Fx(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(_x),qt(Ex),qt(vo),qt(fl))},token:t,providedIn:"root"}),t})();class Ux{constructor(t){if(this.scrollStrategy=new Rx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class qx{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Bx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function jx(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function zx(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let Wx=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(fl))},token:t,providedIn:"root"}),t})(),Hx=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(fl))},token:t,providedIn:"root"}),t})();class Kx{constructor(t,e,n,i,r,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new T,this._attachments=new T,this._detachments=new T,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new T,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Jl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qp(this._config.width),t.height=qp(this._config.height),t.minWidth=qp(this._config.minWidth),t.minHeight=qp(this._config.minHeight),t.maxWidth=qp(this._config.maxWidth),t.maxHeight=qp(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Up(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Cm(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Qx="cdk-overlay-connected-position-bounding-box";class Gx{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new T,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(Qx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$x(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Qx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+i,y:t.y+(r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,i){let{x:r,y:o}=t,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),o=Math.max(t.y+e.height-i.bottom,0),s=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,y:u=e.height<=i.height?s||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Bx(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,l,u;if("top"===e.overlayY)r=n.height-(o=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)r=n.height-(s=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;o=t.y-e,(r=2*e)>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:o,left:l,bottom:s,right:u,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=qp(n.height),i.top=qp(n.top),i.bottom=qp(n.bottom),i.width=qp(n.width),i.left=qp(n.left),i.right=qp(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=qp(t)),r&&(i.maxWidth=qp(r))}this._lastBoundingBoxSize=n,$x(this._boundingBox.style,i)}_resetBoundingBoxStyles(){$x(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$x(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const i=this._viewportRuler.getViewportScrollPosition();$x(n,this._getExactOverlayY(e,t,i)),$x(n,this._getExactOverlayX(e,t,i))}else n.position="static";let i="",r=this._getOffset(e,"x"),o=this._getOffset(e,"y");r&&(i+=`translateX(${r}px) `),o&&(i+=`translateY(${o}px)`),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),$x(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=qp(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"right"==(i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:r.left=qp(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Lx(t,n),isOriginOutsideView:Dx(t,n),isOverlayClipped:Lx(e,n),isOverlayOutsideView:Dx(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{zx("originX",t.originX),jx("originY",t.originY),zx("overlayX",t.overlayX),jx("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Up(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof fn)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function $x(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class Yx{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new Gx(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new qx(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Xx="cdk-global-overlay-wrapper";class Zx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Xx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Xx),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Jx=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Zx}connectedTo(t,e,n){return new Yx(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Gx(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Ex),qt(fl),qt(Hp),qt(Hx))},token:t,providedIn:"root"}),t})(),tS=0;class eS{constructor(t,e,n,i,r,o,s,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Ux(t);return r.direction=r.direction||this._directionality.value,new Kx(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${tS++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Vo)),new Px(t,this._componentFactoryResolver,this._appRef,this._injector)}}const nS=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],iS=new Tt("cdk-connected-overlay-scroll-strategy");class rS{constructor(t){this.elementRef=t}}class oS{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=d.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new Br,this.positionChange=new Br,this.attach=new Br,this.detach=new Br,this.overlayKeydown=new Br,this._templatePortal=new Tx(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Fp(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Fp(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Fp(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Fp(t)}get push(){return this._push}set push(t){this._push=Fp(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=nS),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode!==nf||mf(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this._createPositionStrategy(),e=new Ux({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}function sS(t){return()=>t.scrollStrategies.reposition()}class aS{}let lS=0;const uS=256,cS=16,hS=2*cS,dS=3,pS=1.5*cS+16,fS=8,mS=new Tt("mat-select-scroll-strategy");function gS(t){return()=>t.scrollStrategies.reposition()}class yS{constructor(t,e){this.source=t,this.value=e}}class vS{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const _S=zf(Wf(Bf(Hf(vS))));class bS extends _S{constructor(t,e,n,i,r,o,s,a,l,u,c,h,d){super(r,i,s,a,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${lS++}`,this._destroy=new T,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new T,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Ml(()=>{const t=this.options;return t?t.changes.pipe(lu(t),ou(()=>Z(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Jl(1),ou(()=>this.optionSelectionChanges))}),this.openedChange=new Br,this._openedStream=this.openedChange.pipe(Nl(t=>t),j(()=>{})),this._closedStream=this.openedChange.pipe(Nl(t=>!t),j(()=>{})),this.selectionChange=new Br,this.valueChange=new Br,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(c)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}set focused(t){this._focused=t}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Fp(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Fp(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Fp(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new fx(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(mx(),Cm(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Cm(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.onChange.pipe(Cm(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(lu(null),Cm(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Jl(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===cf||e===lf||e===af||e===uf,i=this._keyManager;if((e===ef||e===rf)&&!mf(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;e===sf||e===of?(e===sf?i.setFirstItemActive():i.setLastItemActive(),t.preventDefault()):i.onKeydown(t);const r=this.selected;this._liveAnnouncer&&r&&n!==r&&this._liveAnnouncer.announce(r.viewValue,1e4)}}_handleOpenKeydown(t){const e=t.keyCode,n=e===cf||e===lf,i=this._keyManager;if(e===sf||e===of)t.preventDefault(),e===sf?i.setFirstItemActive():i.setLastItemActive();else if(n&&t.altKey)t.preventDefault(),this.close();else if(e!==ef&&e!==rf||!i.activeItem||mf(t))if(this._multiple&&e===pf&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const e=i.activeItemIndex;i.onKeydown(t),this._multiple&&n&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==e&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Jl(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return oe()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new kf(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Cm(this._destroy)).subscribe(()=>{this.focus(),this.close()}),this._keyManager.change.pipe(Cm(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Z(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Cm(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Z(...this.options.map(t=>t._stateChanges)).pipe(Cm(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new yS(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=vm(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,i){const r=t*e;return r<n?r:r+e>n+i?Math.max(0,r-i+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,uS)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0===e?t===n?i:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,uS),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=vm(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?pS+cS:2*cS;let r;if(this.multiple)r=pS;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?hS:cS}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+fS:s>0&&(r-=s+fS),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(uS/i);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-uS)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-fS,r=n.height-this._triggerRect.bottom-fS,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,uS)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return this._triggerFontSize*dS}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}class wS{}var CS=oi({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform .4s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}@media (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],data:{animation:[{type:7,name:"transformPanelWrap",definitions:[{type:1,expr:"* => void",animation:{type:11,selector:"@transformPanel",animation:[{type:9,options:null}],options:{optional:!0}},options:null}],options:{}},{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0.8)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}}]}});function ES(t){return xs(0,[(t()(),ss(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(t()(),ws(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.placeholder||"\xa0")}))}function xS(t){return xs(0,[(t()(),ss(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.triggerValue||"\xa0")}))}function SS(t){return xs(0,[gs(null,0),(t()(),os(0,null,null,0))],null,null)}function kS(t){return xs(0,[(t()(),ss(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),gr(1,16384,null,0,ol,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),os(16777216,null,null,1,null,xS)),gr(3,16384,null,0,al,[qn,Vn,ol],null,null),(t()(),os(16777216,null,null,1,null,SS)),gr(5,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){t(e,1,0,!!e.component.customTrigger),t(e,5,0,!0)}),null)}function TS(t){return xs(0,[(t()(),ss(0,0,null,null,4,"div",[["class","mat-select-panel-wrap"]],[[24,"@transformPanelWrap",0]],null,null,null,null)),(t()(),ss(1,0,[[2,0],["panel",1]],null,3,"div",[],[[24,"@transformPanel",0],[4,"transformOrigin",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],(function(t,e,n){var i=!0,r=t.component;return"@transformPanel.done"===e&&(i=!1!==r._panelDoneAnimatingStream.next(n.toState)&&i),"keydown"===e&&(i=!1!==r._handleKeydown(n)&&i),i}),null,null)),vr(512,null,Ga,$a,[Nn,Rn,fn,_n]),gr(3,278528,null,0,Xa,[Ga],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),gs(null,1)],(function(t,e){var n=e.component;t(e,3,0,Ni(1,"mat-select-panel ",n._getPanelTheme(),""),n.panelClass)}),(function(t,e){var n=e.component;t(e,0,0,void 0),t(e,1,0,n.multiple?"showing-multiple":"showing",n._transformOrigin,n._triggerFontSize)}))}function OS(t){return xs(2,[hs(671088640,1,{trigger:0}),hs(671088640,2,{panel:0}),hs(671088640,3,{overlayDir:0}),(t()(),ss(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggle()&&i),i}),null,null)),gr(4,16384,[["origin",4]],0,rS,[fn],null,null),(t()(),ss(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),gr(6,16384,null,0,ol,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),os(16777216,null,null,1,null,ES)),gr(8,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),os(16777216,null,null,1,null,kS)),gr(10,278528,null,0,sl,[qn,Vn,ol],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),ss(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(t()(),ss(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,(function(t,e,n){var i=!0,r=t.component;return"backdropClick"===e&&(i=!1!==r.close()&&i),"attach"===e&&(i=!1!==r._onAttached()&&i),"detach"===e&&(i=!1!==r.close()&&i),i}),TS)),gr(14,671744,[[3,4]],0,oS,[eS,Vn,qn,iS,[2,Qm]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],(function(t,e){var n=e.component;t(e,6,0,n.empty),t(e,8,0,!0),t(e,10,0,!1),t(e,14,0,ir(e,4),n._positions,n._offsetY,null==n._triggerRect?null:n._triggerRect.width,"cdk-overlay-transparent-backdrop",n._scrollStrategy,n.panelOpen,"","")}),null)}var PS=oi({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function IS(t){return xs(0,[(t()(),ss(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,NS,AS)),gr(1,49152,null,0,lm,[[2,Fv]],{state:[0,"state"],disabled:[1,"disabled"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)}),(function(t,e){t(e,0,0,"indeterminate"===ir(e,1).state,"checked"===ir(e,1).state,ir(e,1).disabled,"NoopAnimations"===ir(e,1)._animationMode)}))}function MS(t){return xs(2,[(t()(),os(16777216,null,null,1,null,IS)),gr(1,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),gs(null,0),(t()(),ss(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),gr(5,212992,null,0,sm,[fn,vo,Hp,[2,om],[2,Fv]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())}),(function(t,e){t(e,4,0,ir(e,5).unbounded)}))}var AS=oi({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function NS(t){return xs(2,[],null,null)}let RS=(()=>{class t{constructor(t){this.http=t}search(t){const e={name};console.log("https://restcountries.eu/rest/v2/name/"+e);const n="https://restcountries.eu/rest/v2/name/"+encodeURI(JSON.stringify(e));return console.log(n),this.http.get(n).pipe(j(t=>t),Yl(t=>dw(t)))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Yb))},token:t,providedIn:"root"}),t})();class DS{}class LS{constructor(t,e,n,i,r,o){this.mediaObserver=t,this.countrieservice=e,this.router=n,this.route=i,this.searchService=r,this.spinner=o,this.country=new DS,this.searchTerm=new T,this.autocompleteBox={hide:!0},this.gridByBreakpoint={xl:6,lg:4,md:3,sm:2,xs:1}}ngAfterContentInit(){this.mediaObserver.media$.subscribe(t=>{this.grid.cols=this.gridByBreakpoint[t.mqAlias]}),this.spinner.show(),this.filterCountries(this.searchTextBox),this.getRegion(this.region)}filterCountries(t){t?this.loadCountriesFilter():this.loadCountries(),this.loadCountries()}loadCountriesFilter(){this.spinner.show(),this.searchTerm.pipe(wf(200),mx()).subscribe(t=>{this.countrieservice.getCountry(t).subscribe(t=>{this.Countries=t,this.spinner.hide(),this.autocompleteBox.hide=!1,this.errMessage=""},t=>{this.clearCountries(),this.errMessage="No results found."})})}clearCountries(){this.Countries=[]}loadCountries(){return this.spinner.show(),this.countrieservice.getCountries().subscribe(t=>{this.Countries=t,this.spinner.hide(),this.errMessage=""})}goToCountry(t){this.router.navigate(["/single-country/",t])}onKeyup(t){console.log("got text: ",t),""!==t&&this.searchTerm.next(t)}showDetail(t){this.autocompleteBox.hide=!0}getRegion(t){this.region=t}onSelectedChange(t){this.selectedValue=t,this.region=this.selectedValue,this.countrieservice.getRegions(this.region).subscribe(t=>{this.Countries=t},t=>{})}loadRegions(t){return this.countrieservice.getRegions(this.region).subscribe(t=>{this.regions=t,console.log(this.regions)})}}function FS(t=-1){return e=>e.lift(new VS(t,e))}class VS{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new US(t,this.count,this.source))}}class US extends m{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}let qS=(()=>{class t{constructor(t){this.http=t,this.apiURL="https://restcountries.eu/rest/v2",this.httpOptions={headers:new Lb({"Content-Type":"application/json"})}}getCountries(){return this.http.get(this.apiURL+"/all").pipe(FS(1),Yl(this.handleError))}getRegions(t){return this.http.get(this.apiURL+"/region/"+t).pipe(FS(1),Yl(this.handleError))}getCountry(t){return this.http.get(this.apiURL+"/name/"+t).pipe(j(t=>t),FS(1),Yl(this.handleError))}getBorders(t){return this.http.get(this.apiURL+"/alpha/"+t).pipe(j(t=>t),Yl(this.handleError))}handleError(t){let e="";return dw(e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`)}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Yb))},token:t,providedIn:"root"}),t})();var BS=oi({encapsulation:0,styles:[['.mat-card[_ngcontent-%COMP%]{font-family:"Nunito Sans",sans-serif;box-shadow:none;padding:0;height:100%}.mat-card[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{min-height:158px;height:50%;-o-object-fit:cover;object-fit:cover;width:106%}.mat-card[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]:first-child{margin-top:0}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:0 16px 16px}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{line-height:1rem;font-size:1rem;font-weight:900;padding-top:7px;padding-bottom:13px}.mat-card[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{background-color:transparent!important}.searchCard.mat-card[_ngcontent-%COMP%]{height:54px;margin-bottom:5px;margin-left:0;box-shadow:0 1px 7px 1px rgba(0,0,0,.03),0 3px 3px 1px rgba(0,0,0,.02),0 3px 8px 2px rgba(0,0,0,.01)}.searchCard.mat-card[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-family:"Nunito Sans",sans-serif;line-height:1.2rem;font-size:.9rem;top:18px!important;left:10px}.searchCard.mat-card[_ngcontent-%COMP%]   .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-family:"Nunito Sans",sans-serif;line-height:1.2rem}.searchCard.mat-card[_ngcontent-%COMP%]   mat-icon.mat-icon.notranslate.material-icons.mat-icon-no-color[_ngcontent-%COMP%]{color:#858585;top:4px;position:relative}.searchCard.mat-card[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{padding:0 30px;width:110%;height:54px}.regionCard.mat-card[_ngcontent-%COMP%]{height:54px;margin-bottom:5px;margin-right:0;padding-left:15px;box-shadow:0 1px 7px 1px rgba(0,0,0,.03),0 3px 3px 1px rgba(0,0,0,.02),0 3px 8px 2px rgba(0,0,0,.01)}.nav-item[_ngcontent-%COMP%]{cursor:pointer}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:-6px;position:relative;margin-left:12px}.nav-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{top:1px;position:relative}']],data:{}});function jS(t){return xs(0,[(t()(),ss(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.errMessage)}))}function zS(t){return xs(0,[(t()(),ss(0,0,null,null,22,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,XE,YE)),gr(1,49152,[[23,4]],0,DE,[fn,[2,RE]],null,null),(t()(),ss(2,0,null,0,20,"mat-card",[["class","settings-card mat-card"]],[[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,4).onClick()&&i),i}),qv,Uv)),gr(3,49152,null,0,Wm,[[2,Fv]],null,null),gr(4,16384,null,0,Xd,[Yd,Uh,[8,null],_n,fn],{routerLink:[0,"routerLink"]},null),(t()(),ss(5,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),gr(6,16384,null,0,zm,[],null,null),(t()(),ss(7,0,null,0,15,"mat-card-content",[["class","countries-info mat-card-content"]],null,null,null,null,null)),gr(8,16384,null,0,jm,[],null,null),(t()(),ss(9,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ws(10,null,["",""])),(t()(),ss(11,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(12,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Population: "])),(t()(),ws(14,null,["",""])),(t()(),ss(15,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(16,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Region: "])),(t()(),ws(18,null,["",""])),(t()(),ss(19,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(20,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Capital: "])),(t()(),ws(22,null,["",""]))],(function(t,e){t(e,4,0,Ni(1,"/single-country/",e.context.$implicit.name,""))}),(function(t,e){t(e,2,0,"NoopAnimations"===ir(e,3)._animationMode),t(e,5,0,Ni(1,"",e.context.$implicit.flag,"")),t(e,10,0,e.context.$implicit.name),t(e,14,0,e.context.$implicit.population),t(e,18,0,e.context.$implicit.region),t(e,22,0,e.context.$implicit.capital)}))}function WS(t){return xs(0,[hs(402653184,1,{grid:0}),(t()(),ss(1,0,null,null,81,"div",[["class","tile"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,1,"ngx-spinner",[],null,null,null,px,cx)),gr(3,770048,null,0,lx,[ax,Re],null,null),(t()(),ss(4,0,null,null,70,"div",[["class",""]],null,null,null,null,null)),(t()(),ss(5,0,null,null,69,"div",[["class","row mb-5 justify-content-between"]],null,null,null,null,null)),(t()(),ss(6,0,null,null,26,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(t()(),ss(7,0,null,null,25,"mat-card",[["class","searchCard mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,qv,Uv)),gr(8,49152,null,0,Wm,[[2,Fv]],null,null),(t()(),ss(9,0,null,0,23,"form",[["class","form-inline my-2 my-lg-0"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==ir(t,11).onSubmit(n)&&i),"reset"===e&&(i=!1!==ir(t,11).onReset()&&i),i}),null,null)),gr(10,16384,null,0,W_,[],null,null),gr(11,4210688,null,0,F_,[[8,null],[8,null]],null,null),vr(2048,null,Qv,null,[F_]),gr(13,16384,null,0,Zv,[[4,Qv]],null,null),(t()(),ss(14,0,null,null,18,"div",[["class","dropdown"]],[[2,"open",null]],null,null,null,null)),(t()(),ss(15,0,null,null,17,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(16,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,2,{_controlNonStatic:0}),hs(335544320,3,{_controlStatic:0}),hs(603979776,4,{_labelChildNonStatic:0}),hs(335544320,5,{_labelChildStatic:0}),hs(603979776,6,{_placeholderChild:0}),hs(603979776,7,{_errorChildren:1}),hs(603979776,8,{_hintChildren:1}),hs(603979776,9,{_prefixChildren:1}),hs(603979776,10,{_suffixChildren:1}),(t()(),ss(26,0,null,0,3,"mat-icon",[["class","mat-icon notranslate"],["matPrefix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(27,16384,[[9,4]],0,Am,[],null,null),gr(28,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["search"])),(t()(),ss(30,0,[["searchTextBox",1]],1,2,"input",[["aria-expanded","false"],["aria-haspopup","true"],["class","src-input dropdown-toggle mat-input-element mat-form-field-autofill-control"],["data-toggle","dropdown"],["id","dropdownMenuButton"],["matInput",""],["name","search"],["placeholder","Search for a country..."],["type","search"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"keyup"],[null,"blur"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"blur"===e&&(i=!1!==ir(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==ir(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==ir(t,31)._onInput()&&i),"input"===e&&(i=!1!==r.filterCountries(ir(t,30).value)&&i),"keyup"===e&&(i=!1!==r.onKeyup(ir(t,30).value)&&i),i}),null,null)),gr(31,999424,null,0,Ab,[fn,Hp,[8,null],[2,F_],[2,Q_],Qf,[8,null],kb,vo],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),vr(2048,[[2,4],[3,4]],Tm,null,[Ab]),(t()(),ss(33,0,null,null,41,"div",[["class","col-sm-3 align-self-end"]],null,null,null,null,null)),(t()(),ss(34,0,null,null,40,"mat-card",[["class","regionCard mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,qv,Uv)),gr(35,49152,null,0,Wm,[[2,Fv]],null,null),(t()(),ss(36,0,null,0,38,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(37,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,11,{_controlNonStatic:0}),hs(335544320,12,{_controlStatic:0}),hs(603979776,13,{_labelChildNonStatic:0}),hs(335544320,14,{_labelChildStatic:0}),hs(603979776,15,{_placeholderChild:0}),hs(603979776,16,{_errorChildren:1}),hs(603979776,17,{_hintChildren:1}),hs(603979776,18,{_prefixChildren:1}),hs(603979776,19,{_suffixChildren:1}),(t()(),ss(47,0,null,3,2,"mat-label",[],null,null,null,null,null)),gr(48,16384,[[13,4],[14,4]],0,Mm,[],null,null),(t()(),ws(-1,null,["Filter by Region"])),(t()(),ss(50,0,null,1,24,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==ir(t,53)._handleKeydown(n)&&i),"focus"===e&&(i=!1!==ir(t,53)._onFocus()&&i),"blur"===e&&(i=!1!==ir(t,53)._onBlur()&&i),"ngModelChange"===e&&(i=!1!==(r.selectedValue=n)&&i),"ngModelChange"===e&&(i=!1!==r.onSelectedChange(n)&&i),i}),OS,CS)),gr(51,671744,null,0,z_,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),vr(2048,null,$v,null,[z_]),gr(53,2080768,null,3,bS,[Ex,Re,vo,Qf,fn,[2,Qm],[2,F_],[2,Q_],[2,qm],[6,$v],[8,null],mS,Rf],null,null),hs(603979776,20,{options:1}),hs(603979776,21,{optionGroups:1}),hs(603979776,22,{customTrigger:0}),gr(57,16384,null,0,Xv,[[4,$v]],null,null),vr(2048,[[11,4],[12,4]],Tm,null,[bS]),vr(2048,null,gm,null,[bS]),(t()(),ss(60,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","africa"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,61)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==ir(t,61)._handleKeydown(n)&&i),i}),MS,PS)),gr(61,8568832,[[20,4]],0,ym,[fn,Re,[2,gm],[2,pm]],{value:[0,"value"]},null),(t()(),ws(-1,0,["Africa"])),(t()(),ss(63,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","americas"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,64)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==ir(t,64)._handleKeydown(n)&&i),i}),MS,PS)),gr(64,8568832,[[20,4]],0,ym,[fn,Re,[2,gm],[2,pm]],{value:[0,"value"]},null),(t()(),ws(-1,0,["Americas"])),(t()(),ss(66,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","asia"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,67)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==ir(t,67)._handleKeydown(n)&&i),i}),MS,PS)),gr(67,8568832,[[20,4]],0,ym,[fn,Re,[2,gm],[2,pm]],{value:[0,"value"]},null),(t()(),ws(-1,0,["Asia"])),(t()(),ss(69,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","europe"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,70)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==ir(t,70)._handleKeydown(n)&&i),i}),MS,PS)),gr(70,8568832,[[20,4]],0,ym,[fn,Re,[2,gm],[2,pm]],{value:[0,"value"]},null),(t()(),ws(-1,0,["Europe"])),(t()(),ss(72,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","oceania"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,73)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==ir(t,73)._handleKeydown(n)&&i),i}),MS,PS)),gr(73,8568832,[[20,4]],0,ym,[fn,Re,[2,gm],[2,pm]],{value:[0,"value"]},null),(t()(),ws(-1,0,["Oceania"])),(t()(),os(16777216,null,null,1,null,jS)),gr(76,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(77,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["gutterSize","5vw"],["rowHeight","4:5"]],null,null,null,$E,GE)),vr(6144,null,RE,null,[KE]),gr(79,2211840,[[1,4],["grid",4]],1,KE,[fn,[2,Qm]],{gutterSize:[0,"gutterSize"],rowHeight:[1,"rowHeight"]},null),hs(603979776,23,{_tiles:1}),(t()(),os(16777216,null,0,1,null,zS)),gr(82,278528,null,0,Ja,[qn,Vn,Nn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0),t(e,28,0),t(e,31,0,"dropdownMenuButton","Search for a country...","search"),t(e,51,0,n.selectedValue),t(e,53,0),t(e,61,0,"africa"),t(e,64,0,"americas"),t(e,67,0,"asia"),t(e,70,0,"europe"),t(e,73,0,"oceania"),t(e,76,0,n.errMessage),t(e,79,0,"5vw","4:5"),t(e,82,0,n.Countries)}),(function(t,e){var n=e.component;t(e,7,0,"NoopAnimations"===ir(e,8)._animationMode),t(e,9,0,ir(e,13).ngClassUntouched,ir(e,13).ngClassTouched,ir(e,13).ngClassPristine,ir(e,13).ngClassDirty,ir(e,13).ngClassValid,ir(e,13).ngClassInvalid,ir(e,13).ngClassPending),t(e,14,0,!n.autocompleteBox.hide),t(e,15,1,["standard"==ir(e,16).appearance,"fill"==ir(e,16).appearance,"outline"==ir(e,16).appearance,"legacy"==ir(e,16).appearance,ir(e,16)._control.errorState,ir(e,16)._canLabelFloat,ir(e,16)._shouldLabelFloat(),ir(e,16)._hasFloatingLabel(),ir(e,16)._hideControlPlaceholder(),ir(e,16)._control.disabled,ir(e,16)._control.autofilled,ir(e,16)._control.focused,"accent"==ir(e,16).color,"warn"==ir(e,16).color,ir(e,16)._shouldForward("untouched"),ir(e,16)._shouldForward("touched"),ir(e,16)._shouldForward("pristine"),ir(e,16)._shouldForward("dirty"),ir(e,16)._shouldForward("valid"),ir(e,16)._shouldForward("invalid"),ir(e,16)._shouldForward("pending"),!ir(e,16)._animationsEnabled]),t(e,26,0,ir(e,28).inline,"primary"!==ir(e,28).color&&"accent"!==ir(e,28).color&&"warn"!==ir(e,28).color),t(e,30,0,ir(e,31)._isServer,ir(e,31).id,ir(e,31).placeholder,ir(e,31).disabled,ir(e,31).required,ir(e,31).readonly&&!ir(e,31)._isNativeSelect||null,ir(e,31)._ariaDescribedby||null,ir(e,31).errorState,ir(e,31).required.toString()),t(e,34,0,"NoopAnimations"===ir(e,35)._animationMode),t(e,36,1,["standard"==ir(e,37).appearance,"fill"==ir(e,37).appearance,"outline"==ir(e,37).appearance,"legacy"==ir(e,37).appearance,ir(e,37)._control.errorState,ir(e,37)._canLabelFloat,ir(e,37)._shouldLabelFloat(),ir(e,37)._hasFloatingLabel(),ir(e,37)._hideControlPlaceholder(),ir(e,37)._control.disabled,ir(e,37)._control.autofilled,ir(e,37)._control.focused,"accent"==ir(e,37).color,"warn"==ir(e,37).color,ir(e,37)._shouldForward("untouched"),ir(e,37)._shouldForward("touched"),ir(e,37)._shouldForward("pristine"),ir(e,37)._shouldForward("dirty"),ir(e,37)._shouldForward("valid"),ir(e,37)._shouldForward("invalid"),ir(e,37)._shouldForward("pending"),!ir(e,37)._animationsEnabled]),t(e,50,1,[ir(e,53).id,ir(e,53).tabIndex,ir(e,53)._getAriaLabel(),ir(e,53)._getAriaLabelledby(),ir(e,53).required.toString(),ir(e,53).disabled.toString(),ir(e,53).errorState,ir(e,53).panelOpen?ir(e,53)._optionIds:null,ir(e,53).multiple,ir(e,53)._ariaDescribedby||null,ir(e,53)._getAriaActiveDescendant(),ir(e,53).disabled,ir(e,53).errorState,ir(e,53).required,ir(e,53).empty,ir(e,57).ngClassUntouched,ir(e,57).ngClassTouched,ir(e,57).ngClassPristine,ir(e,57).ngClassDirty,ir(e,57).ngClassValid,ir(e,57).ngClassInvalid,ir(e,57).ngClassPending]),t(e,60,0,ir(e,61)._getTabIndex(),ir(e,61).selected,ir(e,61).multiple,ir(e,61).active,ir(e,61).id,ir(e,61)._getAriaSelected(),ir(e,61).disabled.toString(),ir(e,61).disabled),t(e,63,0,ir(e,64)._getTabIndex(),ir(e,64).selected,ir(e,64).multiple,ir(e,64).active,ir(e,64).id,ir(e,64)._getAriaSelected(),ir(e,64).disabled.toString(),ir(e,64).disabled),t(e,66,0,ir(e,67)._getTabIndex(),ir(e,67).selected,ir(e,67).multiple,ir(e,67).active,ir(e,67).id,ir(e,67)._getAriaSelected(),ir(e,67).disabled.toString(),ir(e,67).disabled),t(e,69,0,ir(e,70)._getTabIndex(),ir(e,70).selected,ir(e,70).multiple,ir(e,70).active,ir(e,70).id,ir(e,70)._getAriaSelected(),ir(e,70).disabled.toString(),ir(e,70).disabled),t(e,72,0,ir(e,73)._getTabIndex(),ir(e,73).selected,ir(e,73).multiple,ir(e,73).active,ir(e,73).id,ir(e,73)._getAriaSelected(),ir(e,73).disabled.toString(),ir(e,73).disabled)}))}class HS{constructor(t,e){this.themeService=t,this.countrieservice=e}ngOnInit(){this.isDarkTheme=this.themeService.isDarkTheme}loadCountries(){return this.countrieservice.getCountries().subscribe(t=>{this.Country=t})}}var KS=oi({encapsulation:0,styles:[[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.main[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px}"]],data:{}});function QS(t){return xs(0,[(t()(),ss(0,0,null,null,3,"div",[["class","content"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,2,"app-tile",[],null,null,null,WS,BS)),vr(512,null,RS,RS,[Yb]),gr(3,1097728,null,0,LS,[_E,qS,Yd,Uh,RS,ax],null,null)],null,null)}function GS(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-countries",[],null,null,null,QS,KS)),gr(1,114688,null,0,HS,[Aa,qS],null,null)],(function(t,e){t(e,1,0)}),null)}var $S=Ki("app-countries",HS,GS,{},{},[]);class YS{}class XS{}class ZS{constructor(t,e,n,i){this.activatedRoute=t,this.router=e,this.countriesService=n,this.themeService=i,this.country=new XS,this.countryC=new YS,this.countryN=new Array,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(t=>{t instanceof Nc&&(this.router.navigated=!1)})}ngOnInit(){this.activatedRoute.params.pipe(ou(t=>(this.name=t.name,this.countriesService.getCountry(this.name)))).subscribe(t=>{for(var e=0;e<length;e++)this.country=t[e];for(this.country=t[e],this.reg=this.country.regionalBlocs[e],this.currencies=this.country.currencies[e],this.languages=this.country.languages,this.borders=this.country.borders,e=0;e<this.borders.length;e++)this.border1=this.country.borders[e],this.alpha3Code=this.border1,this.getCountryBorders(this.alpha3Code)},t=>{console.log(t)}),this.isDarkTheme=this.themeService.isDarkTheme}getCountryBorders(t){this.activatedRoute.params.pipe(ou(e=>{for(var n=0;n<length;n++)this.borders[n]=e.alpha3Code;return this.countriesService.getBorders(t)})).subscribe(t=>{this.countryC=t,this.countryN.push(this.countryC.name)},t=>{console.log(t)})}goTo(t){this.mySubscription&&this.mySubscription.unsubscribe(),this.router.navigate(["/single-country/",t])}}var JS=oi({encapsulation:0,styles:[['.content[_ngcontent-%COMP%]{padding-top:50px}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-bottom:40px;padding:0 24px;font-size:12px;font-family:"Nunito Sans",sans-serif;height:31px;line-height:31px}.content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:18px;height:18px;color:#202c37;margin-right:3px}.content[_ngcontent-%COMP%]   .borderC[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.content[_ngcontent-%COMP%]   .bordC[_ngcontent-%COMP%]{width:27%}.content[_ngcontent-%COMP%]   .bCountriesL[_ngcontent-%COMP%]{margin-top:-5px}.content[_ngcontent-%COMP%]   .borderCountries[_ngcontent-%COMP%]{padding:0 10px;margin:4px 10px;display:inline-block;min-width:65px;text-align:center;font-size:12px;border-radius:3px;height:24px;line-height:24px;font-family:"Nunito Sans",sans-serif}.lang[_ngcontent-%COMP%]:after{position:relative;content:", "}.lang[_ngcontent-%COMP%]:last-child:after{display:none}']],data:{}});function tk(t){return xs(0,[(t()(),ss(0,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Currencies: "])),(t()(),ws(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component.currencies.code)}))}function ek(t){return xs(0,[(t()(),ss(0,0,null,null,2,"button",[["class","borderCountries"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goTo(t.context.$implicit)&&i),i}),Vw,Fw)),gr(1,180224,null,0,Dw,[fn,Ff,[2,Fv]],null,null),(t()(),ws(2,0,[" "," "]))],null,(function(t,e){t(e,0,0,ir(e,1).disabled||null,"NoopAnimations"===ir(e,1)._animationMode),t(e,2,0,e.context.$implicit)}))}function nk(t){return xs(0,[(t()(),ss(0,0,null,null,2,"div",[["class","bCountriesL"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,ek)),gr(2,278528,null,0,Ja,[qn,Vn,Nn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.countryN)}),null)}function ik(t){return xs(0,[(t()(),ss(0,0,null,null,54,"div",[["class","container"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,6,"button",[["class","back-btn"],["mat-raised-button",""],["routerLink","/countries/"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,3).onClick()&&i),i}),Vw,Fw)),gr(2,180224,null,0,Dw,[fn,Ff,[2,Fv]],null,null),gr(3,16384,null,0,Xd,[Yd,Uh,[8,null],_n,fn],{routerLink:[0,"routerLink"]},null),(t()(),ss(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(5,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["keyboard_backspace"])),(t()(),ws(-1,0,[" Back "])),(t()(),ss(8,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(t()(),ss(9,0,null,null,2,"div",[["class","col-sm-5 col-12"]],null,null,null,null,null)),(t()(),ss(10,0,null,null,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),gr(11,16384,null,0,zm,[],null,null),(t()(),ss(12,0,null,null,42,"div",[["class","col-sm-7 col-12"]],null,null,null,null,null)),(t()(),ss(13,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),ss(14,0,null,null,22,"div",[["class","col-sm-6 col-12"]],null,null,null,null,null)),(t()(),ss(15,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ws(16,null,["",""])),(t()(),ss(17,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(18,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Native Name: "])),(t()(),ws(20,null,["",""])),(t()(),ss(21,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(22,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Population: "])),(t()(),ws(24,null,["",""])),(t()(),ss(25,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(26,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Region: "])),(t()(),ws(28,null,["",""])),(t()(),ss(29,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(30,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Sub Region: "])),(t()(),ws(32,null,["",""])),(t()(),ss(33,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(34,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Capital: "])),(t()(),ws(36,null,["",""])),(t()(),ss(37,0,null,null,11,"div",[["class","col-sm-6 col-12"]],null,null,null,null,null)),(t()(),ss(38,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),ss(39,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Top Level Domain: "])),(t()(),ws(41,null,["",""])),(t()(),os(16777216,null,null,1,null,tk)),gr(43,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(44,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ss(45,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Languages: "])),(t()(),ss(47,0,null,null,1,"span",[["class","lang"]],null,null,null,null,null)),(t()(),ws(48,null,[" ",""])),(t()(),ss(49,0,null,null,5,"div",[["class","borderC"]],null,null,null,null,null)),(t()(),ss(50,0,null,null,2,"div",[["class","bordC"]],null,null,null,null,null)),(t()(),ss(51,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["Border Countries: "])),(t()(),os(16777216,null,null,1,null,nk)),gr(54,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,"/countries/"),t(e,5,0),t(e,43,0,n.currencies),t(e,54,0,n.country)}),(function(t,e){var n=e.component;t(e,1,0,ir(e,2).disabled||null,"NoopAnimations"===ir(e,2)._animationMode),t(e,4,0,ir(e,5).inline,"primary"!==ir(e,5).color&&"accent"!==ir(e,5).color&&"warn"!==ir(e,5).color),t(e,10,0,Ni(1,"",n.country.flag,"")),t(e,16,0,n.country.name),t(e,20,0,n.country.nativeName),t(e,24,0,n.country.population),t(e,28,0,n.country.region),t(e,32,0,n.country.subregion),t(e,36,0,n.country.capital),t(e,41,0,n.country.topLevelDomain),t(e,48,0,n.languages.name)}))}function rk(t){return xs(0,[(t()(),ss(0,0,null,null,11,"div",[],null,null,null,null,null)),vr(512,null,Ga,$a,[Nn,Rn,fn,_n]),gr(2,278528,null,0,Xa,[Ga],{ngClass:[0,"ngClass"]},null),yr(131072,dl,[Re]),_s(4,{"dark-theme":0}),gr(5,933888,null,0,kE,[fn,wE,CE,Ga,[6,Xa]],{ngClass:[0,"ngClass"]},null),yr(131072,dl,[Re]),_s(7,{"dark-theme":0}),(t()(),ss(8,0,null,null,3,"div",[["class","mat-app-background"]],null,null,null,null,null)),(t()(),ss(9,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,ik)),gr(11,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,4,0,ni(e,2,0,ir(e,3).transform(n.isDarkTheme)));t(e,2,0,i);var r=t(e,7,0,ni(e,5,0,ir(e,6).transform(n.isDarkTheme)));t(e,5,0,r),t(e,11,0,n.country)}),null)}function ok(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-single-country",[],null,null,null,rk,JS)),gr(1,114688,null,0,ZS,[Uh,Yd,qS,Aa],null,null)],(function(t,e){t(e,1,0)}),null)}var sk=Ki("app-single-country",ZS,ok,{},{},[]);class ak{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}class lk{constructor(t,e){this.authService=t,this.fb=e,this.passwordResetEmailFormControl=new N_("",[n_.required,n_.email]),this.matcher=new ak,this.resetPswForm=new R_({passwordResetEmailFormControl:new N_("")})}ngOnInit(){}onSubmit(){console.warn(this.passwordResetEmailFormControl.value)}}var uk=oi({encapsulation:0,styles:[[".sign-up[_ngcontent-%COMP%]{background-image:url(/assets/images/bg-01.jpg)}.sign-up[_ngcontent-%COMP%]   .signUp-card[_ngcontent-%COMP%]{margin:15px;padding:65px 30px 54px}.mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:20px}.mat-form-field-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.mat-input-element[_ngcontent-%COMP%]{padding-bottom:7px;color:rgba(0,0,0,.54)}mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:rgba(0,0,0,.54);caret-color:#3f51b5}.mat-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}mat-card[_ngcontent-%COMP%]{width:500px}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:42px;color:#333;line-height:1.2;font-weight:900;margin-bottom:50px}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background-repeat:no-repeat;background-position:center;background-size:cover}.wrap-login100[_ngcontent-%COMP%]{width:500px;background:#fff;border-radius:10px;overflow:hidden}.container-login100-form-btn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.wrap-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:block;position:relative;z-index:1;border-radius:25px;overflow:hidden;margin:0 auto;box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-moz-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-webkit-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-o-box-shadow:0 5px 30px 0 rgba(3,216,222,.2);-ms-box-shadow:0 5px 30px 0 rgba(3,216,222,.2)}.wrap-login100-form-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0;cursor:pointer}.login100-form-bgbtn[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:300%;height:100%;background:#a64bf4;background:linear-gradient(to right,#00dbde,#fc00ff,#00dbde,#fc00ff);top:0;left:-100%;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]{font-size:16px;color:#fff;line-height:1.2;text-transform:uppercase;display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:50px}.wrap-login100-form-btn[_ngcontent-%COMP%]:hover   .login100-form-bgbtn[_ngcontent-%COMP%]{left:0}.flex-c-m[_ngcontent-%COMP%]{display:flex;justify-content:center;-ms-align-items:center;align-items:center}.login100-social-item[_ngcontent-%COMP%]{font-size:25px;color:#fff;display:flex;justify-content:center;align-items:center;width:50px;height:50px;border-radius:50%;margin:5px}.bg1[_ngcontent-%COMP%]{background-color:#3b5998}.bg3[_ngcontent-%COMP%]{background-color:#ea4335}.login100-social-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#333}.flex-col-c[_ngcontent-%COMP%]{display:flex;-moz-flex-direction:column;-o-flex-direction:column;flex-direction:column;-ms-align-items:center;align-items:center}.p-t-155[_ngcontent-%COMP%]{padding-top:155px}.txt2[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#333;text-transform:uppercase}.txt2[_ngcontent-%COMP%]:hover{color:#0056b3}"]],data:{}});function ck(t){return xs(0,[(t()(),ss(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[6,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Please enter a valid email address "]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function hk(t){return xs(0,[(t()(),ss(0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),gr(1,16384,[[6,4]],0,km,[],null,null),(t()(),ws(-1,null,[" Email is "])),(t()(),ss(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(-1,null,["required"]))],null,(function(t,e){t(e,0,0,ir(e,1).id)}))}function dk(t){return xs(0,[(t()(),ss(0,0,null,null,55,"div",[["class","sign-up container-login100"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,54,"mat-card",[["class","signUp-card wrap-login100 mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,qv,Uv)),gr(2,49152,null,0,Wm,[[2,Fv]],null,null),(t()(),ss(3,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),ws(-1,null,["Reset Password"])),(t()(),ss(5,0,null,0,50,"form",[["class","signUp-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,r=t.component;return"submit"===e&&(i=!1!==ir(t,7).onSubmit(n)&&i),"reset"===e&&(i=!1!==ir(t,7).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.onSubmit()&&i),i}),null,null)),gr(6,16384,null,0,W_,[],null,null),gr(7,540672,null,0,Q_,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),vr(2048,null,Qv,null,[Q_]),gr(9,16384,null,0,Zv,[[4,Qv]],null,null),(t()(),ss(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ws(-1,null,["Please enter your email address to request a password reset."])),(t()(),ss(12,0,null,null,32,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,_b,ab)),gr(13,7520256,null,9,qm,[fn,Re,[2,bm],[2,Qm],[2,Um],Hp,vo,[2,Fv]],null,null),hs(603979776,1,{_controlNonStatic:0}),hs(335544320,2,{_controlStatic:0}),hs(603979776,3,{_labelChildNonStatic:0}),hs(335544320,4,{_labelChildStatic:0}),hs(603979776,5,{_placeholderChild:0}),hs(603979776,6,{_errorChildren:1}),hs(603979776,7,{_hintChildren:1}),hs(603979776,8,{_prefixChildren:1}),hs(603979776,9,{_suffixChildren:1}),(t()(),ss(23,0,[["passwordResetEmail",1]],1,9,"input",[["class","formControl mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Enter Your Email Address"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==ir(t,26)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==ir(t,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==ir(t,26)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==ir(t,30)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==ir(t,30)._focusChanged(!0)&&i),"input"===e&&(i=!1!==ir(t,30)._onInput()&&i),i}),null,null)),gr(24,16384,null,0,Z_,[],{required:[0,"required"]},null),vr(1024,null,t_,(function(t){return[t]}),[Z_]),gr(26,16384,null,0,Hv,[_n,fn,[2,Wv]],null,null),vr(1024,null,zv,(function(t){return[t]}),[Hv]),gr(28,540672,null,0,K_,[[6,t_],[8,null],[6,zv],[2,H_]],{form:[0,"form"]},null),vr(2048,null,$v,null,[K_]),gr(30,999424,null,0,Ab,[fn,Hp,[6,$v],[2,F_],[2,Q_],Qf,[8,null],kb,vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"],errorStateMatcher:[3,"errorStateMatcher"]},null),gr(31,16384,null,0,Xv,[[4,$v]],null,null),vr(2048,[[1,4],[2,4]],Tm,null,[Ab]),(t()(),ss(33,0,null,0,4,"span",[["matPrefix",""]],null,null,null,null,null)),gr(34,16384,[[8,4]],0,Am,[],null,null),(t()(),ss(35,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(36,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["perm_identity"])),(t()(),ss(38,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),gr(39,16384,[[7,4]],0,Im,[],null,null),(t()(),ws(-1,null,["Errors appear instantly!"])),(t()(),os(16777216,null,5,1,null,ck)),gr(42,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),os(16777216,null,5,1,null,hk)),gr(44,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(45,0,null,null,4,"div",[["class","container-login100-form-btn"]],null,null,null,null,null)),(t()(),ss(46,0,null,null,3,"div",[["class","wrap-login100-form-btn"]],null,null,null,null,null)),(t()(),ss(47,0,null,null,0,"div",[["class","login100-form-bgbtn"]],null,null,null,null,null)),(t()(),ss(48,0,null,null,1,"button",[["class","login100-form-btn"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.ForgotPassword(ir(t,23).value)&&i),i}),null,null)),(t()(),ws(-1,null,[" Reset Password "])),(t()(),ss(50,0,null,null,5,"div",[["class","flex-col-c p-t-155"]],null,null,null,null,null)),(t()(),ss(51,0,null,null,1,"span",[["class"," txt1 p-b-17 redirectToLogin"]],null,null,null,null,null)),(t()(),ws(-1,null,["Go back to?"])),(t()(),ss(53,0,null,null,2,"a",[["class","txt2 redirect"],["href","#"],["routerLink","/sign-in"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,54).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),gr(54,671744,null,0,Zd,[Yd,Uh,La],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,[" Log In"]))],(function(t,e){var n=e.component;t(e,7,0,n.resetPswForm),t(e,24,0,""),t(e,28,0,n.passwordResetEmailFormControl),t(e,30,0,"Enter Your Email Address","","email",n.matcher),t(e,36,0),t(e,42,0,n.passwordResetEmailFormControl.hasError("email")&&!n.passwordResetEmailFormControl.hasError("required")),t(e,44,0,n.passwordResetEmailFormControl.hasError("required")),t(e,54,0,"/sign-in")}),(function(t,e){var n=e.component;t(e,1,0,"NoopAnimations"===ir(e,2)._animationMode),t(e,5,0,ir(e,9).ngClassUntouched,ir(e,9).ngClassTouched,ir(e,9).ngClassPristine,ir(e,9).ngClassDirty,ir(e,9).ngClassValid,ir(e,9).ngClassInvalid,ir(e,9).ngClassPending),t(e,12,1,["standard"==ir(e,13).appearance,"fill"==ir(e,13).appearance,"outline"==ir(e,13).appearance,"legacy"==ir(e,13).appearance,ir(e,13)._control.errorState,ir(e,13)._canLabelFloat,ir(e,13)._shouldLabelFloat(),ir(e,13)._hasFloatingLabel(),ir(e,13)._hideControlPlaceholder(),ir(e,13)._control.disabled,ir(e,13)._control.autofilled,ir(e,13)._control.focused,"accent"==ir(e,13).color,"warn"==ir(e,13).color,ir(e,13)._shouldForward("untouched"),ir(e,13)._shouldForward("touched"),ir(e,13)._shouldForward("pristine"),ir(e,13)._shouldForward("dirty"),ir(e,13)._shouldForward("valid"),ir(e,13)._shouldForward("invalid"),ir(e,13)._shouldForward("pending"),!ir(e,13)._animationsEnabled]),t(e,23,1,[ir(e,24).required?"":null,ir(e,30)._isServer,ir(e,30).id,ir(e,30).placeholder,ir(e,30).disabled,ir(e,30).required,ir(e,30).readonly&&!ir(e,30)._isNativeSelect||null,ir(e,30)._ariaDescribedby||null,ir(e,30).errorState,ir(e,30).required.toString(),ir(e,31).ngClassUntouched,ir(e,31).ngClassTouched,ir(e,31).ngClassPristine,ir(e,31).ngClassDirty,ir(e,31).ngClassValid,ir(e,31).ngClassInvalid,ir(e,31).ngClassPending]),t(e,35,0,ir(e,36).inline,"primary"!==ir(e,36).color&&"accent"!==ir(e,36).color&&"warn"!==ir(e,36).color),t(e,38,0,"end"==ir(e,39).align,ir(e,39).id,null),t(e,48,0,!n.resetPswForm.valid),t(e,53,0,ir(e,54).target,ir(e,54).href)}))}function pk(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-forgot-password",[],null,null,null,dk,uk)),gr(1,114688,null,0,lk,[vC,tb],null,null)],(function(t,e){t(e,1,0)}),null)}var fk=Ki("app-forgot-password",lk,pk,{},{},[]);class mk{constructor(t){this.authService=t}ngOnInit(){}}var gk=oi({encapsulation:0,styles:[[""]],data:{}});function yk(t){return xs(0,[(t()(),ss(0,0,null,null,7,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,4,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),ws(-1,null,["We have sent a confirmation email to "])),(t()(),ss(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ws(4,null,["",""])),(t()(),ws(-1,null,["."])),(t()(),ss(6,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),ws(-1,null,["Please check your email and click on the link to verfiy your email address."]))],null,(function(t,e){t(e,4,0,e.context.ngIf.email)}))}function vk(t){return xs(0,[(t()(),ss(0,0,null,null,16,"div",[["class","displayTable"]],null,null,null,null,null)),(t()(),ss(1,0,null,null,15,"div",[["class","displayTableCell"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,8,"div",[["class","authBlock"]],null,null,null,null,null)),(t()(),ss(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ws(-1,null,["Thank You for Registering"])),(t()(),os(16777216,null,null,1,null,yk)),gr(6,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(7,0,null,null,3,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),ss(8,0,null,null,2,"button",[["class","btn btnPrimary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SendVerificationMail()&&i),i}),null,null)),(t()(),ss(9,0,null,null,0,"i",[["class","fas fa-redo-alt"]],null,null,null,null,null)),(t()(),ws(-1,null,[" Resend Verification Email "])),(t()(),ss(11,0,null,null,5,"div",[["class","redirectToLogin"]],null,null,null,null,null)),(t()(),ss(12,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["Go back to?"])),(t()(),ss(14,0,null,null,2,"span",[["class","redirect"],["routerLink","/sign-in"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,15).onClick()&&i),i}),null,null)),gr(15,16384,null,0,Xd,[Yd,Uh,[8,null],_n,fn],{routerLink:[0,"routerLink"]},null),(t()(),ws(-1,null,[" Sign in"]))],(function(t,e){t(e,6,0,e.component.authService.userData),t(e,15,0,"/sign-in")}),null)}function _k(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-verify-email",[],null,null,null,vk,gk)),gr(1,114688,null,0,mk,[vC],null,null)],(function(t,e){t(e,1,0)}),null)}var bk=Ki("app-verify-email",mk,_k,{},{},[]);class wk{constructor(t){this._elementRef=t}}const Ck=jf(wk);class Ek extends Ck{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){oe()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class xk{}var Sk=oi({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function kk(t){return xs(2,[gs(null,0),gs(null,1)],null,null)}const Tk=new Tt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,disableDragValue:!1})});let Ok=0;class Pk{constructor(t,e){this.source=t,this.checked=e}}class Ik{constructor(t){this._elementRef=t}}const Mk=Wf(jf(zf(Bf(Ik)),"accent"));class Ak extends Mk{constructor(t,e,n,i,r,o,s,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._ngZone=r,this.defaults=o,this._animationMode=s,this._dir=a,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId=`mat-slide-toggle-${++Ok}`,this._required=!1,this._checked=!1,this._dragging=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Br,this.toggleChange=new Br,this.dragChange=new Br,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=Fp(t)}get checked(){return this._checked}set checked(t){this._checked=Fp(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Pk(this,this.checked))}_getDragPercentage(t){let e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))}_onDragStart(){if(!this.disabled&&!this._dragging){const t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}}_onDrag(t){if(this._dragging){const e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform=`translate3d(${this._dragPercentage/100*this._thumbBarWidth*e}px, 0, 0)`}}_onDragEnd(){if(this._dragging){const t=this._dragPercentage>50;t!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=t,this._emitChangeEvent())),this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._dragging&&(this._dragging=!1,this._thumbEl.nativeElement.classList.remove("mat-dragging"),this._thumbEl.nativeElement.style.transform="")}))}}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}class Nk{}class Rk{}var Dk=oi({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging{transition-duration:0s}.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],data:{}});function Lk(t){return xs(2,[hs(671088640,1,{_thumbEl:0}),hs(671088640,2,{_thumbBarEl:0}),hs(671088640,3,{_inputElement:0}),(t()(),ss(3,0,[["label",1]],null,13,"label",[["class","mat-slide-toggle-label"]],[[1,"for",0]],null,null,null,null)),(t()(),ss(4,0,[[2,0],["toggleBar",1]],null,7,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(t()(),ss(5,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["role","switch"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-checked",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"change"===e&&(i=!1!==r._onChangeEvent(n)&&i),"click"===e&&(i=!1!==r._onInputClick(n)&&i),i}),null,null)),(t()(),ss(6,0,[[1,0],["thumbContainer",1]],null,5,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],(function(t,e,n){var i=!0,r=t.component;return"slidestart"===e&&(i=!1!==r._onDragStart()&&i),"slide"===e&&(i=!1!==r._onDrag(n)&&i),"slideend"===e&&(i=!1!==r._onDragEnd()&&i),i}),null,null)),(t()(),ss(7,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(t()(),ss(8,0,null,null,3,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),gr(9,212992,null,0,sm,[fn,vo,Hp,[2,om],[2,Fv]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),_s(10,{enterDuration:0}),(t()(),ss(11,0,null,null,0,"div",[["class","mat-ripple-element mat-slide-toggle-persistent-ripple"]],null,null,null,null,null)),(t()(),ss(12,0,[["labelContent",1]],null,4,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component._onLabelTextChange()&&i),i}),null,null)),gr(13,1196032,null,0,ob,[rb,fn,vo],null,{event:"cdkObserveContent"}),(t()(),ss(14,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(t()(),ws(-1,null,["\xa0"])),gs(null,0)],(function(t,e){var n=e.component,i=t(e,10,0,150);t(e,9,0,!0,20,i,n.disableRipple||n.disabled,ir(e,3))}),(function(t,e){var n=e.component;t(e,3,0,n.inputId),t(e,4,0,!ir(e,12).textContent||!ir(e,12).textContent.trim()),t(e,5,0,n.inputId,n.required,n.tabIndex,n.checked,n.disabled,n.name,n.checked.toString(),n.ariaLabel,n.ariaLabelledby),t(e,8,0,ir(e,9).unbounded)}))}function Fk(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const Vk=new Tt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}});class Uk extends bx{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}class qk{constructor(t,e,n,i,r,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new Br(!0),this._destroyed=new T,this.onPositionChanged=new Br,this._modeChanged=new T,this._opened=!1,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{wm(this._elementRef.nativeElement,"keydown").pipe(Nl(t=>t.keyCode===nf&&!this.disableClose&&!mf(t)),Cm(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(mx((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Fp(t)}get autoFocus(){return this._autoFocus}set autoFocus(t){this._autoFocus=Fp(t)}get _openedStream(){return this.openedChange.pipe(Nl(t=>t),j(()=>{}))}get openedStart(){return this._animationStarted.pipe(Nl(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),j(()=>{}))}get _closedStream(){return this.openedChange.pipe(Nl(t=>!t),j(()=>{}))}get closedStart(){return this._animationStarted.pipe(Nl(t=>t.fromState!==t.toState&&"void"===t.toState),j(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}get opened(){return this._opened}set opened(t){this.toggle(Fp(t))}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Jl(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}class Bk{constructor(t,e,n,i,r,o=!1,s){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=s,this.backdropClick=new Br,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(Cm(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(Cm(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Fp(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Fp(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._drawers.changes.pipe(lu(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(wf(10),Cm(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}e=e||null,(t=t||null)===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Nl(t=>t.fromState!==t.toState),Cm(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Cm(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Cm(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Jl(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Cm(Z(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&Fk("end"),this._end=t):(null!=this._start&&Fk("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}class jk extends Uk{constructor(t,e,n,i,r){super(t,e,n,i,r)}}class zk extends qk{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Fp(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Vp(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Vp(t)}}class Wk extends Bk{}class Hk{}var Kk=oi({encapsulation:2,styles:[],data:{}});function Qk(t){return xs(2,[gs(null,0)],null,null)}var Gk=oi({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function $k(t){return xs(2,[(t()(),ss(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),gs(null,0)],null,null)}var Yk=oi({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function Xk(t){return xs(0,[(t()(),ss(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._onBackdropClicked()&&i),i}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function Zk(t){return xs(0,[(t()(),ss(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Qk,Kk)),gr(1,212992,null,0,bx,[fn,_x,vo,[2,Qm]],null,null),gr(2,1294336,null,0,jk,[Re,Wk,fn,_x,vo],null,null),gs(0,2)],(function(t,e){t(e,1,0),t(e,2,0)}),(function(t,e){t(e,0,0,ir(e,2)._container._contentMargins.left,ir(e,2)._container._contentMargins.right)}))}function Jk(t){return xs(2,[hs(671088640,1,{_userContent:0}),(t()(),os(16777216,null,null,1,null,Xk)),gr(2,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),gs(null,0),gs(null,1),(t()(),os(16777216,null,null,1,null,Zk)),gr(6,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}class tT{constructor(t,e){this.themeService=t,this.authService=e}ngOnInit(){this.isDarkTheme=this.themeService.isDarkTheme}toggleDarkTheme(t){this.themeService.setDarkTheme(t)}isAuthenticated(){return!!this.authService.isLoggedIn}}var eT=oi({encapsulation:0,styles:[[".mat-toolbar[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px;border-bottom:3px solid rgba(80,80,80,.06)}.mat-toolbar[_ngcontent-%COMP%]   .example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:-6px;position:relative;margin-left:12px}.mat-toolbar[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{top:-6px;position:relative}"]],data:{}});function nT(t){return xs(0,[(t()(),ss(0,0,null,null,16,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,kk,Sk)),gr(1,4243456,null,1,Ek,[fn,Hp,fl],{color:[0,"color"]},null),hs(603979776,1,{_toolbarRows:1}),(t()(),ss(3,0,null,0,4,"button",[["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Vw,Fw)),gr(4,180224,null,0,Dw,[fn,Ff,[2,Fv]],null,null),(t()(),ss(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t.parent,16).toggle()&&i),i}),Iw,Pw)),gr(6,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["menu"])),(t()(),ss(8,0,null,0,1,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["Where in the world?"])),(t()(),ss(10,0,null,0,0,"span",[["class","example-fill-remaining-space"]],null,null,null,null,null)),(t()(),ss(11,0,null,0,5,"span",[],null,null,null,null,null)),(t()(),ss(12,0,null,null,4,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"focus"===e&&(i=!1!==ir(t,14)._inputElement.nativeElement.focus()&&i),"change"===e&&(i=!1!==r.toggleDarkTheme(n.checked)&&i),i}),Lk,Dk)),vr(5120,null,zv,(function(t){return[t]}),[Ak]),gr(14,1228800,null,0,Ak,[fn,Ff,Re,[8,null],vo,Tk,[2,Fv],[2,Qm]],{checked:[0,"checked"]},{change:"change"}),yr(131072,dl,[Re]),(t()(),ws(-1,0,[" Dark Mode "]))],(function(t,e){var n=e.component;t(e,1,0,"primary"),t(e,6,0),t(e,14,0,ni(e,14,0,ir(e,15).transform(n.isDarkTheme)))}),(function(t,e){t(e,0,0,ir(e,1)._toolbarRows.length>0,0===ir(e,1)._toolbarRows.length),t(e,3,0,ir(e,4).disabled||null,"NoopAnimations"===ir(e,4)._animationMode),t(e,5,0,ir(e,6).inline,"primary"!==ir(e,6).color&&"accent"!==ir(e,6).color&&"warn"!==ir(e,6).color),t(e,12,0,ir(e,14).id,ir(e,14).disabled?null:-1,null,null,ir(e,14).checked,ir(e,14).disabled,"before"==ir(e,14).labelPosition,"NoopAnimations"===ir(e,14)._animationMode)}))}function iT(t){return xs(0,[(t()(),ss(0,0,null,null,26,"div",[["class",""]],null,null,null,null,null)),(t()(),ss(1,0,null,null,25,"ul",[["class","nav flex-column"]],null,null,null,null,null)),(t()(),ss(2,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ss(3,0,null,null,7,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),gr(4,671744,null,0,Zd,[Yd,Uh,La],{routerLink:[0,"routerLink"]},null),vs(5,1),(t()(),ss(6,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(7,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["wallpaper"])),(t()(),ss(9,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["Countries"])),(t()(),ss(11,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ss(12,0,null,null,7,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==ir(t,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),gr(13,671744,null,0,Zd,[Yd,Uh,La],{routerLink:[0,"routerLink"]},null),vs(14,1),(t()(),ss(15,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(16,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["person_outline"])),(t()(),ss(18,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["User Profile"])),(t()(),ss(20,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),ss(21,0,null,null,5,"a",[["class","nav-link"],["href",""]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignOut()&&i),i}),null,null)),(t()(),ss(22,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Iw,Pw)),gr(23,9158656,null,0,Tw,[fn,vw,[8,null],[2,Ew],[2,ne]],null,null),(t()(),ws(-1,0,["exit_to_app"])),(t()(),ss(25,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ws(-1,null,["Sign out"]))],(function(t,e){var n=t(e,5,0,"/countries");t(e,4,0,n),t(e,7,0);var i=t(e,14,0,"/dashboard");t(e,13,0,i),t(e,16,0),t(e,23,0)}),(function(t,e){t(e,3,0,ir(e,4).target,ir(e,4).href),t(e,6,0,ir(e,7).inline,"primary"!==ir(e,7).color&&"accent"!==ir(e,7).color&&"warn"!==ir(e,7).color),t(e,12,0,ir(e,13).target,ir(e,13).href),t(e,15,0,ir(e,16).inline,"primary"!==ir(e,16).color&&"accent"!==ir(e,16).color&&"warn"!==ir(e,16).color),t(e,22,0,ir(e,23).inline,"primary"!==ir(e,23).color&&"accent"!==ir(e,23).color&&"warn"!==ir(e,23).color)}))}function rT(t){return xs(0,[(t()(),ss(0,0,null,null,22,"div",[],null,null,null,null,null)),vr(512,null,Ga,$a,[Nn,Rn,fn,_n]),gr(2,278528,null,0,Xa,[Ga],{ngClass:[0,"ngClass"]},null),yr(131072,dl,[Re]),_s(4,{"dark-theme":0}),gr(5,933888,null,0,kE,[fn,wE,CE,Ga,[6,Xa]],{ngClass:[0,"ngClass"]},null),yr(131072,dl,[Re]),_s(7,{"dark-theme":0}),(t()(),ss(8,0,null,null,14,"div",[["class","mat-app-background"]],null,null,null,null,null)),(t()(),os(16777216,null,null,1,null,nT)),gr(10,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(11,0,null,null,11,"mat-sidenav-container",[["class","example-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Jk,Yk)),gr(12,1490944,null,2,Wk,[[2,Qm],fn,vo,Re,Ex,Vk,[2,Fv]],null,null),hs(603979776,2,{_drawers:1}),hs(603979776,3,{_content:0}),(t()(),ss(15,0,null,0,3,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["mode","over"],["role","navigation"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[[null,"openedChange"],["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var i=!0,r=t.component;return"component:@transform.start"===e&&(i=!1!==ir(t,16)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==ir(t,16)._animationDoneListener(n)&&i),"openedChange"===e&&(i=!1!==(r.opened=n)&&i),i}),$k,Gk)),gr(16,3325952,[[2,4],["drawer",4]],0,zk,[fn,Mf,Ff,Hp,vo,[2,fl]],{mode:[0,"mode"],opened:[1,"opened"]},{openedChange:"openedChange"}),(t()(),os(16777216,null,0,1,null,iT)),gr(18,16384,null,0,el,[qn,Vn],{ngIf:[0,"ngIf"]},null),(t()(),ss(19,0,null,1,3,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Qk,Kk)),gr(20,1294336,[[3,4]],0,jk,[Re,Wk,fn,_x,vo],null,null),(t()(),ss(21,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),gr(22,212992,null,0,np,[ep,qn,cn,[8,null],Re],null,null)],(function(t,e){var n=e.component,i=t(e,4,0,ni(e,2,0,ir(e,3).transform(n.isDarkTheme)));t(e,2,0,i);var r=t(e,7,0,ni(e,5,0,ir(e,6).transform(n.isDarkTheme)));t(e,5,0,r),t(e,10,0,n.isAuthenticated()),t(e,12,0),t(e,16,0,"over",n.opened),t(e,18,0,n.isAuthenticated()),t(e,20,0),t(e,22,0)}),(function(t,e){t(e,11,0,ir(e,12)._backdropOverride),t(e,15,0,null,"end"===ir(e,16).position,"over"===ir(e,16).mode,"push"===ir(e,16).mode,"side"===ir(e,16).mode,ir(e,16).opened,ir(e,16).fixedInViewport,ir(e,16).fixedInViewport?ir(e,16).fixedTopGap:null,ir(e,16).fixedInViewport?ir(e,16).fixedBottomGap:null,ir(e,16)._animationState),t(e,19,0,ir(e,20)._container._contentMargins.left,ir(e,20)._container._contentMargins.right)}))}var oT=oi({encapsulation:0,styles:[[""]],data:{}});function sT(t){return xs(0,[(t()(),ss(0,0,null,null,1,"app-toolbar",[],null,null,null,rT,eT)),gr(1,114688,null,0,tT,[Aa,vC],null,null)],(function(t,e){t(e,1,0)}),null)}function aT(t){return xs(0,[(t()(),ss(0,0,null,null,2,"app-root",[],null,null,null,sT,oT)),vr(512,null,Aa,Aa,[]),gr(2,114688,null,0,Na,[Aa],null,null)],(function(t,e){t(e,2,0)}),null)}var lT=Ki("app-root",Na,aT,{},{},[]);class uT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new cT(t,this.delay,this.scheduler))}}class cT extends m{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(cT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new hT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(ZE.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(ZE.createComplete()),this.unsubscribe()}}class hT{constructor(t,e){this.time=t,this.notification=e}}const dT=new Tt("mat-autocomplete-scroll-strategy");function pT(t){return()=>t.scrollStrategies.reposition()}class fT{}var mT;n("6Joi");let gT=mT=class{static enablePersistence(t){return{ngModule:mT,providers:[{provide:cC,useValue:!0},{provide:hC,useValue:t}]}}};var yT=n("wj3C"),vT=n.n(yT);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e((function(t,e){r=t,o=e}));return this.Ja(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=r(t),s=i.next();!s.done;s=i.next())o(s.value).Ja(e,n)}))},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e((function(t,e){function r(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(i.value).Ja(r(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var o=o||{},s=this||self;function a(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function f(t){return"array"==d(t)}function m(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),_=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var x=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.fd=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function T(t){if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");T.call(this,n+t[i])}function P(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function I(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function A(){this.b=this.a=null}S(T,Error),T.prototype.name="CustomError",S(O,T),O.prototype.name="AssertionError",I.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var N=new I((function(){return new D}),(function(t){t.reset()}));function R(){var t=Bt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function D(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||s).Element&&i.Location){var r=i;break t}}catch(a){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}A.prototype.add=function(t,e){var n=N.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},D.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},D.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=a(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r=a(t)?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=a(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function B(t,e){return 0<=F(t,e)}function j(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=a(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)}))}function W(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function K(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Q(t){for(var e in t)return!1;return!0}function G(t){var e,n={};for(e in t)n[e]=t[e];return n}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function X(t,e){this.a=t===tt&&e||"",this.b=J}function Z(t){return t instanceof X&&t.constructor===X&&t.b===J?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}X.prototype.qa=!0,X.prototype.pa=function(){return this.a},X.prototype.toString=function(){return"Const{"+this.a+"}"};var J={},tt={},et=new X(tt,"");function nt(){this.a="",this.b=at}function it(t){return t instanceof nt&&t.constructor===nt&&t.b===at?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function rt(t,e){var n=Z(t);if(!st.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return lt(t=n.replace(ot,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof X?Z(t):encodeURIComponent(String(t))})))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,st=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,at={};function lt(t){var e=new nt;return e.a=t,e}var ut=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,dt=/>/g,pt=/"/g,ft=/'/g,mt=/\x00/g,gt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function vt(t,e){return t<e?-1:t>e?1:0}function _t(){this.a="",this.b=xt}function bt(t){return t instanceof _t&&t.constructor===_t&&t.b===xt?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}_t.prototype.qa=!0,_t.prototype.pa=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof _t?t:(t="object"==typeof t&&t.qa?t.pa():String(t),wt.test(t)||(t="about:invalid#zClosurez"),St(t))}var Et,xt={};function St(t){var e=new _t;return e.a=t,e}St("about:blank");t:{var kt=s.navigator;if(kt){var Tt=kt.userAgent;if(Tt){Et=Tt;break t}}Et=""}function Ot(t){return yt(Et,t)}function Pt(){this.a="",this.b=Mt}function It(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Mt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Pt.prototype.qa=!0,Pt.prototype.pa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function At(t){var e=new Pt;return e.a=t,e}At("<!DOCTYPE html>");var Nt,Rt,Dt=At("");function Lt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Ft(t){return gt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ft,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(mt,"&#0;"))),t}function Vt(t){s.setTimeout((function(){throw t}),0)}function Ut(t,e){Rt||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);Rt=function(){t.then(jt)}}else Rt=function(){var t=jt;!g(s.setImmediate)||s.Window&&s.Window.prototype&&!Ot("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(Nt||(Nt=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ot("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=lt(Z(et));L(t,"HTMLIFrameElement"),t.src=it(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(It(Dt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!Ot("Trident")&&!Ot("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){i.next={yb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){s.setTimeout(t,0)}}()),Nt(t)):s.setImmediate(t)}}(),qt||(Rt(),qt=!0),Bt.add(t,e)}At("<br>");var qt=!1,Bt=new A;function jt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){Vt(e)}M(N,t)}qt=!1}function zt(t,e){if(this.a=Wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){ne(n,Ht,t)}),(function(t){if(!(t instanceof ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,Kt,t)}))}catch(i){ne(this,Kt,i)}}var Wt=0,Ht=2,Kt=3;function Qt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Gt=new I((function(){return new Qt}),(function(t){t.reset()}));function $t(t,e,n){var i=Gt.get();return i.g=t,i.b=e,i.f=n,i}function Yt(t){if(t instanceof zt)return t;var e=new zt(h);return ne(e,Ht,t),e}function Xt(t){return new zt((function(e,n){n(t)}))}function Zt(t,e,n){ie(t,e,n,null)||Ut(E(e,t))}function Jt(t){return new zt((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Zt(t[o],E(r,o,!0),E(r,o,!1));else e(i)}))}function te(t,e){t.b||t.a!=Ht&&t.a!=Kt||re(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,i){var r=$t(null,null,null);return r.a=new zt((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof ue?o(e):t(r)}catch(s){o(s)}}:o})),r.a.c=t,te(t,r),r.a}function ne(t,e,n){t.a==Wt&&(t===n&&(e=Kt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ie(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,re(t),e!=Kt||n instanceof ue||function(t,e){t.g=!0,Ut((function(){t.g&&le.call(null,e)}))}(t,n)))}function ie(t,e,n,i){if(t instanceof zt)return te(t,$t(e||h,n||null,i)),!0;if(k(t))return t.then(e,n,i),!0;if(y(t))try{var r=t.then;if(g(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(r,t))}),o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function re(t){t.h||(t.h=!0,Ut(t.Zb,t))}function oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function se(t,e,n,i){if(n==Kt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ae(e,n,i);else try{e.c?e.g.call(e.f):ae(e,n,i)}catch(r){le.call(null,r)}M(Gt,e)}function ae(t,e,n){e==Ht?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}zt.prototype.then=function(t,e,n){return ee(this,g(t)?t:null,g(e)?e:null,n)},zt.prototype.$goog_Thenable=!0,(t=zt.prototype).ka=function(t,e){return(t=$t(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Wt&&Ut((function(){!function t(e,n){if(e.a==Wt)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,s=null,a=i.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(s=a);o&&(i.a==Wt&&1==r?t(i,n):(s?((r=s).next==i.f&&(i.f=r),r.next=r.next.next):oe(i),se(i,o,Kt,n)))}e.c=null}else ne(e,Kt,n)}(this,new ue(t))}),this)},t.Oc=function(t){this.a=Wt,ne(this,Ht,t)},t.Pc=function(t){this.a=Wt,ne(this,Kt,t)},t.Zb=function(){for(var t;t=oe(this);)se(this,t,this.a,this.i);this.h=!1};var le=Vt;function ue(t){T.call(this,t)}function ce(){0!=he&&(de[this[v]||(this[v]=++_)]=this),this.ta=this.ta,this.la=this.la}S(ue,T),ue.prototype.name="cancel";var he=0,de={};function pe(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=he)){var e=t[v]||(t[v]=++_);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete de[e]}}function fe(t){return fe[" "](t),t}ce.prototype.ta=!1,ce.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=h;var me,ge,ye=Ot("Opera"),ve=Ot("Trident")||Ot("MSIE"),_e=Ot("Edge"),be=_e||ve,we=Ot("Gecko")&&!(yt(Et.toLowerCase(),"webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),Ce=yt(Et.toLowerCase(),"webkit")&&!Ot("Edge");function Ee(){var t=s.document;return t?t.documentMode:void 0}t:{var xe="",Se=(ge=Et,we?/rv:([^\);]+)(\)|;)/.exec(ge):_e?/Edge\/([\d\.]+)/.exec(ge):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ge):Ce?/WebKit\/(\S+)/.exec(ge):ye?/(?:Version)[ \/]?(\S+)/.exec(ge):void 0);if(Se&&(xe=Se?Se[1]:""),ve){var ke=Ee();if(null!=ke&&ke>parseFloat(xe)){me=String(ke);break t}}me=xe}var Te,Oe={};function Pe(t){return function(t,e){var n=Oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=ut(String(me)).split("."),i=ut(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=vt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||vt(0==s[2].length,0==a[2].length)||vt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}Te=s.document&&ve?Ee():void 0;var Ie=Object.freeze||function(t){return t},Me=!ve||9<=Number(Te),Ae=ve&&!Pe("9"),Ne=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Re(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function De(t,e){if(Re.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(we){t:{try{fe(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:Le[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Re.prototype.preventDefault=function(){this.Mb=!1},S(De,Re);var Le=Ie({2:"touch",3:"pen",4:"mouse"});De.prototype.preventDefault=function(){De.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ae)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},De.prototype.f=function(){return this.a};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Ue(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Na=r,this.key=++Ve,this.ra=this.Ia=!1}function qe(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function Be(t){this.src=t,this.a={},this.b=0}function je(t,e){var n=e.type;n in t.a&&j(t.a[n],e)&&(qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ze(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==i)return r}return-1}Be.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ze(t,e,i,r);return-1<s?(e=t[s],n||(e.Ia=!1)):((e=new Ue(e,this.src,o,!!i,r)).Ia=n,t.push(e)),e};var We="closure_lm_"+(1e6*Math.random()|0),He={};function Ke(t,e,n,i,r){if(i&&i.once)Ge(t,e,n,i,r);else if(f(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,i,r);else n=rn(n),t&&t[Fe]?sn(t,e,n,y(i)?!!i.capture:!!i,r):Qe(t,e,n,!1,i,r)}function Qe(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=y(r)?!!r.capture:!!r,a=en(t);if(a||(t[We]=a=new Be(t)),!(n=a.add(e,n,i,s,o)).proxy)if(i=function(){var t=tn,e=Me?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ne||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Xe(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function Ge(t,e,n,i,r){if(f(e))for(var o=0;o<e.length;o++)Ge(t,e[o],n,i,r);else n=rn(n),t&&t[Fe]?an(t,e,n,y(i)?!!i.capture:!!i,r):Qe(t,e,n,!0,i,r)}function $e(t,e,n,i,r){if(f(e))for(var o=0;o<e.length;o++)$e(t,e[o],n,i,r);else i=y(i)?!!i.capture:!!i,n=rn(n),t&&t[Fe]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=ze(o=t.a[e],n,i,r))&&(qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ze(e,n,i,r)),(n=-1<t?e[t]:null)&&Ye(n))}function Ye(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Fe])je(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Xe(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=en(e))?(je(n,t),0==n.b&&(n.src=null,e[We]=null)):qe(t)}}}function Xe(t){return t in He?He[t]:He[t]="on"+t}function Ze(t,e,n,i){var r=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=Je(o,i),r=r&&!1!==o)}return r}function Je(t,e){var n=t.listener,i=t.Na||t.src;return t.Ia&&Ye(t),n.call(i,e)}function tn(t,e){if(t.ra)return!0;if(!Me){if(!e)t:{e=["window","event"];for(var n=s,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new De(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(a){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=Ze(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=Ze(i[r],t,!1,e),n=n&&o}return n}return Je(t,new De(e,this))}function en(t){return(t=t[We])instanceof Be?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return g(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function on(){ce.call(this),this.u=new Be(this),this.Sb=this,this.Wa=null}function sn(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function an(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function ln(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ra&&s.capture==n){var a=s.listener,l=s.Na||s.src;s.Ia&&je(t.u,s),r=!1!==a.call(l,i)&&r}}return r&&0!=i.Mb}function un(t,e,n){if(g(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function cn(t){var e=null;return new zt((function(n,i){-1==(e=un((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).s((function(t){throw s.clearTimeout(e),t}))}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(a(t))return t.split("");if(m(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function dn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(m(t)||a(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof pn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];mn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)mn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(on,ce),on.prototype[Fe]=!0,on.prototype.addEventListener=function(t,e,n,i){Ke(this,t,e,n,i)},on.prototype.removeEventListener=function(t,e,n,i){$e(this,t,e,n,i)},on.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var i=t.type||t;if(a(t))t=new Re(t,n);else if(t instanceof Re)t.target=t.target||n;else{var r=t;Y(t=new Re(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=ln(s,i,!0,t)&&r}if(r=ln(s=t.b=n,i,!0,t)&&r,r=ln(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=ln(s=t.b=e[o],i,!1,t)&&r;return r},on.prototype.xa=function(){if(on.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)qe(n[i]);delete e.a[t],e.b--}}this.Wa=null},(t=pn.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return fn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return mn(this.b,t)?this.b[t]:e},t.set=function(t,e){mn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var gn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof yn?(this.h=void 0!==e?e:t.h,vn(this,t.f),this.i=t.i,this.b=t.b,_n(this,t.l),this.c=t.c,bn(this,Un(t.a)),this.g=t.g):t&&(n=String(t).match(gn))?(this.h=!!e,vn(this,n[1]||"",!0),this.i=Sn(n[2]||""),this.b=Sn(n[3]||"",!0),_n(this,n[4]),this.c=Sn(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=Sn(n[7]||"")):(this.h=!!e,this.a=new Nn(null,this.h))}function vn(t,e,n){t.f=n?Sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function _n(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function bn(t,e,n){e instanceof Nn?(t.a=e,function(t,e){e&&!t.f&&(Rn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ln(this,e),Vn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=kn(e,Mn)),t.a=new Nn(e,t.h))}function wn(t,e,n){t.a.set(e,n)}function Cn(t,e){return t.a.get(e)}function En(t){return t instanceof yn?new yn(t):new yn(t,void 0)}function xn(t,e){var n=new yn(null,void 0);return vn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kn(t,e,n){return a(t)?(t=encodeURI(t).replace(e,Tn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Tn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(kn(e,On,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(kn(e,On,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(kn(n,"/"==n.charAt(0)?In:Pn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",kn(n,An)),t.join("")},yn.prototype.resolve=function(t){var e=new yn(this),n=!!t.f;n?vn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)_n(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(yt(r,"./")||yt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?bn(e,Un(t.a)):n=!!t.g,n&&(e.g=t.g),e};var On=/[#\/\?@]/g,Pn=/[#\?:]/g,In=/[#\?]/g,Mn=/[#\?@]/g,An=/#/g;function Nn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Dn(t){var e=dn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Nn(null,void 0);t=hn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];f(o)?Vn(n,r,o):n.add(r,o)}return n}function Ln(t,e){Rn(t),e=qn(t,e),mn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,mn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function Fn(t,e){return Rn(t),e=qn(t,e),mn(t.a.b,e)}function Vn(t,e,n){Ln(t,e),0<n.length&&(t.c=null,t.a.set(qn(t,e),H(n)),t.b+=n.length)}function Un(t){var e=new Nn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Nn.prototype).add=function(t,e){Rn(this),this.c=null,t=qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Rn(this),this.a.forEach((function(n,i){V(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.X=function(){Rn(this);for(var t=this.a.U(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.U=function(t){Rn(this);var e=[];if(a(t))Fn(this,t)&&(e=W(e,this.a.get(qn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Rn(this),this.c=null,Fn(this,t=qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.U(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var Bn=!ve||9<=Number(Te);function jn(t){var e=document;return a(t)?e.getElementById(t):t}function zn(t,e){K(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Wn.hasOwnProperty(n)?t.setAttribute(Wn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Wn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function Kn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(f(n)){var r=n;n=r.length,i.push("[");for(var o="",s=0;s<n;s++)i.push(o),t(e,r[s],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(s=n[r])&&(i.push(o),Yn(r,i),i.push(":"),t(e,s,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}var Gn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$n=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(t,e){e.push('"',t.replace($n,(function(t){var e=Gn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Gn[t]=e),e})),'"')}function Xn(){var t=gi();return ve&&!!Te&&11==Te||/Edge\/\d+/.test(t)}function Zn(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function Jn(t,e){e=e||s.window;var n="about:blank";t&&(n=bt(Ct(t)).toString()),e.location.href=n}function ti(t){return!!((t=(t||gi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ei(t){t=t||s.window;try{t.close()}catch(e){}}function ni(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gi().toLowerCase(),i&&(e.target=i,yt(n,"crios/")&&(e.target="_blank")),pi(gi())==hi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof _t?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((Ot("iPhone")&&!Ot("iPod")&&!Ot("iPad")||Ot("iPad")||Ot("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(L(s=i.document.createElement("A"),"HTMLAnchorElement"),e instanceof _t||e instanceof _t||(e="object"==typeof e&&e.qa?e.pa():String(e),wt.test(e)||(e="about:invalid#zClosurez"),e=St(e)),s.href=bt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=i.open("",n,s),t=bt(e).toString(),s&&(be&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=At('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),s.document.write(It(t)),s.document.close())):(s=i.open(bt(e).toString(),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var ii=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ri=/^[^@]+@[^@]+$/;function oi(){var t=null;return new zt((function(e){"complete"==s.document.readyState?e():(t=function(){e()},Ge(window,"load",t))})).s((function(e){throw $e(window,"load",t),e}))}function si(t){return t=t||gi(),!("file:"!==wi()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function li(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function ui(){return vT.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":vT.a.INTERNAL.hasOwnProperty("node")?"Node":li()?"Worker":"Browser"}function ci(){var t=ui();return"ReactNative"===t||"Node"===t}var hi="Firefox",di="Chrome";function pi(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?hi:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":di:"Safari"}var fi={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function mi(t,e){e=e||[];var n,i=[],r={};for(n in fi)r[fi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=ui())?i=pi(r=gi()):"Worker"===i&&(i=pi(r=gi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function gi(){return s.navigator&&s.navigator.userAgent||""}function yi(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function vi(){try{var t=s.localStorage,e=ki();if(t)return t.setItem(e,"1"),t.removeItem(e),!Xn()||!!s.indexedDB}catch(n){return li()&&!!s.indexedDB}return!1}function _i(){return(bi()||"chrome-extension:"===wi()||si())&&!ci()&&vi()&&!li()}function bi(){return"http:"===wi()||"https:"===wi()}function wi(){return s.location&&s.location.protocol||null}function Ci(t){return!ti(t=t||gi())&&pi(t)!=hi}function Ei(t){return void 0===t?null:Kn(t)}function xi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Si(t){if(null!==t)return JSON.parse(t)}function ki(t){return t||Math.floor(1e9*Math.random()).toString()}function Ti(t){return"Safari"!=pi(t=t||gi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Oi(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gi(),e=ui(),this.b=ti(t)||"ReactNative"===e}function Ii(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Mi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ai(){return!(!yi("fireauth.oauthhelper",s)&&!yi("fireauth.iframe",s))}Pi.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!bi()&&"chrome-extension:"!==wi()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ni,Ri={};function Di(t){Ri[t]||(Ri[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Li={};Object.defineProperty(Li,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Li,"abcd",{configurable:!0,enumerable:!0,value:2}),Ni=2==Li.abcd}catch(ge){Ni=!1}function Fi(t,e,n){Ni?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Vi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Fi(t,n,e[n])}function Ui(t){var e={};return Vi(e,t),e}function qi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Fi(e,n,qi(t[n]));return e}function Bi(t){var e={},n=t[zi],i=t[Wi];if(!(t=t[Hi])||t!=ji&&!n)throw Error("Invalid provider user info!");e[Qi]=i||null,e[Ki]=n||null,Fi(this,$i,t),Fi(this,Gi,qi(e))}var ji="EMAIL_SIGNIN",zi="email",Wi="newEmail",Hi="requestType",Ki="email",Qi="fromEmail",Gi="data",$i="operation";function Yi(t,e){this.code=Zi+t,this.message=e||Ji[t]||""}function Xi(t){var e=t&&t.code;return e?new Yi(e.substring(Zi.length),t.message):null}S(Yi,Error),Yi.prototype.A=function(){return{code:this.code,message:this.message}},Yi.prototype.toJSON=function(){return this.A()};var Zi="auth/",Ji={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function tr(t){var e=Cn(t=En(t),er)||null,n=Cn(t,nr)||null,i=Cn(t,or)||null;if(i=i&&ar[i]||null,!e||!n||!i)throw new Yi("argument-error",er+", "+nr+"and "+or+" are required in a valid action code URL.");Vi(this,{apiKey:e,operation:i,code:n,continueUrl:Cn(t,ir)||null,languageCode:Cn(t,rr)||null,tenantId:Cn(t,sr)||null})}var er="apiKey",nr="oobCode",ir="continueUrl",rr="languageCode",or="mode",sr="tenantId",ar={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:ji,verifyEmail:"VERIFY_EMAIL"};function lr(t){try{return new tr(t)}catch(e){return null}}function ur(t){var e=t[fr];if(void 0===e)throw new Yi("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Yi("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[cr];if(n&&"object"==typeof n){e=n[yr];var i=n[mr];if(n=n[gr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new Yi("argument-error",mr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yi("argument-error",gr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Yi("argument-error",yr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new Yi("missing-android-pkg-name")}}else if(void 0!==n)throw new Yi("argument-error",cr+" property must be a non null object when specified.");if(this.f=null,(e=t[pr])&&"object"==typeof e){if("string"==typeof(e=e[vr])&&e.length)this.f=e;else if(void 0!==e)throw new Yi("argument-error",vr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Yi("argument-error",pr+" property must be a non null object when specified.");if(void 0!==(e=t[dr])&&"boolean"!=typeof e)throw new Yi("argument-error",dr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Yi("argument-error",hr+" property must be a non empty string when specified.");this.i=t||null}var cr="android",hr="dynamicLinkDomain",dr="handleCodeInApp",pr="iOS",fr="url",mr="installApp",gr="minimumVersion",yr="packageName",vr="bundleId";function _r(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var br=null,wr=null;function Cr(t){this.f=t.sub,x(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Er(t){return(t=xr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Cr(t):null}function xr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=wr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!br){br={},wr={};for(var t=0;65>t;t++)br[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),wr[br[t]]=t,62<=t&&(wr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(i){}return null}Cr.prototype.R=function(){return this.c},Cr.prototype.g=function(){return this.b};var Sr,kr={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Tr(t){for(var e in kr)if(kr[e].id===t)return{firebaseEndpoint:(t=kr[e]).bb,secureTokenEndpoint:t.ib};return null}Sr=Tr("__EID__")?"__EID__":void 0;var Or="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Pr=["client_id","response_type","scope","redirect_uri","state"],Ir={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Pr},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Pr},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Pr},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Or}};function Mr(t){for(var e in Ir)if(Ir[e].Pa==t)return Ir[e];return null}function Ar(t){var e={};e["facebook.com"]=Fr,e["google.com"]=Ur,e["github.com"]=Vr,e["twitter.com"]=qr;var n=t&&t[Rr];try{if(n)return e[n]?new e[n](t):new Lr(t);if(void 0!==t[Nr])return new Dr(t)}catch(i){}return null}var Nr="idToken",Rr="providerId";function Dr(t){var e=t[Rr];if(!e&&t[Nr]){var n=Er(t[Nr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Fi(this,"providerId",e),Fi(this,"isNewUser",n)}function Lr(t){Dr.call(this,t),Fi(this,"profile",qi((t=Si(t.rawUserInfo||"{}"))||{}))}function Fr(t){if(Lr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vr(t){if(Lr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Fi(this,"username",this.profile&&this.profile.login||null)}function Ur(t){if(Lr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qr(t){if(Lr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Fi(this,"username",t.screenName||null)}function Br(t){var e=En(t),n=Cn(e,"link"),i=Cn(En(n),"link");return e=Cn(e,"deep_link_id"),Cn(En(e),"link")||e||i||n||t}function jr(){}function zr(t,e){return t.then((function(t){if(t[Ps]){var n=Er(t[Ps]);if(!n||e!=n.f)throw new Yi("user-mismatch");return t}throw new Yi("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Zi+"user-not-found"?new Yi("user-mismatch"):t}))}function Wr(t,e){if(!e)throw new Yi("internal-error","failed to construct a credential");this.a=e,Fi(this,"providerId",t),Fi(this,"signInMethod",t)}function Hr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Kr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Wr(t.providerId,t.pendingToken)}catch(e){}return null}function Qr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Fi(this,"idToken",e.idToken),e.accessToken&&Fi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Fi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Yi("internal-error","failed to construct a credential");Fi(this,"accessToken",e.oauthToken),Fi(this,"secret",e.oauthTokenSecret)}Fi(this,"providerId",t),Fi(this,"signInMethod",n)}function Gr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Dn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function $r(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Qr(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Yr(t,e){this.Fc=e||[],Vi(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Mr(t)||{}).Oa||null,this.ab=null}function Xr(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Yi("argument-error",'SAML provider IDs must be prefixed with "saml."');Yr.call(this,t,[])}function Zr(t){Yr.call(this,t,Pr),this.a=[]}function Jr(){Zr.call(this,"facebook.com")}function to(t){if(!t)throw new Yi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Jr).credential({accessToken:e})}function eo(){Zr.call(this,"github.com")}function no(t){if(!t)throw new Yi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function io(){Zr.call(this,"google.com"),this.wa("profile")}function ro(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new io).credential({idToken:n,accessToken:e})}function oo(){Yr.call(this,"twitter.com",Or)}function so(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Yi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qr("twitter.com",n,"twitter.com")}function ao(t,e,n){this.a=t,this.c=e,Fi(this,"providerId","password"),Fi(this,"signInMethod",n===uo.EMAIL_LINK_SIGN_IN_METHOD?uo.EMAIL_LINK_SIGN_IN_METHOD:uo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function lo(t){return t&&t.email&&t.password?new ao(t.email,t.password,t.signInMethod):null}function uo(){Vi(this,{providerId:"password",isOAuthProvider:!1})}function co(t,e){if(!(e=ho(e)))throw new Yi("argument-error","Invalid email link!");return new ao(t,e.code,uo.EMAIL_LINK_SIGN_IN_METHOD)}function ho(t){return(t=lr(t=Br(t)))&&t.operation===ji?t:null}function po(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Yi("internal-error");this.a=t,Fi(this,"providerId","phone"),Fi(this,"signInMethod","phone")}function fo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new po(e)}return null}function mo(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function go(t){try{this.a=t||vT.a.auth()}catch(e){throw new Yi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vi(this,{providerId:"phone",isOAuthProvider:!1})}function yo(t,e){if(!t)throw new Yi("missing-verification-id");if(!e)throw new Yi("missing-verification-code");return new po({Ua:t,Ta:e})}function vo(t){if(t.temporaryProof&&t.phoneNumber)return new po({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return ro(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return so(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new Wr(e,s):new Qr(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Zr(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function _o(t){if(!t.isOAuthProvider)throw new Yi("invalid-oauth-provider")}function bo(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new Yi("invalid-auth-event");if(this.g&&this.a)throw new Yi("invalid-auth-event");if(this.g&&!this.f)throw new Yi("invalid-auth-event")}function wo(t){return(t=t||{}).type?new bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Xi(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}S(Lr,Dr),S(Fr,Lr),S(Vr,Lr),S(Ur,Lr),S(qr,Lr),Wr.prototype.na=function(t){return Qs(t,Hr(this))},Wr.prototype.b=function(t,e){var n=Hr(this);return n.idToken=e,Gs(t,n)},Wr.prototype.f=function(t,e){return zr($s(t,Hr(this)),e)},Wr.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qr.prototype.na=function(t){return Qs(t,Gr(this))},Qr.prototype.b=function(t,e){var n=Gr(this);return n.idToken=e,Gs(t,n)},Qr.prototype.f=function(t,e){return zr($s(t,Gr(this)),e)},Qr.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Yr.prototype.Ea=function(t){return this.zb=G(t),this},S(Xr,Yr),S(Zr,Yr),Zr.prototype.wa=function(t){return B(this.a,t)||this.a.push(t),this},Zr.prototype.Hb=function(){return H(this.a)},Zr.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Yi("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qr(this.providerId,n,this.providerId)},S(Jr,Zr),Fi(Jr,"PROVIDER_ID","facebook.com"),Fi(Jr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(eo,Zr),Fi(eo,"PROVIDER_ID","github.com"),Fi(eo,"GITHUB_SIGN_IN_METHOD","github.com"),S(io,Zr),Fi(io,"PROVIDER_ID","google.com"),Fi(io,"GOOGLE_SIGN_IN_METHOD","google.com"),S(oo,Yr),Fi(oo,"PROVIDER_ID","twitter.com"),Fi(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ao.prototype.na=function(t){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?xa(t,ia,{email:this.a,oobCode:this.c}):xa(t,ba,{email:this.a,password:this.c})},ao.prototype.b=function(t,e){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?xa(t,ra,{idToken:e,email:this.a,oobCode:this.c}):xa(t,fa,{idToken:e,email:this.a,password:this.c})},ao.prototype.f=function(t,e){return zr(this.na(t),e)},ao.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Vi(uo,{PROVIDER_ID:"password"}),Vi(uo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vi(uo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(t){return t.Va(mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,xa(t,Ca,n)},po.prototype.f=function(t,e){var n=mo(this);return n.operation="REAUTH",zr(t=xa(t,Ea,n),e)},po.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},go.prototype.Va=function(t,e){var n=this.a.b;return Yt(e.verify()).then((function(i){if(!a(i))throw new Yi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return xa(t,da,e)}(n,{phoneNumber:t,recaptchaToken:i}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Yi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Vi(go,{PROVIDER_ID:"phone"}),Vi(go,{PHONE_SIGN_IN_METHOD:"phone"}),bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},bo.prototype.R=function(){return this.h},bo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,xo=null;function So(t){var e="unauthorized-domain",n=void 0,i=En(t);t=i.b,"chrome-extension"==(i=i.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Yi.call(this,e,n)}function ko(t,e,n){Yi.call(this,t,n),(t=e||{}).Ab&&Fi(this,"email",t.Ab),t.ba&&Fi(this,"phoneNumber",t.ba),t.credential&&Fi(this,"credential",t.credential),t.Qb&&Fi(this,"tenantId",t.Qb)}function To(t){if(t.code){var e=t.code||"";0==e.indexOf(Zi)&&(e=e.substring(Zi.length));var n={credential:vo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Yi(e,t.message||void 0);return new ko(e,n,t.message)}return null}function Oo(){}function Po(){}function Io(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Mo(){}function Ao(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function No(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ro(t,e,n){this.reset(t,e,n,void 0,void 0)}function Do(t){this.f=t,this.b=this.c=this.a=null}function Lo(t,e){this.name=t,this.value=e}S(So,Yi),S(ko,Yi),ko.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&Y(t,e),t},ko.prototype.toJSON=function(){return this.A()},Oo.prototype.c=null,S(Po,Oo),Po.prototype.a=function(){var t=Io(this);return t?new ActiveXObject(t):new XMLHttpRequest},Po.prototype.b=function(){var t={};return Io(this)&&(t[0]=!0,t[1]=!0),t},Eo=new Po,S(Mo,Oo),Mo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ao;throw Error("Unsupported browser")},Mo.prototype.b=function(){return{}},(t=Ao.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,No(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",No(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,No(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ro.prototype.a=null,Ro.prototype.reset=function(t,e,n,i,r){i||x(),delete this.a},Lo.prototype.toString=function(){return this.name};var Fo=new Lo("SEVERE",1e3),Vo=new Lo("WARNING",900),Uo=new Lo("CONFIG",700),qo=new Lo("FINE",500);Do.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(P("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Ro(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Bo={},jo=null;function zo(t){var e;if(jo||(jo=new Do(""),Bo[""]=jo,jo.c=Uo),!(e=Bo[t])){e=new Do(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=zo(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,Bo[t]=e}return e}function Wo(t,e){t&&t.log(qo,e,void 0)}function Ho(t){this.f=t}function Ko(t){on.call(this),this.o=t,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=zo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(Ho,Oo),Ho.prototype.a=function(){return new Ko(this.f)},Ho.prototype.b=function(t){return function(){return t}}({}),S(Ko,on);var Qo=0;function Go(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function $o(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Yo(t)}function Yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Xo(t){on.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Zo,this.v=this.P=!1}(t=Ko.prototype).open=function(t,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Yo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,$o(this,!1)),this.readyState=Qo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Yo(this)),this.a&&(this.readyState=3,Yo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Go(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?$o(this,!0):Yo(this),3==this.readyState&&Go(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,$o(this,!0))},t.hc=function(t){this.a&&(this.response=t,$o(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Vo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&$o(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Vo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Vo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(Xo,on);var Zo="";Xo.prototype.b=zo("goog.net.XhrIo");var Jo=/^https?$/i,ts=["POST","PUT"];function es(t){return"content-type"==t.toLowerCase()}function ns(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,is(t),os(t)}function is(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function rs(t){if(t.c&&void 0!==o)if(t.w[1]&&4==as(t)&&2==ls(t))Wo(t.b,us(t,"Local request error detected and ignored"));else if(t.i&&4==as(t))un(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==as(t)){Wo(t.b,us(t,"Request complete")),t.c=!1;try{var e,n=ls(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var a=String(t.l).match(gn)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}r=!Jo.test(a?a.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<as(t)?t.a.statusText:""}catch(c){Wo(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+ls(t)+"]",is(t)}}finally{os(t)}}}function os(t,e){if(t.a){ss(t);var n=t.a,i=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(Fo,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function ss(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(s.clearTimeout(t.o),t.o=null)}function as(t){return t.a?t.a.readyState:0}function ls(t){try{return 2<as(t)?t.a.status:-1}catch(e){return-1}}function us(t,e){return e+" ["+t.O+" "+t.l+" "+ls(t)+"]"}function cs(t){var e=ws;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function hs(t,e,n){t.a=!0,t.c=n,t.f=!e,ms(t)}function ds(t){if(t.a){if(!t.u)throw new gs(t);t.u=!1}}function ps(t,e,n,i){t.g.push([e,n,i]),t.a&&ms(t)}function fs(t){return q(t.g,(function(t){return g(t[1])}))}function ms(t){if(t.h&&t.a&&fs(t)){var e=t.h,n=_s[e];n&&(s.clearTimeout(n.a),delete _s[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],a=r[1];if(r=r[2],o=t.f?a:o)try{var l=o.call(r||t.o,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(k(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(i=!0,t.i=!0)}catch(u){e=u,t.f=!0,fs(t)||(n=!0)}}t.c=e,i&&(l=C(t.m,t,!0),i=C(t.m,t,!1),e instanceof cs?(ps(e,l,i),e.w=!0):e.then(l,i)),n&&(e=new vs(e),_s[e.a]=e,t.h=e.a)}function gs(){T.call(this)}function ys(){T.call(this)}function vs(t){this.a=s.setTimeout(C(this.c,this),0),this.b=t}(t=Xo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Wo(this.b,us(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Wo(this.b,us(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),os(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),os(this,!0)),Xo.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?rs(this):this.yc())},t.yc=function(){rs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Fo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Wo(this.b,"Can not get response: "+e.message),null}},cs.prototype.cancel=function(t){if(this.a)this.c instanceof cs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ys(this),ds(this),hs(this,!1,t))}},cs.prototype.m=function(t,e){this.i=!1,hs(this,t,e)},cs.prototype.then=function(t,e,n){var i,r,o=new zt((function(t,e){i=t,r=e}));return ps(this,i,(function(t){t instanceof ys?o.cancel():r(t)})),o.then(t,e,n)},cs.prototype.$goog_Thenable=!0,S(gs,T),gs.prototype.message="Deferred has already fired",gs.prototype.name="AlreadyCalledError",S(ys,T),ys.prototype.message="Deferred was canceled",ys.prototype.name="CanceledError",vs.prototype.c=function(){throw delete _s[this.a],this.b};var _s={};function bs(t){var e={},n=e.document||document,i=it(t).toString(),r=document.createElement("SCRIPT"),o={Nb:r,Ga:void 0},a=new cs(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Cs(r,!0);var t=new Ss(xs,"Timeout reached for loading script "+i);ds(a),hs(a,!1,t)}),h),o.Ga=l),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Cs(r,e.gd||!1,l),ds(a),hs(a,!0,null))},r.onerror=function(){Cs(r,!0,l);var t=new Ss(Es,"Error while loading script "+i);ds(a),hs(a,!1,t)},Y(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(r,o),function(t,e){L(t,"HTMLScriptElement"),t.src=it(e),null===c&&(c=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),a}function ws(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Cs(t,!0,this.Ga)}}function Cs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Es=0,xs=1;function Ss(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),T.call(this,n),this.code=t}function ks(t){this.f=t}function Ts(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Is,this.g=G(t.secureTokenHeaders||Ms),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||As,this.a=G(t.firebaseHeaders||Ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ui(),!(n=s.XMLHttpRequest||n&&vT.a.INTERNAL.node&&vT.a.INTERNAL.node.XMLHttpRequest)&&!li())throw new Yi("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=li()?new Ho(self):ci()?new ks(n):new Mo,this.b=null}S(Ss,T),S(ks,Oo),ks.prototype.a=function(){return new this.f},ks.prototype.b=function(){return{}};var Os,Ps="idToken",Is=new Pi(3e4,6e4),Ms={"Content-Type":"application/x-www-form-urlencoded"},As=new Pi(3e4,6e4),Ns={"Content-Type":"application/json"};function Rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ds(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ls(t,e,n,i,r,o,a){(function(){var t=gi();return!((t=pi(t)!=di?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ve&&Te&&!(9<Te))})()||li()?t=C(t.o,t):(Os||(Os=new zt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Vs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ps(t,null,e,void 0)}(bs(rt(Fs,{onload:Vs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=C(t.m,t)),t(e,n,i,r,o,a)}Ts.prototype.R=function(){return this.b},Ts.prototype.o=function(t,e,n,i,r,o){if(li()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Yi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new Xo(this.f);if(o){l.g=Math.max(0,o);var u=setTimeout((function(){l.dispatchEvent("timeout")}),o)}sn(l,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Wo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),an(l,"ready",(function(){u&&clearTimeout(u),pe(this)})),an(l,"timeout",(function(){u&&clearTimeout(u),pe(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():Eo.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:Eo),t.a.onreadystatechange=C(t.Lb,t);try{Wo(t.b,us(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(l){return Wo(t.b,us(t,"Error opening Xhr: "+l.message)),void ns(t,l)}e=i||"";var o=new pn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||a(t))V(t,e,void 0);else for(var n=dn(t),i=hn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=es,n=t.length,i=a(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(o.X()),i=s.FormData&&e instanceof s.FormData,!B(ts,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{ss(t),0<t.g&&(t.v=function(t){return ve&&Pe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Wo(t.b,us(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ga,t)):t.o=un(t.Ga,t.g,t)),Wo(t.b,us(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){Wo(t.b,us(t,"Send error: "+l.message)),ns(t,l)}}(l,t,n,i,r)};var Fs=new X(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),Vs="__fcb"+Math.floor(1e6*Math.random()).toString();function Us(t){if(!a(t=t.email)||!ri.test(t))throw new Yi("invalid-email")}function qs(t){"email"in t&&Us(t)}function Bs(t){if(!t[Ps])throw new Yi("internal-error")}function js(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Yi("internal-error")}else{if(!t.sessionInfo)throw new Yi("missing-verification-id");if(!t.code)throw new Yi("missing-verification-code")}}Ts.prototype.m=function(t,e,n,i,r){var o=this;Os.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ts.prototype.ob=function(){return xa(this,ma,{})},Ts.prototype.rb=function(t,e){return xa(this,pa,{idToken:t,email:e})},Ts.prototype.sb=function(t,e){return xa(this,fa,{idToken:t,password:e})};var zs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ws(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Yi("internal-error")}function Hs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Fn(t=new Nn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ks(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=To(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=To(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=To(t)):t.errorMessage&&(e=Sa(t.errorMessage)),e)throw e;if(!t[Ps])throw new Yi("internal-error")}function Qs(t,e){return e.returnIdpCredential=!0,xa(t,ga,e)}function Gs(t,e){return e.returnIdpCredential=!0,xa(t,va,e)}function $s(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,xa(t,ya,e)}function Ys(t){if(!t.oobCode)throw new Yi("invalid-action-code")}(t=Ts.prototype).tb=function(t,e){var n={idToken:t},i=[];return K(zs,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),xa(this,pa,n)},t.kb=function(t,e){return Y(t={requestType:"PASSWORD_RESET",email:t},e),xa(this,la,t)},t.lb=function(t,e){return Y(t={requestType:"EMAIL_SIGNIN",email:t},e),xa(this,sa,t)},t.jb=function(t,e){return Y(t={requestType:"VERIFY_EMAIL",idToken:t},e),xa(this,aa,t)},t.Va=function(t){return xa(this,wa,t)},t.$a=function(t,e){return xa(this,ha,{oobCode:t,newPassword:e})},t.Ka=function(t){return xa(this,Zs,{oobCode:t})},t.Xa=function(t){return xa(this,Xs,{oobCode:t})};var Xs={endpoint:"setAccountInfo",D:Ys,fa:"email",F:!0},Zs={endpoint:"resetPassword",D:Ys,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Yi("internal-error")},F:!0},Js={endpoint:"signupNewUser",D:function(t){if(Us(t),!t.password)throw new Yi("weak-password")},K:Bs,T:!0,F:!0},ta={endpoint:"createAuthUri",F:!0},ea={endpoint:"deleteAccount",V:["idToken"]},na={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!f(t.deleteProvider))throw new Yi("internal-error")}},ia={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Us,K:Bs,T:!0,F:!0},ra={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Us,K:Bs,T:!0},oa={endpoint:"getAccountInfo"},sa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Yi("internal-error");Us(t)},fa:"email",F:!0},aa={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Yi("internal-error")},fa:"email",F:!0},la={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Yi("internal-error");Us(t)},fa:"email",F:!0},ua={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ca={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Yi("internal-error")}},ha={endpoint:"resetPassword",D:Ys,fa:"email",F:!0},da={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},pa={endpoint:"setAccountInfo",V:["idToken"],D:qs,T:!0},fa={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(qs(t),!t.password)throw new Yi("weak-password")},K:Bs,T:!0},ma={endpoint:"signupNewUser",K:Bs,T:!0,F:!0},ga={endpoint:"verifyAssertion",D:Ws,Qa:Hs,K:Ks,T:!0,F:!0},ya={endpoint:"verifyAssertion",D:Ws,Qa:Hs,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Yi("user-not-found");if(t.errorMessage)throw Sa(t.errorMessage);if(!t[Ps])throw new Yi("internal-error")},T:!0,F:!0},va={endpoint:"verifyAssertion",D:function(t){if(Ws(t),!t.idToken)throw new Yi("internal-error")},Qa:Hs,K:Ks,T:!0},_a={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Yi("invalid-custom-token")},K:Bs,T:!0,F:!0},ba={endpoint:"verifyPassword",D:function(t){if(Us(t),!t.password)throw new Yi("wrong-password")},K:Bs,T:!0,F:!0},wa={endpoint:"verifyPhoneNumber",D:js,K:Bs,F:!0},Ca={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Yi("internal-error");js(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",To(t);Bs(t)}},Ea={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:js,K:Bs,F:!0};function xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.V))return Xt(new Yi("internal-error"));var i,r=e.Kb||"POST";return Yt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o){var s=En(t.h+e);wn(s,"key",t.c),o&&wn(s,"cb",x().toString());var a="GET"==n;if(a)for(var l in i)i.hasOwnProperty(l)&&wn(s,l,i[l]);return new zt((function(e,o){Ls(t,s.toString(),(function(t){t?t.error?o(ka(t,r||{})):e(t):o(new Yi("network-request-failed"))}),n,a?void 0:Kn(xi(i)),t.a,t.i.get())}))}(t,e.endpoint,r,n,e.Yb,e.wb||!1)})).then((function(t){return i=t,e.Qa?e.Qa(n,i):i})).then(e.K).then((function(){if(!e.fa)return i;if(!(e.fa in i))throw new Yi("internal-error");return i[e.fa]}))}function Sa(t){return ka({error:{errors:[{message:t}],code:400,message:t}})}function ka(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Yi(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",Y(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new Yi(i[r],e);return!e&&t&&(e=Ei(t)),new Yi("internal-error",e)}function Ta(t){this.b=t,this.a=null,this.fb=function(t){return(Ma||(Ma=new zt((function(t,e){function n(){Oi(),yi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Oi(),e(Error("Network Error"))},timeout:Pa.get()})}if(yi("gapi.iframes.Iframe"))t();else if(yi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[i]=function(){yi("gapi.load")?n():e(Error("Network Error"))},Yt(bs(i=rt(Oa,{onload:i}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Ma=null,t})))).then((function(){return new zt((function(e,n){yi("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ia.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Oa=new X(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Pa=new Pi(3e4,6e4),Ia=new Pi(5e3,15e3),Ma=null;function Aa(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=xn(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Na(t,e,n,i,r){this.o=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function Ra(t){try{return vT.a.app(t).auth().Aa()}catch(e){return[]}}function Da(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function La(t){var e=Zn();return function(t){return xa(t,ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=En(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=En(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ii.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new So(Zn())}))}function Fa(t){return t.l?t.l:(t.l=oi().then((function(){if(!t.o){var e=t.c,n=t.h,i=Ra(t.b),r=new Aa(t.u,t.f,t.b);r.f=e,r.b=n,r.c=H(i||[]),t.o=r.toString()}t.i=new Ta(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then((function(){t.a.register("authEvent",e,yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=wo(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Yt(n)}return n.status="ERROR",Yt(n)}))}(t)})),t.l)}function Va(t){return t.m||(t.v=t.c?mi(t.c,Ra(t.b)):null,t.m=new Ts(t.f,Tr(t.h),t.v)),t.m}function Ua(t,e,n,i,r,o,s,a,l,u,c){return(t=new Na(t,e,n,i,r)).l=o,t.g=s,t.i=a,t.b=G(l||null),t.f=u,t.nb(c).toString()}function qa(t){if(this.a=t||vT.a.INTERNAL.reactNative&&vT.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ba(t){this.b=t,this.a={},this.f=C(this.c,this)}Aa.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Na.prototype.nb=function(t){return this.h=t,this},Na.prototype.toString=function(){var t=xn(this.o,"/__/auth/handler");if(wn(t,"apiKey",this.m),wn(t,"appName",this.c),wn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=vT.a.app(this.c).auth().ha()}catch(a){n=null}for(var i in e.ab=n,wn(t,"providerId",this.a.providerId),n=xi((e=this.a).zb))n[i]=n[i].toString();i=e.Fc,n=G(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),Q(n)||wn(t,"customParameters",Ei(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&wn(t,"scopes",e.join(",")),this.l?wn(t,"redirectUrl",this.l):Ln(t.a,"redirectUrl"),this.g?wn(t,"eventId",this.g):Ln(t.a,"eventId"),this.i?wn(t,"v",this.i):Ln(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Cn(t,s)&&wn(t,s,this.b[s]);return this.h?wn(t,"tid",this.h):Ln(t.a,"tid"),this.f?wn(t,"eid",this.f):Ln(t.a,"eid"),(s=Ra(this.c)).length&&wn(t,"fw",s.join(",")),t.toString()},(t=Da.prototype).Fb=function(t,e,n){var i=new Yi("popup-closed-by-user"),r=new Yi("web-storage-unsupported"),o=this,s=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Fa(t).then((function(){return function(t,e){return t.fb.then((function(){return new zt((function(n){t.a.send(e.type,e,n,yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ei(t),e(r),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new zt((function(e){return function n(){cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return cn(n).then((function(){e(i)}))}))},t.Ob=function(){var t=gi();return!Ci(t)&&!Ti(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,i,r,o,s,a){if(!t)return Xt(new Yi("popup-blocked"));if(s&&!Ci())return this.ia().s((function(e){ei(t),r(e)})),i(),Yt();this.a||(this.a=La(Va(this)));var l=this;return this.a.then((function(){var e=l.ia().s((function(e){throw ei(t),r(e),e}));return i(),e})).then((function(){_o(n),s||Jn(Ua(l.u,l.f,l.b,e,n,null,o,l.c,void 0,l.h,a),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Eb=function(t,e,n,i){this.a||(this.a=La(Va(this)));var r=this;return this.a.then((function(){_o(e),Jn(Ua(r.u,r.f,r.b,t,e,Zn(),n,r.c,void 0,r.h,i))})).s((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ia=function(){var t=this;return Fa(this).then((function(){return t.i.fb})).s((function(){throw t.a=null,new Yi("network-request-failed")}))},t.Rb=function(){return!0},t.ya=function(t){this.g.push(t)},t.La=function(t){z(this.g,(function(e){return e==t}))},(t=qa.prototype).get=function(t){return Yt(this.a.getItem(t)).then((function(t){return t&&Si(t)}))},t.set=function(t,e){return Yt(this.a.setItem(t,Ei(e)))},t.S=function(t){return Yt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var ja,za=[];function Wa(t,e,n){Q(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ha(t){this.a=t}function Ka(t){this.c=t,this.b=!1,this.a=[]}function Qa(t,e,n,i){var r,o,s,a,l=n||{},u=null;if(t.b)return Xt(Error("connection_unavailable"));var c=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zt((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){i(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:l},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return Ga(t,u),e})).s((function(e){throw Ga(t,u),e}))}function Ga(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),z(t.a,(function(t){return t==e}))}}function $a(){if(!Xa())throw new Yi("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;li()&&self?(this.l=function(){var t=li()?self:null;if(V(za,(function(n){n.b==t&&(e=n)})),!e){var e=new Ba(t);za.push(e)}return e}(),Wa(this.l,"keyChanged",(function(e,n){return nl(t).then((function(e){return 0<e.length&&V(t.a,(function(t){t(e)})),{keyProcessed:B(e,n.key)}}))})),Wa(this.l,"ping",(function(){return Yt(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Yt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Yt(null)}().then((function(e){(t.h=e)&&(t.g=new Ka(new Ha(e)),Qa(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&B(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Ya(t){return t.m||(t.m=function t(e){return new zt((function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new zt((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){i(t)}))}}))}(t)),t.m}function Xa(){try{return!!s.indexedDB}catch(ge){return!1}}function Za(t){return t.objectStore("firebaseLocalStorage")}function Ja(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tl(t){return new zt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function el(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Qa(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Yt()}function nl(t){return Ya(t).then((function(t){var e=Za(Ja(t,!1));return e.getAll?tl(e.getAll()):new zt((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function il(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function rl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Yt().then((function(){if(Xa()){var t=ki(),i="__sak"+t;return ja||(ja=new $a),(n=ja).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(i)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){V(e.a,(function(e){e(t)}))})),t}))}function ol(){this.a={},this.type="inMemory"}function sl(){if(!function(){var t="Node"==ui();if(!(t=al()||t&&vT.a.INTERNAL.node&&vT.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ui())throw new Yi("internal-error","The LocalStorage compatibility library was not found.");throw new Yi("web-storage-unsupported")}this.a=al()||vT.a.INTERNAL.node.localStorage,this.type="localStorage"}function al(){try{var t=s.localStorage,e=ki();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ll(){this.type="nullStorage"}function ul(){if(!function(){var t="Node"==ui();if(!(t=cl()||t&&vT.a.INTERNAL.node&&vT.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ui())throw new Yi("internal-error","The SessionStorage compatibility library was not found.");throw new Yi("web-storage-unsupported")}this.a=cl()||vT.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cl(){try{var t=s.sessionStorage,e=ki();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hl(){var t={};t.Browser=fl,t.Node=ml,t.ReactNative=gl,t.Worker=yl,this.a=t[ui()]}Ba.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];V(i,(function(e){r.push(Yt().then((function(){return e(t.origin,t.data.data)})))})),Jt(r).then((function(i){var r=[];V(i,(function(t){r.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),V(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},Ha.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ka.prototype.close=function(){for(;0<this.a.length;)Ga(this,this.a[0]);this.b=!0},(t=$a.prototype).set=function(t,e){var n,i=!1,r=this;return Ya(this).then((function(e){return tl((e=Za(Ja(n=e,!0))).get(t))})).then((function(o){var s=Za(Ja(n,!0));return o?(o.value=e,tl(s.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,tl(s.add(o)))})).then((function(){return r.c[t]=e,el(r,t)})).ka((function(){i&&r.b--}))},t.get=function(t){return Ya(this).then((function(e){return tl(Za(Ja(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.S=function(t){var e=!1,n=this;return Ya(this).then((function(i){return e=!0,n.b++,tl(Za(Ja(i,!0)).delete(t))})).then((function(){return delete n.c[t],el(n,t)})).ka((function(){e&&n.b--}))},t.$=function(t){0==this.a.length&&function(t){il(t),function e(){t.f=setTimeout((function(){t.i=nl(t).then((function(e){0<e.length&&V(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ea=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&il(this)},(t=rl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.S=function(t){return this.b.then((function(e){return e.S(t)}))},t.$=function(t){this.a.push(t)},t.ea=function(t){z(this.a,(function(e){return e==t}))},(t=ol.prototype).get=function(t){return Yt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Yt()},t.S=function(t){return delete this.a[t],Yt()},t.$=function(){},t.ea=function(){},(t=sl.prototype).get=function(t){var e=this;return Yt().then((function(){return Si(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Yt().then((function(){var i=Ei(e);null===i?n.S(t):n.a.setItem(t,i)}))},t.S=function(t){var e=this;return Yt().then((function(){e.a.removeItem(t)}))},t.$=function(t){s.window&&Ke(s.window,"storage",t)},t.ea=function(t){s.window&&$e(s.window,"storage",t)},(t=ll.prototype).get=function(){return Yt(null)},t.set=function(){return Yt()},t.S=function(){return Yt()},t.$=function(){},t.ea=function(){},(t=ul.prototype).get=function(t){var e=this;return Yt().then((function(){return Si(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Yt().then((function(){var i=Ei(e);null===i?n.S(t):n.a.setItem(t,i)}))},t.S=function(t){var e=this;return Yt().then((function(){e.a.removeItem(t)}))},t.$=function(){},t.ea=function(){};var dl,pl,fl={C:sl,Sa:ul},ml={C:sl,Sa:ul},gl={C:qa,Sa:ll},yl={C:sl,Sa:ll},vl={$c:"local",NONE:"none",bd:"session"};function _l(){var t=!(Ti(gi())||!ai()),e=Ci(),n=vi();this.m=t,this.h=e,this.l=n,this.a={},dl||(dl=new hl),t=dl;try{this.g=!Xn()&&Ai()||!s.indexedDB?new t.a.C:new rl(li()?new ol:new t.a.C)}catch(i){this.g=new ol,this.h=!0}try{this.i=new t.a.Sa}catch(i){this.i=new ol}this.u=new ol,this.f=C(this.Pb,this),this.b={}}function bl(){return pl||(pl=new _l),pl}function wl(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Cl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function El(t,e,n){return n=Cl(e,n),"local"==e.C&&(t.b[n]=null),wl(t,e.C).S(n)}function xl(t){t.c&&(clearInterval(t.c),t.c=null)}function Sl(t){this.a=t,this.b=bl()}(t=_l.prototype).get=function(t,e){return wl(this,t.C).get(Cl(t,e))},t.set=function(t,e,n){var i=Cl(t,n),r=this,o=wl(this,t.C);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.C&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=Cl(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),Q(this.a)&&(wl(this,"local").$(this.f),this.h||(Xn()||!Ai())&&s.indexedDB||!this.l||function(t){xl(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new De({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Cl(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),Q(this.a)&&(wl(this,"local").ea(this.f),xl(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=s.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?wl(this,"local").ea(this.f):xl(this),this.m)if(n=s.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?s.localStorage.setItem(e,i):s.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.Za(e))},ve&&Te&&10==Te&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,C(this.Za,this))},t.Za=function(t){this.a[t]&&V(this.a[t],(function(t){t()}))};var kl,Tl={name:"authEvent",C:"local"};function Ol(){this.a=bl()}function Pl(t,e){this.b=Il,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0!==kl||(kl=s.Int32Array?new Int32Array(Fl):Fl),this.reset()}S(Pl,(function(){this.b=-1}));for(var Il=64,Ml=Il-1,Al=[],Nl=0;Nl<Ml;Nl++)Al[Nl]=0;var Rl=W(128,Al);function Dl(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|kl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=l+s|0,l=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ll(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if(a(e))for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(Dl(t),r=0);else{if(!m(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(Dl(t),r=0)}}t.c=r,t.g+=n}Pl.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):H(this.h)};var Fl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vl(){Pl.call(this,8,Ul)}S(Vl,Pl);var Ul=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ql(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.o=r||null,this.h=e+":"+n,this.v=new Ol,this.g=new Sl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Bl(t){return new Yi("invalid-cordova-configuration",t)}function jl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function zl(t){return t.f||(t.f=t.ia().then((function(){return new zt((function(e){t.ya((function n(i){return e(i),t.La(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),Wl(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=Br(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Si(Cn(o=En(r),"firebaseError")||null))?Xi(o):null)?new bo(i.c,i.b,null,null,o,null,i.R()):new bo(i.c,i.b,r,i.f,null,null,i.R())),r=o||n}jl(t,r)}))}var n=new bo("unknown",null,null,null,new Yi("no-auth-event")),i=!1,r=cn(500).then((function(){return Wl(t).then((function(){i||jl(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(yi("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},xo||(xo=new Co),function(t){var e=xo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=yi("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Wl(t){var e=null;return function(t){return t.b.get(Tl,t.a).then((function(t){return wo(t)}))}(t.g).then((function(n){return e=n,El((n=t.g).b,Tl,n.a)})).then((function(){return e}))}function Hl(t){this.a=t,this.b=bl()}(t=ql.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(si(void 0)?oi().then((function(){return new zt((function(t,e){var n=s.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):Xt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof yi("universalLinks.subscribe",s))throw Bl("cordova-universal-links-plugin-fix is not installed");if(void 0===yi("BuildInfo.packageName",s))throw Bl("cordova-plugin-buildinfo is not installed");if("function"!=typeof yi("cordova.plugins.browsertab.openUrl",s))throw Bl("cordova-plugin-browsertab is not installed");if("function"!=typeof yi("cordova.InAppBrowser.open",s))throw Bl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Yi("cordova-not-ready")}))},t.Fb=function(t,e){return e(new Yi("operation-not-supported-in-this-environment")),Yt()},t.Db=function(){return Xt(new Yi("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,i){if(this.c)return Xt(new Yi("redirect-operation-pending"));var r=this,o=s.document,a=null,l=null,u=null,c=null;return this.c=Yt().then((function(){return _o(e),zl(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new bo(e,i,null,o,new Yi("no-auth-event"),null,r),l=yi("BuildInfo.packageName",s);if("string"!=typeof l)throw new Yi("invalid-cordova-configuration");var u=yi("BuildInfo.displayName",s),c={};if(gi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!gi().toLowerCase().match(/android/))return Xt(new Yi("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(t){var e=new Vl;Ll(e,t),t=[];var n=8*e.g;Ll(e,Rl,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(Dl(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=Ua(t.u,t.i,t.l,e,n,null,i,t.m,c,t.o,r);return t.ia().then((function(){var e=t.h;return t.v.a.set(Tl,a.A(),e)})).then((function(){var e=yi("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new Yi("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=yi("cordova.plugins.browsertab.openUrl",s)))throw new Yi("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yi("cordova.InAppBrowser.open",s)))throw new Yi("invalid-cordova-configuration");e=gi(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new zt((function(t,e){l=function(){var e=yi("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ya(l),c=function(){Ii()&&u()},o.addEventListener("resume",u=function(){a||(a=cn(2e3).then((function(){e(new Yi("redirect-cancelled-by-user"))})))},!1),gi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return Wl(r).then((function(){throw t}))}))})).ka((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),l&&r.La(l),r.c=null}))},t.ya=function(t){this.b.push(t),zl(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new bo("unknown",null,null,null,new Yi("no-auth-event")),t(e))}))},t.La=function(t){z(this.b,(function(e){return e==t}))};var Kl={name:"pendingRedirect",C:"session"};function Ql(t){return El(t.b,Kl,t.a)}function Gl(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new lu,this.w=new pu,this.g=new Hl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=$l(this.B,this.u,this.m,Sr)}function $l(t,e,n,i){var r=vT.a.SDK_VERSION||null;return si()?new ql(t,e,n,r,i):new Da(t,e,n,r,i)}function Yl(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function Xl(t){t.a.Ob()&&Yl(t).s((function(e){var n=new bo("unknown",null,null,null,new Yi("operation-not-supported-in-this-environment"));iu(e)&&t.o(n)})),t.a.Jb()||uu(t.b)}function Zl(t,e){B(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Kl,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ql(t.g).then((function(){Yl(t).s((function(e){var n=new bo("unknown",null,null,null,new Yi("operation-not-supported-in-this-environment"));iu(e)&&t.o(n)}))})):Xl(t)})).s((function(){Xl(t)}))}function Jl(t,e){z(t.h,(function(t){return t==e}))}Gl.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=$l(this.B,this.u,this.m),this.i={}},Gl.prototype.o=function(t){if(!t)throw new Yi("invalid-auth-event");if(6e5<=x()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=x())),e=!0;break}}return uu(this.b),e};var tu=new Pi(2e3,1e4),eu=new Pi(3e4,6e4);function nu(t,e,n,i,r,o,s){return t.a.Db(e,n,i,(function(){t.f||(t.f=!0,t.a.ya(t.l))}),(function(){t.reset()}),r,o,s)}function iu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ru(t,e,n,i,r){var o;return function(t){return t.b.set(Kl,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,i,r).s((function(e){if(iu(e))throw new Yi("operation-not-supported-in-this-environment");return o=e,Ql(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new zt((function(){})):Ql(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function ou(t,e,n,i,r){return t.a.Fb(i,(function(t){e.ja(n,null,t,r)}),tu.get())}Gl.prototype.oa=function(){return this.b.oa()};var su={};function au(t,e,n){var i=e+":"+n;return su[i]||(su[i]=new Gl(t,e,n)),su[i]}function lu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function uu(t){t.g||(t.g=!0,du(t,!1,null,null))}function cu(t){t.g&&!t.i&&du(t,!1,null,null)}function hu(t,e){if(t.b=function(){return Yt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function du(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Xt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):hu(t,n):hu(t,{user:null}),t.f=[],t.c=[]}function pu(){}function fu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function mu(t,e){this.a=e,Fi(this,"verificationId",t)}function gu(t,e,n,i){return new go(t).Va(e,n).then((function(t){return new mu(t,i)}))}function yu(t){var e=xr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Yi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vi(this,{token:t,expirationTime:Mi(1e3*e.exp),authTime:Mi(1e3*e.auth_time),issuedAtTime:Mi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function vu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _u(t){this.f=t,this.b=this.a=null,this.c=0}function bu(t,e){var n=e[Ps],i=e.refreshToken;e=wu(e.expiresIn),t.b=n,t.c=e,t.a=i}function wu(t){return x()+1e3*parseInt(t,10)}function Cu(t,e){this.a=t||null,this.b=e||null,Vi(this,{lastSignInTime:Mi(e||null),creationTime:Mi(t||null)})}function Eu(t,e,n,i,r,o){Vi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function xu(t,e){for(var n in Re.call(this,t),e)this[n]=e[n]}function Su(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=vT.a.SDK_VERSION?mi(vT.a.SDK_VERSION):null,this.a=new Ts(this.l,Tr(Sr),t),this.b=new _u(this.a),Au(this,e[Ps]),bu(this.b,e),Fi(this,"refreshToken",this.b.a),Du(this,n||{}),on.call(this),this.J=!1,this.o&&_i()&&(this.i=au(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new vu((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-x()-3e5;return 0<e?e:0}))}(this),this.W=C(this.Ha,this);var i=this;this.ga=null,this.va=function(t){i.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){Tu(i,t.c)},this.Y=null}function ku(t,e){t.Z&&$e(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&Ke(e,"languageCodeChanged",t.va)}function Tu(t,e){t.P=e,Ds(t.a,vT.a.SDK_VERSION?mi(vT.a.SDK_VERSION,t.P):null)}function Ou(t,e){t.Y&&$e(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&Ke(e,"frameworkChanged",t.ua)}function Pu(t){try{return vT.a.app(t.m).auth()}catch(e){throw new Yi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Iu(t){t.B||t.w.b||(t.w.start(),$e(t,"tokenChanged",t.W),Ke(t,"tokenChanged",t.W))}function Mu(t){$e(t,"tokenChanged",t.W),t.w.stop()}function Au(t,e){t.ma=e,Fi(t,"_lat",e)}function Nu(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Jt(e).then((function(){return t}))}function Ru(t){t.i&&!t.J&&(t.J=!0,Zl(t.i,t))}function Du(t,e){Vi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Cu(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Lu(){}function Fu(t){return Yt().then((function(){if(t.B)throw new Yi("app-deleted")}))}function Vu(t){return U(t.providerData,(function(t){return t.providerId}))}function Uu(t,e){e&&(qu(t,e.providerId),t.providerData.push(e))}function qu(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Bu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Fi(t,e,n)}function ju(t,e){t!=e&&(Vi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Fi(t,"metadata",e.metadata?function(t){return new Cu(t.a,t.b)}(e.metadata):new Cu),V(e.providerData,(function(e){Uu(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Fi(t,"refreshToken",t.b.a))}function zu(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return xa(t.a,oa,{idToken:e}).then(C(t.zc,t))}(t,e).then((function(){return n||Bu(t,"isAnonymous",!1),e}))}))}function Wu(t,e){e[Ps]&&t.ma!=e[Ps]&&(bu(t.b,e),t.dispatchEvent(new xu("tokenChanged")),Au(t,e[Ps]),Bu(t,"refreshToken",t.b.a))}function Hu(t,e){return zu(t).then((function(){if(B(Vu(t),e))return Nu(t).then((function(){throw new Yi("provider-already-linked")}))}))}function Ku(t,e,n){return Ui({user:t,credential:vo(e),additionalUserInfo:e=Ar(e),operationType:n})}function Qu(t,e){return Wu(t,e),t.reload().then((function(){return t}))}function Gu(t,e,n,i,r){if(!_i())return Xt(new Yi("operation-not-supported-in-this-environment"));if(t.h&&!r)return Xt(t.h);var o=Mr(n.providerId),s=ki(t.uid+":::"),a=null;(!Ci()||ai())&&t.o&&n.isOAuthProvider&&(a=Ua(t.o,t.l,t.m,e,n,null,s,vT.a.SDK_VERSION||null,null,null,t.tenantId));var l=ni(a,o&&o.Da,o&&o.Ca);return i=i().then((function(){if(Yu(t),!r)return t.G().then((function(){}))})).then((function(){return nu(t.i,l,e,n,s,!!a,t.tenantId)})).then((function(){return new zt((function(n,i){t.ja(e,null,new Yi("cancelled-popup-request"),t.g||null),t.f=n,t.v=i,t.g=s,t.c=ou(t.i,t,e,l,s)}))})).then((function(t){return l&&ei(l),t?Ui(t):null})).s((function(t){throw l&&ei(l),t})),Xu(t,i,r)}function $u(t,e,n,i,r){if(!_i())return Xt(new Yi("operation-not-supported-in-this-environment"));if(t.h&&!r)return Xt(t.h);var o=null,s=ki(t.uid+":::");return i=i().then((function(){if(Yu(t),!r)return t.G().then((function(){}))})).then((function(){return t.ca=s,Nu(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(tc,t.A(),e.a)),e})).then((function(){return ru(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.da)return ec(t.da);throw o})).then((function(){if(o)throw o})),Xu(t,i,r)}function Yu(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Yi("internal-error");throw new Yi("auth-domain-config-required")}}function Xu(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Xt(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new xu("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(i),i.ka((function(){j(t.I,i)})),i}function Zu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Ps]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-x())/1e3;var i=new Su(e,n,t);return t.providerData&&V(t.providerData,(function(t){t&&Uu(i,Ui(t))})),t.redirectEventId&&(i.ca=t.redirectEventId),i}function Ju(t){this.a=t,this.b=bl()}lu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},lu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(du(this,!0,null,t.a),Yt()):e.za(n,i)?function(t,e,n){n=n.za(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.R(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then((function(e){du(t,a,e,null)})).s((function(e){du(t,a,null,e)}))}(this,t,e):Xt(new Yi("invalid-auth-event")):(du(this,!1,null,null),Yt())}else Xt(new Yi("invalid-auth-event"))},lu.prototype.oa=function(){var t=this;return new zt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Yi("timeout");t.a&&t.a.cancel(),t.a=cn(eu.get()).then((function(){t.b||(t.g=!0,du(t,!0,null,e))}))}(t))}))},pu.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Yt()):e.za(n,i)?function(t,e){var n=t.b,i=t.c;e.za(i,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(i,t,null,n)})).s((function(t){e.ja(i,null,t,n)}))}(t,e):Xt(new Yi("invalid-auth-event"))}else Xt(new Yi("invalid-auth-event"))},mu.prototype.confirm=function(t){return t=yo(this.verificationId,t),this.a(t)},vu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Ii()||!t?Yt():new zt((function(n){e=function(){Ii()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},vu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_u.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},_u.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Xt(new Yi("user-token-expired")):t||!this.b||x()>this.c-3e4?this.a?function(t,e){return function(t,e){return new zt((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ls(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(ka(t)):t.access_token&&t.refresh_token?n(t):i(new Yi("internal-error")):i(new Yi("network-request-failed"))}),"POST",Dn(e).toString(),t.g,t.u.get()):i(new Yi("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=wu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cu.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(xu,Re),S(Su,on),Su.prototype.sa=function(t){this.ga=t,Rs(this.a,t)},Su.prototype.ha=function(){return this.ga},Su.prototype.Aa=function(){return H(this.P)},Su.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Fi(Su.prototype,"providerId","firebase"),(t=Su.prototype).reload=function(){var t=this;return Xu(this,Fu(this).then((function(){return zu(t).then((function(){return Nu(t)})).then(Lu)})))},t.dc=function(t){return this.G(t).then((function(t){return new yu(t)}))},t.G=function(t){var e=this;return Xu(this,Fu(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Yi("internal-error");return t.accessToken!=e.ma&&(Au(e,t.accessToken),e.dispatchEvent(new xu("tokenChanged"))),Bu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Yi("internal-error");Du(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?U(t,(function(t){return new Eu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Uu(this,e[n]);Bu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Di("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return Xu(this,t.f(this.a,this.uid).then((function(t){return Wu(e,t),n=Ku(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.rc=function(t){return Di("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return Xu(this,Hu(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ku(e,t,"link"),Qu(e,t)})).then((function(){return n})))},t.sc=function(t,e){var n=this;return Xu(this,Hu(this,"phone").then((function(){return gu(Pu(n),t,e,C(n.eb,n))})))},t.Bc=function(t,e){var n=this;return Xu(this,Yt().then((function(){return gu(Pu(n),t,e,C(n.gb,n))})),!0)},t.rb=function(t){var e=this;return Xu(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return Wu(e,t),e.reload()})))},t.Sc=function(t){var e=this;return Xu(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return Wu(e,t),e.reload()})))},t.sb=function(t){var e=this;return Xu(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return Wu(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Fu(this);var e=this;return Xu(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Wu(e,t),Bu(e,"displayName",t.displayName||null),Bu(e,"photoURL",t.photoUrl||null),V(e.providerData,(function(t){"password"===t.providerId&&(Fi(t,"displayName",e.displayName),Fi(t,"photoURL",e.photoURL))})),Nu(e)})).then(Lu))},t.Qc=function(t){var e=this;return Xu(this,zu(this).then((function(n){return B(Vu(e),t)?function(t,e,n){return xa(t,na,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return V(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),V(Vu(e),(function(t){n[t]||qu(e,t)})),n[go.PROVIDER_ID]||Fi(e,"phoneNumber",null),Nu(e)})):Nu(e).then((function(){throw new Yi("no-such-provider")}))})))},t.delete=function(){var t=this;return Xu(this,this.G().then((function(e){return xa(t.a,ea,{idToken:e})})).then((function(){t.dispatchEvent(new xu("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");ku(t,null),Ou(t,null),t.I=[],t.B=!0,Mu(t),Fi(t,"refreshToken",null),t.i&&Jl(t.i,t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?C(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?C(this.Cb,this):null},t.tc=function(t){var e=this;return Gu(this,"linkViaPopup",t,(function(){return Hu(e,t.providerId).then((function(){return Nu(e)}))}),!1)},t.Cc=function(t){return Gu(this,"reauthViaPopup",t,(function(){return Yt()}),!0)},t.uc=function(t){var e=this;return $u(this,"linkViaRedirect",t,(function(){return Hu(e,t.providerId)}),!1)},t.Dc=function(t){return $u(this,"reauthViaRedirect",t,(function(){return Yt()}),!0)},t.Bb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xu(this,this.G().then((function(n){return Gs(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=Ku(r,t,"link"),Qu(r,t)})).then((function(){return o})))},t.Cb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xu(this,Yt().then((function(){return zr($s(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=Ku(r,t,"reauthenticate"),Wu(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},t.jb=function(t){var e=this,n=null;return Xu(this,this.G().then((function(e){return n=e,void 0===t||Q(t)?{}:_r(new ur(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(t,this.metadata.A()),V(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var tc={name:"redirectUser",C:"session"};function ec(t){return El(t.b,tc,t.a)}function nc(t){this.a=t,this.b=bl(),this.c=null,this.f=function(t){var e=oc("local"),n=oc("session"),i=oc("none");return function(t,e,n){var i=Cl(e,n),r=wl(t,e.C);return t.get(e,n).then((function(o){var a=null;try{a=Si(s.localStorage.getItem(i))}catch(l){}if(a&&!o)return s.localStorage.removeItem(i),t.set(e,a,n);a&&o&&"localStorage"!=r.type&&s.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(rc,t.a).then((function(t){return t?oc(t):e}))}))}))})).then((function(e){return t.c=e,ic(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(oc("local"),this.a,C(this.g,this))}function ic(t,e){var n,i=[];for(n in vl)vl[n]!==e&&i.push(El(t.b,oc(vl[n]),t.a));return i.push(El(t.b,rc,t.a)),function(t){return new zt((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)Zt(t[a],E(o,a),s);else e(r)}))}(i)}nc.prototype.g=function(){var t=this,e=oc("local");uc(this,(function(){return Yt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return ic(t,"local").then((function(){t.c=e}))}))}))};var rc={name:"persistence",C:"session"};function oc(t){return{name:"authUser",C:t}}function sc(t,e){return uc(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function ac(t){return uc(t,(function(){return El(t.b,t.c,t.a)}))}function lc(t,e){return uc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Zu(t||{})}))}))}function uc(t,e){return t.f=t.f.then(e,e),t.f}function cc(t){if(this.l=!1,Fi(this,"settings",new fu),Fi(this,"app",t),!vc(this).options||!vc(this).options.apiKey)throw new Yi("invalid-api-key");t=vT.a.SDK_VERSION?mi(vT.a.SDK_VERSION):null,this.b=new Ts(vc(this).options&&vc(this).options.apiKey,Tr(Sr),t),this.O=[],this.m=[],this.J=[],this.Ub=vT.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=vT.a.INTERNAL.createSubscribe(C(this.pc,this)),gc(this,null),this.h=new nc(vc(this).options.apiKey+":"+vc(this).name),this.w=new Ju(vc(this).options.apiKey+":"+vc(this).name),this.Y=Cc(this,function(t){var e=vc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Zu(t||{})}))}(t.w,vc(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),ec(t.w)}));return Cc(t,e)}(t).then((function(){return lc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return sc(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:ac(t.h)}))):null})).then((function(e){gc(t,e||null)}));return Cc(t,n)}(this)),this.i=Cc(this,function(t){return t.Y.then((function(){return fc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(oc("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.ua=C(this.bc,this),this.va=C(this.mc,this),this.Ha=C(this.nc,this),this.a=null,function(t){var e=vc(t).options.authDomain,n=vc(t).options.apiKey;e&&_i()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=au(e,n,vc(t).name),Zl(t.a,t),_c(t)&&Ru(_c(t)),t.B){Ru(t.B);var i=t.B;i.sa(t.ha()),ku(i,t),Tu(i=t.B,t.I),Ou(i,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function hc(t){Re.call(this,"languageCodeChanged"),this.g=t}function dc(t){Re.call(this,"frameworkChanged"),this.c=t}function pc(t){return t.Tb||Xt(new Yi("auth-domain-config-required"))}function fc(t){if(!_i())return Xt(new Yi("operation-not-supported-in-this-environment"));var e=pc(t).then((function(){return t.a.oa()})).then((function(t){return t?Ui(t):null}));return Cc(t,e)}function mc(t,e){var n={};return n.apiKey=vc(t).options.apiKey,n.authDomain=vc(t).options.authDomain,n.appName=vc(t).name,t.Y.then((function(){return function(t,e,n,i){var r=new Su(t,e);return n&&(r.da=n),i&&Tu(r,i),r.reload().then((function(){return r}))}(n,e,t.w,t.Aa())})).then((function(e){return _c(t)&&e.uid==_c(t).uid?(ju(_c(t),e),t.aa(e)):(gc(t,e),Ru(e),t.aa(e))})).then((function(){wc(t)}))}function gc(t,e){_c(t)&&(function(t,e){z(t.O,(function(t){return t==e}))}(_c(t),t.ub),$e(_c(t),"tokenChanged",t.ua),$e(_c(t),"userDeleted",t.va),$e(_c(t),"userInvalidated",t.Ha),Mu(_c(t))),e&&(e.O.push(t.ub),Ke(e,"tokenChanged",t.ua),Ke(e,"userDeleted",t.va),Ke(e,"userInvalidated",t.Ha),0<t.o&&Iu(e)),Fi(t,"currentUser",e),e&&(e.sa(t.ha()),ku(e,t),Tu(e,t.I),Ou(e,t))}function yc(t,e){var n=null,i=null;return Cc(t,e.then((function(e){return n=vo(e),i=Ar(e),mc(t,e)})).then((function(){return Ui({user:_c(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function vc(t){return t.app}function _c(t){return t.currentUser}function bc(t){return _c(t)&&_c(t)._lat||null}function wc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](bc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](bc(t))}}function Cc(t,e){return t.O.push(e),e.ka((function(){j(t.O,e)})),e}function Ec(){}function xc(){this.a={},this.b=1e12}nc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Yi("invalid-persistence-type"),n=new Yi("unsupported-persistence-type");t:{for(i in vl)if(vl[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(ui()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!vi()&&"none"!==t)throw n}}(t),uc(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(i){return e=i,ic(n,t)})).then((function(){if(n.c=oc(t),e)return n.b.set(n.c,e,n.a)})):Yt()}))},S(cc,on),S(hc,Re),S(dc,Re),(t=cc.prototype).mb=function(t){return Cc(this,t=this.h.mb(t))},t.sa=function(t){this.Z===t||this.l||(this.Z=t,Rs(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=s.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Ds(this.b,vT.a.SDK_VERSION?mi(vT.a.SDK_VERSION,this.I):null),this.dispatchEvent(new dc(this.I))},t.Aa=function(){return H(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:vc(this).options.apiKey,authDomain:vc(this).options.authDomain,appName:vc(this).name,currentUser:_c(this)&&_c(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ac,this):null},t.ac=function(t,e,n,i){var r=this;t={requestUri:t,postBody:i,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,s=null,a=Qs(r.b,t).then((function(t){return o=vo(t),s=Ar(t),t}));return Cc(this,t=r.Y.then((function(){return a})).then((function(t){return mc(r,t)})).then((function(){return Ui({user:_c(r),credential:o,additionalUserInfo:s,operationType:"signIn"})})))},t.Lc=function(t){if(!_i())return Xt(new Yi("operation-not-supported-in-this-environment"));var e=this,n=Mr(t.providerId),i=ki(),r=null;(!Ci()||ai())&&vc(this).options.authDomain&&t.isOAuthProvider&&(r=Ua(vc(this).options.authDomain,vc(this).options.apiKey,vc(this).name,"signInViaPopup",t,null,i,vT.a.SDK_VERSION||null,null,null,this.R()));var o=ni(r,n&&n.Da,n&&n.Ca);return Cc(this,n=pc(this).then((function(n){return nu(n,o,"signInViaPopup",t,i,!!r,e.R())})).then((function(){return new zt((function(t,n){e.ja("signInViaPopup",null,new Yi("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=ou(e.a,e,"signInViaPopup",o,i)}))})).then((function(t){return o&&ei(o),t?Ui(t):null})).s((function(t){throw o&&ei(o),t})))},t.Mc=function(t){if(!_i())return Xt(new Yi("operation-not-supported-in-this-environment"));var e=this;return Cc(this,pc(this).then((function(){return function(t){return uc(t,(function(){return t.b.set(rc,t.c.C,t.a)}))}(e.h)})).then((function(){return ru(e.a,"signInViaRedirect",t,void 0,e.R())})))},t.oa=function(){var t=this;return fc(this).then((function(e){return t.a&&cu(t.a.b),e})).s((function(e){throw t.a&&cu(t.a.b),e}))},t.Rc=function(t){if(!t)return Xt(new Yi("null-user"));if(this.P!=t.tenantId)return Xt(new Yi("tenant-id-mismatch"));var e=this,n={};n.apiKey=vc(this).options.apiKey,n.authDomain=vc(this).options.authDomain,n.appName=vc(this).name;var i=function(t,e,n,i){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var r=t.b,o={};return o[Ps]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-x())/1e3,e=new Su(e,o),n&&(e.da=n),i&&Tu(e,i),ju(e,t),e}(t,n,e.w,e.Aa());return Cc(this,this.i.then((function(){if(vc(e).options.apiKey!=t.l)return i.reload()})).then((function(){return _c(e)&&t.uid==_c(e).uid?(ju(_c(e),t),e.aa(t)):(gc(e,i),Ru(i),e.aa(i))})).then((function(){wc(e)})))},t.pb=function(){var t=this;return Cc(this,this.i.then((function(){return t.a&&cu(t.a.b),_c(t)?(gc(t,null),ac(t.h).then((function(){wc(t)}))):Yt()})))},t.Nc=function(){var t=this;return lc(this.h,vc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_c(t)&&e){n=_c(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return ju(_c(t),e),_c(t).G();(_c(t)||e)&&(gc(t,e),e&&(Ru(e),e.da=t.w),t.a&&Zl(t.a,t),wc(t))}}))},t.aa=function(t){return sc(this.h,t)},t.bc=function(){wc(this),this.aa(_c(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_c(e))}))},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Cc(t,t.i.then((function(){!t.l&&B(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(bc(t)))})))}(this,(function(){t.next(_c(e))}))},t.xc=function(t,e,n){var i=this;return this.ga&&Promise.resolve().then((function(){g(t)?t(_c(i)):g(t.next)&&t.next(_c(i))})),this.Ub(t,e,n)},t.wc=function(t,e,n){var i=this;return this.ga&&Promise.resolve().then((function(){i.W=i.getUid(),g(t)?t(_c(i)):g(t.next)&&t.next(_c(i))})),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Cc(this,this.i.then((function(){return _c(e)?_c(e).G(t).then((function(t){return{accessToken:t}})):null})))},t.Hc=function(t){var e=this;return this.i.then((function(){return yc(e,xa(e.b,_a,{token:t}))})).then((function(t){var n=t.user;return Bu(n,"isAnonymous",!1),e.aa(n),t}))},t.Ic=function(t,e){var n=this;return this.i.then((function(){return yc(n,xa(n.b,ba,{email:t,password:e}))}))},t.Xb=function(t,e){var n=this;return this.i.then((function(){return yc(n,xa(n.b,Js,{email:t,password:e}))}))},t.Ra=function(t){var e=this;return this.i.then((function(){return yc(e,t.na(e.b))}))},t.Gc=function(t){return Di("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=_c(t);if(e&&e.isAnonymous){var n=Ui({providerId:null,isNewUser:!1});return Ui({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yc(t,t.b.ob()).then((function(e){var n=e.user;return Bu(n,"isAnonymous",!0),t.aa(n),e}))}))},t.getUid=function(){return _c(this)&&_c(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&_c(this)&&Iu(_c(this))},t.Ec=function(t){var e=this;V(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&_c(this)&&Mu(_c(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Cc(this,this.i.then((function(){e.l||B(e.m,t)&&t(bc(e))})))},t.removeAuthTokenListener=function(t){z(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(oc("local"),t.a,this.ma),this.a&&(Jl(this.a,this),cu(this.a.b)),Promise.resolve()},t.$b=function(t){return Cc(this,function(t,e){return xa(t,ta,{identifier:e,continueUri:bi()?Zn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!ho(t)},t.lb=function(t,e){var n=this;return Cc(this,Yt().then((function(){var t=new ur(e);if(!t.c)throw new Yi("argument-error",dr+" must be true when sending sign in link to email");return _r(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Uc=function(t){return this.Ka(t).then((function(t){return t.data.email}))},t.$a=function(t,e){return Cc(this,this.b.$a(t,e).then((function(){})))},t.Ka=function(t){return Cc(this,this.b.Ka(t).then((function(t){return new Bi(t)})))},t.Xa=function(t){return Cc(this,this.b.Xa(t).then((function(){})))},t.kb=function(t,e){var n=this;return Cc(this,Yt().then((function(){return void 0===e||Q(e)?{}:_r(new ur(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},t.Kc=function(t,e){return Cc(this,gu(this,t,e,C(this.Ra,this)))},t.Jc=function(t,e){var n=this;return Cc(this,Yt().then((function(){var i=e||Zn(),r=co(t,i);if(!(i=ho(i)))throw new Yi("argument-error","Invalid email link!");if(i.tenantId!==n.R())throw new Yi("tenant-id-mismatch");return n.Ra(r)})))},Ec.prototype.render=function(){},Ec.prototype.reset=function(){},Ec.prototype.getResponse=function(){},Ec.prototype.execute=function(){};var Sc=null;function kc(t,e){return(e=Tc(e))&&t.a[e]||null}function Tc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Oc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=jn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ke(this.f,"click",this.i)}function Pc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ic(){}xc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Oc(t,e),this.b++},xc.prototype.reset=function(t){var e=kc(this,t);t=Tc(t),e&&t&&(e.delete(),delete this.a[t])},xc.prototype.getResponse=function(t){return(t=kc(this,t))?t.getResponse():null},xc.prototype.execute=function(t){(t=kc(this,t))&&t.execute()},Oc.prototype.getResponse=function(){return Pc(this),this.b},Oc.prototype.execute=function(){Pc(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},Oc.prototype.delete=function(){Pc(this),this.g=!0,clearTimeout(this.a),this.a=null,$e(this.f,"click",this.i)},Ic.prototype.g=function(){return Sc||(Sc=new xc),Yt(Sc)},Ic.prototype.c=function(){};var Mc=null;function Ac(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nc=new X(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rc=new Pi(3e4,6e4);Ac.prototype.g=function(t){var e=this;return new zt((function(n,i){var r=setTimeout((function(){i(new Yi("network-request-failed"))}),Rc.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(s.grecaptcha)}else clearTimeout(r),i(new Yi("internal-error"));delete s[e.a]},Yt(bs(rt(Nc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(r),i(new Yi("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(s.grecaptcha))}))},Ac.prototype.c=function(){this.b--};var Dc=null;function Lc(t,e,n,i,r,o,a){if(Fi(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a?(Mc||(Mc=new Ic),a=Mc):(Dc||(Dc=new Ac),a=Dc),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Uc])throw new Yi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[qc],!s.document)throw new Yi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!jn(e)||!this.i&&jn(e).hasChildNodes())throw new Yi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ts(t,o||null,r||null),this.v=i||function(){return null};var l=this;this.l=[];var u=this.a[Fc];this.a[Fc]=function(t){if(Bc(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=yi(u,s);"function"==typeof e&&e(t)}};var c=this.a[Vc];this.a[Vc]=function(){if(Bc(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=yi(c,s);"function"==typeof t&&t()}}}var Fc="callback",Vc="expired-callback",Uc="sitekey",qc="size";function Bc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function jc(t,e){return t.h.push(e),e.ka((function(){j(t.h,e)})),e}function zc(t){if(t.B)throw new Yi("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wc(t,e,n){var i=!1;try{this.b=n||vT.a.app()}catch(s){throw new Yi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yi("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Aa()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=vT.a.SDK_VERSION?mi(vT.a.SDK_VERSION,o):null,Lc.call(this,n,t,e,(function(){try{var t=r.b.auth().ha()}catch(e){t=null}return t}),o,Tr(Sr),i)}function Hc(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new Yi("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].N(n[r])&&!o){if(e=e[r],0>r||r>=Kc.length)throw new Yi("internal-error","Argument validator received an unsupported number of arguments.");n=Kc[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}i=null}}if(i)throw new Yi("argument-error",t+" failed: "+i)}(t=Lc.prototype).Ba=function(){var t=this;return this.f?this.f:this.f=jc(this,Yt().then((function(){if(bi()&&!li())return oi();throw new Yi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,xa(t.o,ca,{})})).then((function(e){t.a[Uc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){zc(this);var t=this;return jc(this,this.Ba().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=jn(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!Bn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ft(s.name),'"'),s.type){o.push(' type="',Ft(s.type),'"');var l={};Y(l,s),delete l.type,s=l}o.push(">"),o=o.join("")}return o=r.createElement(o),s&&(a(s)?o.className=s:f(s)?o.className=s.join(" "):zn(o,s)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(a(n)?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!m(o)||y(o)&&0<o.nodeType?i(o):V(Hn(o)?H(o):o,i)}}(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){zc(this);var t=this;return jc(this,this.render().then((function(e){return new zt((function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){zc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){zc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=jn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Wc,Lc);var Kc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:a}}function Gc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function $c(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:y}}function Yc(t,e){return{name:t||"",M:"a function",optional:!!e,N:g}}function Xc(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Zc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function Jc(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&a(t.type)&&g(t.verify))}}}function th(t,e,n,i){return{name:n||"",M:t.M+" or "+e.M,optional:!!i,N:function(n){return t.N(n)||e.N(n)}}}function eh(t,e){for(var n in e){var i=e[n].name;t[i]=rh(i,t[n],e[n].j)}}function nh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,i){Hc(t,[n],[i],!0),this[e]=i}),i,n,e[n].Ya),enumerable:!0})}}function ih(t,e,n,i){t[e]=rh(e,n,i)}function rh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Hc(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}eh(cc.prototype,{Xa:{name:"applyActionCode",j:[Qc("code")]},Ka:{name:"checkActionCode",j:[Qc("code")]},$a:{name:"confirmPasswordReset",j:[Qc("code"),Qc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Qc("email"),Qc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Qc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Qc("emailLink")]},wc:{name:"onAuthStateChanged",j:[th($c(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th($c(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Qc("email"),th($c("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Qc("email"),$c("actionCodeSettings")]},mb:{name:"setPersistence",j:[Qc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Zc()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Zc()]},Hc:{name:"signInWithCustomToken",j:[Qc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Qc("email"),Qc("password")]},Jc:{name:"signInWithEmailLink",j:[Qc("email"),Qc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Su)}},Xc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Qc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Ya:th(Qc(),Xc(),"languageCode")},ti:{name:"tenantId",Ya:th(Qc(),Xc(),"tenantId")}}),(cc.Persistence=vl).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",eh(Su.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Gc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Gc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Zc()]},eb:{name:"linkWithCredential",j:[Zc()]},sc:{name:"linkWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zc()]},gb:{name:"reauthenticateWithCredential",j:[Zc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th($c("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Qc:{name:"unlink",j:[Qc("provider")]},rb:{name:"updateEmail",j:[Qc("email")]},sb:{name:"updatePassword",j:[Qc("password")]},Sc:{name:"updatePhoneNumber",j:[Zc("phone")]},tb:{name:"updateProfile",j:[$c("profile")]}}),eh(xc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(zt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(fu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Gc("appVerificationDisabledForTesting")}}),eh(mu.prototype,{confirm:{name:"confirm",j:[Qc("verificationCode")]}}),ih(jr,"fromJSON",(function(t){t=a(t)?JSON.parse(t):t;for(var e,n=[$r,lo,fo,Kr],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[th(Qc(),$c(),"json")]),ih(uo,"credential",(function(t,e){return new ao(t,e)}),[Qc("email"),Qc("password")]),eh(ao.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Jr.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),ih(Jr,"credential",to,[th(Qc(),$c(),"token")]),ih(uo,"credentialWithLink",co,[Qc("email"),Qc("emailLink")]),eh(eo.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),ih(eo,"credential",no,[th(Qc(),$c(),"token")]),eh(io.prototype,{wa:{name:"addScope",j:[Qc("scope")]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),ih(io,"credential",ro,[th(Qc(),th($c(),Xc()),"idToken"),th(Qc(),Xc(),"accessToken",!0)]),eh(oo.prototype,{Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),ih(oo,"credential",so,[th(Qc(),$c(),"token"),Qc("secret",!0)]),eh(Zr.prototype,{wa:{name:"addScope",j:[Qc("scope")]},credential:{name:"credential",j:[th(Qc(),th($c(),Xc()),"optionsOrIdToken"),th(Qc(),Xc(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),eh(Qr.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Wr.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),ih(go,"credential",yo,[Qc("verificationId"),Qc("verificationCode")]),eh(go.prototype,{Va:{name:"verifyPhoneNumber",j:[Qc("phoneNumber"),Jc()]}}),eh(po.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Yi.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),eh(ko.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),eh(So.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),eh(Wc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ih(tr,"parseLink",lr,[Qc("link")]),function(){if(void 0===vT.a||!vT.a.INTERNAL||!vT.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ji,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:jr,Error:Yi};ih(t,"EmailAuthProvider",uo,[]),ih(t,"FacebookAuthProvider",Jr,[]),ih(t,"GithubAuthProvider",eo,[]),ih(t,"GoogleAuthProvider",io,[]),ih(t,"TwitterAuthProvider",oo,[]),ih(t,"OAuthProvider",Zr,[Qc("providerId")]),ih(t,"SAMLAuthProvider",Xr,[Qc("providerId")]),ih(t,"PhoneAuthProvider",go,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof cc)}}]),ih(t,"RecaptchaVerifier",Wc,[th(Qc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$c("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof vT.a.app.App)}}]),ih(t,"ActionCodeURL",tr,[]),vT.a.INTERNAL.registerService("auth",(function(t,e){return e({INTERNAL:{getUid:C((t=new cc(t)).getUid,t),getToken:C(t.cc,t),addAuthTokenListener:C(t.Wb,t),removeAuthTokenListener:C(t.Ec,t)}}),t}),t,(function(t,e){if("create"===t)try{e.auth()}catch(n){}})),vT.a.INTERNAL.extendNamespace({User:Su})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let _T=class{};function bT(t){const e=function(t){return new w(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(j(t=>t.bytesTransferred/t.totalBytes*100))}}function wT(t,e){return{getDownloadURL:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(K(e.zone.runOutsideAngular(()=>t.getDownloadURL())))),getMetadata:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(K(e.zone.runOutsideAngular(()=>t.getMetadata())))),delete:()=>K(t.delete()),child:n=>wT(t.child(n),e),updateMetatdata:e=>K(t.updateMetadata(e)),updateMetadata:e=>K(t.updateMetadata(e)),put:(e,n)=>bT(t.put(e,n)),putString:(e,n,i)=>bT(t.putString(e,n,i))}}const CT=new Tt("angularfire2.storageBucket");let ET=class{constructor(t,e,n,i,r){this.scheduler=new Zw(r,i),this.storage=r.runOutsideAngular(()=>lC(t,e).storage(n||void 0))}ref(t){return wT(this.storage.ref(t),this.scheduler)}upload(t,e,n){return wT(this.storage.ref(t),this.scheduler).put(e,n)}};var xT="firebasestorage.googleapis.com",ST="storageBucket",kT=12e4,TT=6e5,OT=-9007199254740991,PT=function(){function t(t,e){this.code_=MT(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return MT(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),IT={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function MT(t){return"storage/"+t}function AT(){return new PT(IT.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function NT(){return new PT(IT.CANCELED,"User canceled the upload/download.")}function RT(){return new PT(IT.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DT(){return new PT(IT.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LT(t,e,n){return new PT(IT.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function FT(){return new PT(IT.APP_DELETED,"The Firebase app was deleted.")}function VT(t,e){return new PT(IT.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function UT(t){throw new PT(IT.INTERNAL_ERROR,"Internal error: "+t)}var qT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function BT(t){switch(t){case qT.RAW:case qT.BASE64:case qT.BASE64URL:case qT.DATA_URL:return;default:throw"Expected one of the event types: ["+qT.RAW+", "+qT.BASE64+", "+qT.BASE64URL+", "+qT.DATA_URL+"]."}}var jT=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function zT(t,e){switch(t){case qT.RAW:return new jT(WT(e));case qT.BASE64:case qT.BASE64URL:return new jT(HT(t,e));case qT.DATA_URL:return new jT((n=new KT(e)).base64?HT(qT.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw VT(qT.DATA_URL,"Malformed data URL.")}return WT(e)}(n.rest),new KT(e).contentType)}var n;throw AT()}function WT(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,o=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function HT(t,e){switch(t){case qT.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw VT(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case qT.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw VT(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(u){throw VT(t,"Invalid character found")}for(var a=new Uint8Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);return a}var KT=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw VT(qT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),QT={STATE_CHANGED:"state_changed"},GT={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},$T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function YT(t){switch(t){case GT.RUNNING:case GT.PAUSING:case GT.CANCELING:return $T.RUNNING;case GT.PAUSED:return $T.PAUSED;case GT.SUCCESS:return $T.SUCCESS;case GT.CANCELED:return $T.CANCELED;case GT.ERROR:default:return $T.ERROR}}function XT(t){return null!=t}function ZT(t){return void 0!==t}function JT(t){return"function"==typeof t}function tO(t){return"object"==typeof t}function eO(t){return tO(t)&&null!==t}function nO(t){return"string"==typeof t||t instanceof String}function iO(t){return rO(t)&&Number.isInteger(t)}function rO(t){return"number"==typeof t||t instanceof Number}function oO(t){return sO()&&t instanceof Blob}function sO(){return"undefined"!=typeof Blob}var aO=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),lO=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=aO.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=aO.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=aO.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw UT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),XT(i))for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return XT(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw UT("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw UT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw UT("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){XT(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){XT(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),uO=function(){function t(){}return t.prototype.createXhrIo=function(){return new lO},t}();function cO(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function hO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=cO();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(sO())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var dO=function(){function t(t,e){var n=0,i="";oO(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(oO(this.data_)){var i=(o=e,s=n,(r=this.data_).webkitSlice?r.webkitSlice(o,s):r.mozSlice?r.mozSlice(o,s):r.slice?r.slice(o,s):null);return null===i?null:new t(i)}var r,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(sO()){var i=e.map((function(e){return e instanceof t?e.data_:e}));return new t(hO.apply(null,i))}var r=e.map((function(t){return nO(t)?zT(qT.RAW,t).data:t.data_})),o=0;r.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return r.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),pO=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(i){return new t(e,"")}if(""===n.path)return n;throw new PT(IT.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),r=xT.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+r+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],s=0;s<o.length;s++){var a=o[s],l=a.regex.exec(e);if(l){var u=l[a.indices.path];u||(u=""),n=new t(l[a.indices.bucket],u),a.postModify(n);break}}if(null==n)throw function(t){return new PT(IT.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function fO(t){var e,n;try{e=JSON.parse(t)}catch(i){return null}return tO(n=e)&&!Array.isArray(n)?e:null}function mO(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function gO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function yO(t){return"https://"+xT+"/v0"+t}function vO(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}function _O(t,e){return e}var bO=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||_O}}(),wO=null;function CO(t,e,n){var i=fO(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var s=n[o];i[s.local]=s.xform(i,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new pO(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(i,t),i}(t,i,n)}function EO(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function xO(t){if(!tO(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!tO(n))throw"Expected object for 'customMetadata' mapping."}else if(eO(n))throw"Mapping for '"+e+"' cannot be an object."}}var SO="maxResults",kO=1e3,TO="pageToken",OO="prefixes",PO="items";function IO(t){if(!tO(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===SO){if(!iO(t[SO])||t[SO]<=0)throw"Expected maxResults to be a positive number.";if(t[SO]>1e3)throw"Expected maxResults to be less than or equal to "+kO+"."}else{if(e!==TO)throw"Unknown option: "+e;if(t[TO]&&!nO(t[TO]))throw"Expected pageToken to be string."}}var MO=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function AO(t){if(!t)throw AT()}function NO(t,e){return function(n,i){var r=CO(t,i,e);return AO(null!==r),r}}function RO(t){return function(e,n){var i;return(i=401===e.getStatus()?new PT(IT.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new PT(IT.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new PT(IT.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),i}}function DO(t){var e=RO(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new PT(IT.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),r.setServerResponseProp(i.serverResponseProp()),r}}function LO(t,e,n){var i=yO(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new MO(i,"GET",NO(t,n),r);return o.errorHandler=DO(e),o}function FO(t,e,n,i,r){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);var s=yO(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),l=new MO(s,"GET",function(t){return function(e,n){var i=function(t,e){var n=fO(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},i=t.bucket();if(null===i)throw new PT(IT.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ST+"' property when initializing the app?");if(e[OO])for(var r=0,o=e[OO];r<o.length;r++){var s=o[r].replace(/\/$/,""),a=t.makeStorageReference(new pO(i,s));n.prefixes.push(a)}if(e[PO])for(var l=0,u=e[PO];l<u.length;l++)a=t.makeStorageReference(new pO(i,u[l].name)),n.items.push(a);return n}(t,n)}(t,n);return AO(null!==i),i}}(t),a);return l.urlParams=o,l.errorHandler=RO(e),l}function VO(t,e,n){var i=yO(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new MO(i,"GET",function(t,e){return function(n,i){var r=CO(t,i,e);return AO(null!==r),function(t,e){var n=fO(e);if(null===n)return null;if(!nO(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var r=encodeURIComponent;return i.split(",").map((function(e){var n=t.fullPath;return yO("/b/"+r(t.bucket)+"/o/"+r(n))+vO({alt:"media",token:e})}))[0]}(r,i)}}(t,n),r);return o.errorHandler=DO(e),o}function UO(t,e,n,i){var r=yO(e.fullServerUrl()),o=EO(n,i),s=t.maxOperationRetryTime(),a=new MO(r,"PATCH",NO(t,i),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=DO(e),a}function qO(t,e){var n=yO(e.fullServerUrl()),i=t.maxOperationRetryTime(),r=new MO(n,"DELETE",(function(t,e){}),i);return r.successCodes=[200,204],r.errorHandler=DO(e),r}function BO(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var jO=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function zO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){AO(!1)}return AO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var WO=function(){return function(t,e,n){if(JT(t)||XT(e)||XT(n))this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}}(),HO=function(){return function(t,e,n,i,r,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=o}}();function KO(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].optional){i=o;break}if(!(i<=n.length&&n.length<=r))throw(s=i)===(a=r)?(l=s,u=1===s?"argument":"arguments"):(l="between "+s+" and "+a,u="arguments"),new PT(IT.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+l+" "+u+", received "+n.length+".");var s,a,l,u;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?LT(o,t,c.message):LT(o,t,c)}}var QO=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!ZT(e)||t(e)},this.optional=!!e}}();function GO(t,e){function n(t){if(!nO(t))throw"Expected string."}var i,r,o;return t?(r=n,o=t,i=function(t){r(t),o(t)}):i=n,new QO(i,e)}function $O(){return new QO((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||sO()&&t instanceof Blob))throw"Expected Blob or File."}))}function YO(t){return new QO(xO,t)}function XO(t){return new QO(IO,t)}function ZO(){return new QO((function(t){if(!(rO(t)&&t>=0))throw"Expected a number 0 or greater."}))}function JO(t,e){return new QO((function(e){if(!(null===e||XT(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function tP(t){return new QO((function(t){if(null!==t&&!JT(t))throw"Expected a Function."}),t)}function eP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var nP=function(){function t(t,e,n,i,r,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=r,this.metadata_=o,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=GT.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(IT.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(GT.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(IT.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(GT.ERROR))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===GT.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case GT.RUNNING:t(n);break;case GT.CANCELING:e.transition_(GT.CANCELED);break;case GT.PAUSING:e.transition_(GT.PAUSED)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s=BO(e,i,r),a={name:s.fullPath},l=yO(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=EO(s,n),h=t.maxUploadRetryTime(),d=new MO(l,"POST",(function(t){var e;zO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){AO(!1)}return AO(nO(e)),e}),h);return d.urlParams=a,d.headers=u,d.body=c,d.errorHandler=RO(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var i=function(t,e,n,i){var r=t.maxUploadRetryTime(),o=new MO(n,"POST",(function(t){var e=zO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){AO(!1)}n||AO(!1);var r=Number(n);return AO(!isNaN(r)),new jO(r,i.size(),"final"===e)}),r);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=RO(e),o}(t.authWrapper_,t.location_,e,t.blob_),r=t.authWrapper_.makeRequest(i,n);t.request_=r,r.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new jO(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_((function(r){var o;try{o=function(t,e,n,i,r,o,s,a){var l=new jO(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new PT(IT.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;r>0&&(c=Math.min(c,r));var h=l.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},p=i.slice(h,h+c);if(null===p)throw RT();var f=e.maxUploadRetryTime(),m=new MO(n,"POST",(function(t,n){var r,s=zO(t,["active","final"]),a=l.current+c,u=i.size();return r="final"===s?NO(e,o)(t,n):null,new jO(a,u,"final"===s,r)}),f);return m.headers=d,m.body=p.uploadData(),m.progressCallback=a||null,m.errorHandler=RO(t),m}(t.location_,t.authWrapper_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(GT.ERROR)}var s=t.authWrapper_.makeRequest(o,r);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(GT.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=LO(t.authWrapper_,t.location_,t.mappings_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(GT.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var l=BO(e,i,r),u=EO(l,n),c=dO.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===c)throw RT();var h={name:l.fullPath},d=yO(o),p=t.maxUploadRetryTime(),f=new MO(d,"POST",NO(t,n),p);return f.urlParams=h,f.headers=s,f.body=c.uploadData(),f.errorHandler=RO(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(GT.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case GT.CANCELING:case GT.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case GT.RUNNING:var e=this.state_===GT.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case GT.PAUSED:this.state_=t,this.notifyObservers_();break;case GT.CANCELED:this.error_=NT(),this.state_=t,this.notifyObservers_();break;case GT.ERROR:case GT.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case GT.PAUSING:this.transition_(GT.PAUSED);break;case GT.CANCELING:this.transition_(GT.CANCELED);break;case GT.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=YT(this.state_);return new HO(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,i){function r(){if(t!==QT.STATE_CHANGED)throw"Expected one of the event types: ["+QT.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=tP(!0).validator,a=JO(null,!0).validator;function l(t){try{return void s(t)}catch(e){}try{if(a(t),!(ZT(t.next)||ZT(t.error)||ZT(t.complete)))throw"";return}catch(e){throw o}}var u=[GO(r),JO(l,!0),tP(!0),tP(!0)];KO("on",u,arguments);var c=this;function h(t){return function(e,n,r){null!==t&&KO("on",t,arguments);var o=new WO(e,n,i);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(t){if(null===t)throw o;l(t)}var p=[JO(d),tP(!0),tP(!0)],f=!(ZT(e)||ZT(n)||ZT(i));return f?h(p):h(null)(e,n,i)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(YT(this.state_)){case $T.SUCCESS:eP(this.resolve_.bind(null,this.snapshot))();break;case $T.CANCELED:case $T.ERROR:eP(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(YT(this.state_)){case $T.RUNNING:case $T.PAUSED:t.next&&eP(t.next.bind(t,this.snapshot))();break;case $T.SUCCESS:t.complete&&eP(t.complete.bind(t))();break;case $T.CANCELED:case $T.ERROR:t.error&&eP(t.error.bind(t,this.error_))();break;default:t.error&&eP(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){KO("resume",[],arguments);var t=this.state_===GT.PAUSED||this.state_===GT.PAUSING;return t&&this.transition_(GT.RUNNING),t},t.prototype.pause=function(){KO("pause",[],arguments);var t=this.state_===GT.RUNNING;return t&&this.transition_(GT.PAUSING),t},t.prototype.cancel=function(){KO("cancel",[],arguments);var t=this.state_===GT.RUNNING||this.state_===GT.PAUSING;return t&&this.transition_(GT.CANCELING),t},t}(),iP=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof pO?e:pO.makeFromUrl(e)}return t.prototype.toString=function(){return KO("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(wO)return wO;var t=[];t.push(new bO("bucket")),t.push(new bO("generation")),t.push(new bO("metageneration")),t.push(new bO("name","fullPath",!0));var e=new bO("name");e.xform=function(t,e){return function(t){return!nO(t)||t.length<2?t:gO(t)}(e)},t.push(e);var n=new bO("size");return n.xform=function(t,e){return XT(e)?Number(e):e},t.push(n),t.push(new bO("timeCreated")),t.push(new bO("updated")),t.push(new bO("md5Hash",null,!0)),t.push(new bO("cacheControl",null,!0)),t.push(new bO("contentDisposition",null,!0)),t.push(new bO("contentEncoding",null,!0)),t.push(new bO("contentLanguage",null,!0)),t.push(new bO("contentType",null,!0)),t.push(new bO("metadata","customMetadata",!0)),wO=t}()},t.prototype.child=function(t){KO("child",[GO()],arguments);var e=mO(this.location.path,t),n=new pO(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new pO(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new pO(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return gO(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),KO("put",[$O(),YO(!0)],arguments),this.throwIfRoot_("put"),new nP(this,this.authWrapper,this.location,this.mappings(),new dO(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=qT.RAW),KO("putString",[GO(),GO(BT,!0),YO(!0)],arguments),this.throwIfRoot_("putString");var i=zT(e,t),r=Object.assign({},n);return!XT(r.contentType)&&XT(i.contentType)&&(r.contentType=i.contentType),new nP(this,this.authWrapper,this.location,this.mappings(),new dO(i.data,!0),r)},t.prototype.delete=function(){var t=this;return KO("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=qO(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){KO("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(zw.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(zw.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(i=t.prefixes).push.apply(i,n.prefixes),(r=t.items).push.apply(r,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){KO("list",[XO(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var i=t||{},r=FO(e.authWrapper,e.location,"/",i.pageToken,i.maxResults);return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return KO("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=LO(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return KO("updateMetadata",[YO()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var i=UO(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return KO("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=VO(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw DT();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new PT(IT.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),rP=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),oP=function(){function t(){this.map=new Map,this.id=OT}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),sP=function(){function t(e,n,i,r,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var s=this.app_.options;XT(s)&&(this.bucket_=t.extractBucket_(s))}this.storageRefMaker_=n,this.requestMaker_=i,this.pool_=o,this.service_=r,this.maxOperationRetryTime_=kT,this.maxUploadRetryTime_=TT,this.requestMap_=new oP}return t.extractBucket_=function(t){var e=t[ST]||null;return null==e?null:pO.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&XT(this.app_.INTERNAL)&&XT(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw FT();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new rP(FT());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),aP=function(){function t(t,e,n,i,r,o,s,a,l,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());ZT(a)?r(a):r()}catch(l){o(l)}else null!==s?((i=AT()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,i):i)):o(i=n.canceled?t.appDelete_?FT():NT():new PT(IT.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new lP(!1,null,!0)):this.backoffId_=function(t,e,n){var i=1,r=null,o=!1,s=0;function a(){return 2===s}var l=!1;function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];l||(l=!0,e.apply(null,t))}function c(e){r=setTimeout((function(){r=null,t(h,a())}),e)}function h(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];l||(t?u.call.apply(u,Object(zw.__spreadArrays)([null,t],n)):a()||o?u.call.apply(u,Object(zw.__spreadArrays)([null,t],n)):(i<64&&(i*=2),1===s?(s=2,e=0):e=1e3*(i+Math.random()),c(e)))}var d=!1;function p(t){d||(d=!0,l||(null!==r?(t||(s=2),clearTimeout(r),c(0)):t||(s=1)))}return c(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new lP(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===aO.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new lP(s,n))}else{var a=n.getErrorCode()===aO.ABORT;e(!1,new lP(!1,null,a))}}))}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),lP=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function uP(t,e,n){var i=vO(t.urlParams),r=t.url+i,o=Object.assign({},t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==vT.a?vT.a.SDK_VERSION:"AppManager")}(o),new aP(r,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var cP=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new sP(t,(function(t,e){return new iP(t,e)}),uP,this,e),this.app_=t,null!=n)this.bucket_=pO.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new pO(i,""))}this.internals_=new hP(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(KO("ref",[GO(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new iP(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{pO.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return KO("refFromURL",[GO(e,!1)],arguments),new iP(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){KO("setMaxUploadRetryTime",[ZO()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){KO("setMaxOperationRetryTime",[ZO()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),hP=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();vT.a.INTERNAL.registerService("storage",(function(t,e,n){return new cP(t,new uO,n)}),{TaskState:$T,TaskEvent:QT,StringFormat:qT,Storage:cP,Reference:iP},void 0,!0);let dP=class{};function pP(t){return null==t}function fP(t){return"function"==typeof t.set}function mP(t,e){return fP(e)?e:t.ref(e)}function gP(t,e){if("string"==typeof t)return e.stringCase();if(fP(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function yP(t,e,n="on"){return new w(i=>{const r=t[n](e,(t,e)=>{i.next({snapshot:t,prevKey:e}),"once"==n&&i.complete()},i.error.bind(i));return"on"==n?{unsubscribe(){t.off(e,r)}}:{unsubscribe(){}}}).pipe(j(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),function(t,e=bf){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new uT(i,e))}(0),st())}function vP(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function _P(t,e){const{payload:n,prevKey:i,key:r}=e,o=vP(t,r),s=function(t,e){if(pP(e))return 0;{const n=vP(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(o>-1){const r=t[o-1];(r&&r.key||null)!=i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function bP(t){return(pP(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function wP(t,e){return function(t,e){return yP(t,"value","once").pipe(ou(n=>{const i=[xl(n)];return e.forEach(e=>i.push(yP(t,e))),Z(...i).pipe(uu(_P,[]))}),mx())}(t,e=bP(e))}function CP(t,e){return Z(...(e=bP(e)).map(e=>yP(t,e)))}class EP{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new xP(t,this.observables,this.project))}}class xP extends B{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let t=e[r];this.add(q(this,t,t,r))}}notifyNext(t,e,n,i,r){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class SP{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new kP(t,this.predicate))}}class kP extends m{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function TP(t,e){return function(n,i){return gP(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function OP(t){return function(){return yP(t,"value")}}let PP=class{constructor(t,e,n,i,r){this.scheduler=new Zw(r,i),this.database=r.runOutsideAngular(()=>lC(t,e).database(n||void 0))}list(t,e){const n=mP(this.database,t);let i=n;return e&&(i=e(n)),function(t,e){return{query:t,update:TP(t.ref,"update"),set:TP(t.ref,"set"),push:e=>t.ref.push(e),remove:(n=t.ref,function(t){return t?gP(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}),snapshotChanges(n){const i=wP(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},stateChanges(n){const i=CP(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},auditTrail(n){const i=function(t,e){return function(t,e){return function(t){return yP(t,"value").pipe(j(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new EP(t,n))}}(e),j(([t,e])=>{let n=t.lastKeyToLoad;const i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),(n=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new SP(n))),j(t=>t.actions));var n}(t,CP(t,e).pipe(uu((t,e)=>[...t,e],[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},valueChanges(n){const i=wP(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i)).pipe(j(t=>t.map(t=>t.payload.val())))}};var n}(i,this)}object(t){const e=mP(this.database,t);return i=this,{query:n=e,snapshotChanges(){const t=OP(n)();return i.scheduler.keepUnstableUntilFirst(i.scheduler.runOutsideAngular(t))},update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges(){const t=OP(n)();return i.scheduler.keepUnstableUntilFirst(i.scheduler.runOutsideAngular(t)).pipe(j(t=>t.payload.exists()?t.payload.val():null))}};var n,i}createPushId(){return this.database.ref().push().key}};n("NSPt");let IP=class{};class MP{}class AP{}class NP{}class RP{}let DP=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.isLoggedIn&&(window.alert("You are not allowed to access this URL!"),this.router.navigate(["dashboard"])),!0}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(vC),qt(Yd))},token:t,providedIn:"root"}),t})(),LP=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}canActivateChild(t,e){return!0}canLoad(t,e){return!0}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(vC),qt(Yd))},token:t,providedIn:"root"}),t})();class FP{}class VP{}class UP{}class qP{constructor(t,e){vl(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,e=[]){return{ngModule:qP,providers:t.serverLoaded?[{provide:KC,useValue:Object.assign({},HC,t)},{provide:GC,useValue:e,multi:!0},{provide:QC,useValue:!0}]:[{provide:KC,useValue:Object.assign({},HC,t)},{provide:GC,useValue:e,multi:!0}]}}}var BP=Pa(Ma,[Na],(function(t){return function(t){const e={},n=[];let i=!1;for(let r=0;r<t.length;r++){const o=t[r];o.token===Le&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[ei(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([Ui(512,cn,hn,[[8,[Tp,TC,DC,NE,$S,sk,fk,bk,lT]],[3,cn],Wt]),Ui(5120,Jr,ns,[[3,Jr]]),Ui(4608,Ha,Ka,[Jr,[2,Wa]]),Ui(5120,Nr,is,[vo]),Ui(5120,Kr,Qr,[]),Ui(5120,Nn,ts,[]),Ui(5120,Rn,es,[]),Ui(4608,bc,wc,[fl]),Ui(6144,Oe,null,[bc]),Ui(4608,pc,Xf,[[2,Gf],[2,qf]]),Ui(5120,Du,(function(t,e,n,i,r,o,s,a){return[new hc(t,e,n),new _c(i),new gc(r,o,s,a)]}),[fl,vo,Yr,fl,fl,pc,Zr,[2,fc]]),Ui(4608,Lu,Lu,[Du,vo]),Ui(135680,Uu,Uu,[fl]),Ui(4608,Ku,Ku,[Lu,Uu,Kr]),Ui(5120,mg,Rv,[]),Ui(5120,gy,Dv,[]),Ui(4608,Zy,Nv,[fl,mg,gy]),Ui(5120,yn,Lv,[Ku,Zy,vo]),Ui(6144,Vu,null,[Uu]),Ui(4608,So,So,[vo]),Ui(4608,Op,xv,[yn,fl]),Ui(4608,ib,ib,[]),Ui(4608,Qf,Qf,[]),Ui(4608,eS,eS,[Vx,Hx,cn,Jx,Wx,Ve,vo,fl,Qm,[2,Va]]),Ui(5120,iS,sS,[eS]),Ui(5120,mS,gS,[eS]),Ui(5120,dT,pT,[eS]),Ui(5120,aC,lC,[oC,[2,sC]]),Ui(4608,gC,gC,[oC,[2,sC],[2,cC],[2,dC],Yr,vo,[2,hC]]),Ui(4608,yC,yC,[oC,[2,sC],Yr,vo]),Ui(4608,ET,ET,[oC,[2,sC],[2,CT],Yr,vo]),Ui(4608,PP,PP,[oC,[2,sC],[2,Xw],Yr,vo]),Ui(5120,Uh,_p,[Yd]),Ui(4608,sp,sp,[]),Ui(6144,rp,null,[sp]),Ui(135680,ap,ap,[Yd,qo,so,Ve,rp]),Ui(4608,op,op,[]),Ui(5120,lp,fp,[Yd,_l,up]),Ui(5120,Ep,Cp,[bp]),Ui(5120,Xr,(function(t,e,n){return[t,(i=e,r=n,()=>{if(yl(r)){const t=Array.from(i.querySelectorAll("[class*=flex-layout-]")),e=/\bflex-layout-.+?\b/g;t.forEach(t=>{t.classList.contains("flex-layout-ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}})];var i,r}),[Ep,fl,Yr]),Ui(4608,tb,tb,[]),Ui(4608,l_,l_,[]),Ui(4608,sw,aw,[fl,Yr,rw]),Ui(4608,lw,lw,[sw,ow]),Ui(5120,Zb,(function(t){return[t]}),[lw]),Ui(4608,nw,nw,[]),Ui(6144,ew,null,[nw]),Ui(4608,iw,iw,[ew]),Ui(6144,Db,null,[iw]),Ui(4608,Rb,uw,[Db,Ve]),Ui(4608,Yb,Yb,[Rb]),Ui(4608,vC,vC,[gC,yC,Yd,vo]),Ui(4608,RS,RS,[Yb]),Ui(1073742336,pl,pl,[]),Ui(1024,ne,Pc,[]),Ui(1024,No,(function(){return[dp()]}),[]),Ui(512,bp,bp,[Ve]),Ui(1024,Wr,(function(t,e){return[(n=t,Au("probe",Ru),Au("coreTokens",Object.assign({},Nu,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Ru),wp(e)];var n}),[[2,No],bp]),Ui(512,Hr,Hr,[[2,Wr]]),Ui(131584,Vo,Vo,[vo,Zr,Ve,ne,cn,Hr]),Ui(1073742336,rs,rs,[Vo]),Ui(1073742336,Ic,Ic,[[3,Ic]]),Ui(1073742336,Vv,Vv,[]),Ui(1073742336,Kp,Kp,[]),Ui(1073742336,Tb,Tb,[]),Ui(1073742336,sb,sb,[]),Ui(1073742336,Bm,Bm,[]),Ui(1073742336,Nb,Nb,[]),Ui(1073742336,Gm,Gm,[]),Ui(1073742336,qf,qf,[[2,Uf],[2,fc]]),Ui(1073742336,am,am,[]),Ui(1073742336,Lw,Lw,[]),Ui(1073742336,Ix,Ix,[]),Ui(1073742336,wx,wx,[]),Ui(1073742336,aS,aS,[]),Ui(1073742336,um,um,[]),Ui(1073742336,_m,_m,[]),Ui(1073742336,wS,wS,[]),Ui(1073742336,xk,xk,[]),Ui(1073742336,Zf,Zf,[]),Ui(1073742336,QE,QE,[]),Ui(1073742336,Hm,Hm,[]),Ui(1073742336,Ow,Ow,[]),Ui(1073742336,Nk,Nk,[]),Ui(1073742336,Rk,Rk,[]),Ui(1073742336,fT,fT,[]),Ui(1073742336,Hk,Hk,[]),Ui(1073742336,MP,MP,[]),Ui(1073742336,AP,AP,[]),Ui(1073742336,NP,NP,[]),Ui(1073742336,RP,RP,[]),Ui(1073742336,uC,uC,[]),Ui(1073742336,gT,gT,[]),Ui(1073742336,_T,_T,[]),Ui(1073742336,dP,dP,[]),Ui(1073742336,IP,IP,[]),Ui(1024,cp,gp,[[3,Yd]]),Ui(512,yh,vh,[]),Ui(512,ep,ep,[]),Ui(256,up,{},[]),Ui(1024,La,mp,[Ra,[2,Fa],up]),Ui(512,Va,Va,[La,Ra]),Ui(512,so,so,[]),Ui(512,qo,Ho,[so,[2,zo]]),Ui(1024,zd,(function(){return[[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:qw,canActivate:[DP]},{path:"register-user",component:PC,canActivate:[DP]},{path:"dashboard",component:OE,canActivate:[LP]},{path:"countries",component:HS,canActivate:[LP]},{path:"single-country/:name",component:ZS},{path:"forgot-password",component:lk,canActivate:[DP]},{path:"verify-email-address",component:mk,canActivate:[DP]}]]}),[]),Ui(1024,Yd,vp,[Vo,yh,ep,Va,Ve,qo,so,zd,up,[2,Hd],[2,Bd]]),Ui(1073742336,pp,pp,[[2,cp],[2,Yd]]),Ui(1073742336,FP,FP,[]),Ui(1073742336,J_,J_,[]),Ui(1073742336,nb,nb,[]),Ui(1073742336,jC,jC,[]),Ui(1073742336,VP,VP,[]),Ui(1073742336,TE,TE,[]),Ui(1073742336,UP,UP,[]),Ui(1073742336,qP,qP,[[2,QC],Yr]),Ui(1073742336,cw,cw,[]),Ui(1073742336,hw,hw,[]),Ui(1073742336,eb,eb,[]),Ui(1073742336,ux,ux,[]),Ui(1073742336,Ma,Ma,[]),Ui(256,Le,!0,[]),Ui(256,Fv,"BrowserAnimations",[]),Ui(256,oC,{apiKey:"AIzaSyCizh6Ed2a5MyzYvS3b3SuAja9U7QOsSu0",authDomain:"rest-countries-8b733.firebaseapp.com",databaseURL:"https://rest-countries-8b733.firebaseio.com",projectId:"rest-countries-8b733",storageBucket:"rest-countries-8b733.appspot.com",messagingSenderId:"568980219533",appId:"1:568980219533:web:2279a332469741224864c4"},[]),Ui(256,sC,void 0,[]),Ui(256,rw,"XSRF-TOKEN",[]),Ui(256,ow,"X-XSRF-TOKEN",[])])}));(function(){if(re)throw new Error("Cannot enable prod mode after platform setup.");ie=!1})(),Oc().bootstrapModuleFactory(BP).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==l)throw Error();i.push(o<<2|s>>4),64!==a&&(i.push(s<<4&240|a>>2),64!==l&&i.push(a<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name=p,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,m.prototype.create),r}return i.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?g(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",l=new f(r,a),u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=i[h])}return l},t}();function g(t,e){return t.replace(y,(function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var _=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^a&(l^u),o=1518500249):(r=a^l^u,o=1859775393):i<60?(r=a&l|u&(a|l),o=2400959708):(r=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+r+c+o+n[i]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=C),void 0===i.error&&(i.error=C),void 0===i.complete&&(i.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function E(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=f,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var s=r-55296;o(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(E(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(E(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);